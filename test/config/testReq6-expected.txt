- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42
    key: miner
    table: USER_coin_coin-table
  cmd: coinbase
- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.99
    key: sender00
    table: USER_coin_coin-table
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.99
    key: sender00
    table: USER_coin_coin-table
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42.01
    key: miner
    table: USER_coin_coin-table
  cmd:
    tag: Code
    contents: (+ 1 1)
- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.98
    key: sender00
    table: USER_coin_coin-table
  - value:
      pred: keys-all
      keys:
      - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
    key: test-admin
    table: SYS_keysets
  - value:
      module:
        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
        blessed: []
        interfaces: []
        imports: []
        name:
          namespace: null
          name: test1
        code: |
          (module test1 'test-admin

            (defschema account
              balance:decimal
              amount:decimal
              data)

            (deftable accounts:{account})

            (defun create-account (id init-bal)
              (insert accounts id
                   { "balance": init-bal, "amount": init-bal, "data": "Created account" }))

            (defun transfer (src dest amount)
              "transfer AMOUNT from SRC to DEST for unencrypted accounts"
              (debit src amount { "transfer-to": dest })
              (credit dest amount { "transfer-from": src }))

            (defpact payment (src-entity src dest-entity dest amount)
              "Two-phase confidential payment, sending money from SRC at SRC-ENTITY to DEST at DEST-ENTITY."

              (step-with-rollback
               src-entity
               (let ((result (debit src amount { "transfer-to": dest, "message": "Starting pact" })))
                 (yield { "result": result, "amount": amount, "tx": (pact-id) }))
               (credit src amount { "rollback": (pact-id) }))

              (step
               dest-entity
               (resume { "result":= result, "amount":= debit-amount }
                 (credit dest debit-amount
                         { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))))

            (defun debit (acct amount data)
              "Debit ACCT for AMOUNT, enforcing positive amount and sufficient funds, annotating with DATA"
              (enforce-positive amount)
              (with-read accounts acct { "balance":= balance }
                (check-balance balance amount)
                (update accounts acct
                      { "balance": (- balance amount), "amount": (- amount)
                      , "data": data })))

            (defun credit (acct amount data)
              "Credit ACCT for AMOUNT, enforcing positive amount"
              (enforce-positive amount)
              (with-read accounts acct { "balance":= balance }
                (update accounts acct
                      { "balance": (+ balance amount), "amount": amount
                      , "data": data })))


            (defun read-account (id)
              "Read data for account ID"
              (+ { "account": id } (read accounts id)))

            (defun check-balance (balance amount)
              (enforce (<= amount balance) "Insufficient funds"))

            (defun enforce-positive (amount)
              (enforce (>= amount 0.0) "amount must be positive"))

           (defun read-all ()
             (map (read-account) (keys accounts)))

           (defun read-all-global ()
             (map (read-account) ["Acct1" "Acct2"]))

           (defun create-global-accounts ()
             (create-account "Acct1" 1000000.0)
             (create-account "Acct2" 0.0)
             (read-all))

           (defpact create-private-accounts ()
             (step "Alice" (create-account "A" 1000.0))
             (step "Bob" (create-account "B" 1000.0))
             (step "Carol" (create-account "C" 1000.0))
             (step "Dinesh" (create-account "D" 1000.0)))

          )
        meta:
          model: []
          docs: null
        governance:
          keyset: test-admin
      refMap:
        payment:
          ref:
            defType: Defpact
            funType:
              args:
              - name: src-entity
                type:
                  tag: TypeVar
                  name: j
                  constraint: []
                info:
                  d:
                  - 11
                  - 558
                  - 558
                  c: 'src-entity '
              - name: src
                type:
                  tag: TypeVar
                  name: k
                  constraint: []
                info:
                  d:
                  - 4
                  - 569
                  - 569
                  c: 'src '
              - name: dest-entity
                type:
                  tag: TypeVar
                  name: l
                  constraint: []
                info:
                  d:
                  - 12
                  - 573
                  - 573
                  c: 'dest-entity '
              - name: dest
                type:
                  tag: TypeVar
                  name: m
                  constraint: []
                info:
                  d:
                  - 5
                  - 585
                  - 585
                  c: 'dest '
              - name: amount
                type:
                  tag: TypeVar
                  name: 'n'
                  constraint: []
                info:
                  d:
                  - 6
                  - 590
                  - 590
                  c: amount
              return:
                tag: TypeVar
                name: i
                constraint: []
            defName: payment
            defBody:
              scope:
                list:
                - rb:
                    args:
                    - var:
                        b: 1
                      i:
                        d:
                        - 4
                        - 915
                        - 915
                        c: 'src '
                    - var:
                        b: 4
                      i:
                        d:
                        - 7
                        - 919
                        - 919
                        c: 'amount '
                    - obj:
                        rollback:
                          args: []
                          fun:
                            var:
                              f:
                                var:
                                  direct:
                                    pdnat: pact-id
                                i: null
                            i:
                              d:
                              - 7
                              - 941
                              - 941
                              c: pact-id
                          info:
                            d:
                            - 10
                            - 940
                            - 940
                            c: '(pact-id) '
                      keyorder:
                      - rollback
                      type: '*'
                      i:
                        d:
                        - 25
                        - 926
                        - 926
                        c: '{ "rollback": (pact-id) }'
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: acct
                                  type:
                                    tag: TypeVar
                                    name: x
                                    constraint: []
                                  info:
                                    d:
                                    - 5
                                    - 1557
                                    - 1557
                                    c: 'acct '
                                - name: amount
                                  type:
                                    tag: TypeVar
                                    name: 'y'
                                    constraint: []
                                  info:
                                    d:
                                    - 7
                                    - 1562
                                    - 1562
                                    c: 'amount '
                                - name: data
                                  type:
                                    tag: TypeVar
                                    name: z
                                    constraint: []
                                  info:
                                    d:
                                    - 4
                                    - 1569
                                    - 1569
                                    c: data
                                return:
                                  tag: TypeVar
                                  name: w
                                  constraint: []
                              defName: credit
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        b: 1
                                      i:
                                        d:
                                        - 6
                                        - 1653
                                        - 1653
                                        c: amount
                                    fun:
                                      var:
                                        f:
                                          var:
                                            ref:
                                              defType: Defun
                                              funType:
                                                args:
                                                - name: amount
                                                  type:
                                                    tag: TypeVar
                                                    name: ah
                                                    constraint: []
                                                  info:
                                                    d:
                                                    - 6
                                                    - 2067
                                                    - 2067
                                                    c: amount
                                                return:
                                                  tag: TypeVar
                                                  name: ag
                                                  constraint: []
                                              defName: enforce-positive
                                              defBody:
                                                scope:
                                                  list:
                                                  - args:
                                                    - args:
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 7
                                                          - 2092
                                                          - 2092
                                                          c: 'amount '
                                                      - i:
                                                          d:
                                                          - 3
                                                          - 2099
                                                          - 2099
                                                          c: '0.0'
                                                        lit: 0
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: '>='
                                                            i: null
                                                        i:
                                                          d:
                                                          - 3
                                                          - 2089
                                                          - 2089
                                                          c: '>= '
                                                      info:
                                                        d:
                                                        - 16
                                                        - 2088
                                                        - 2088
                                                        c: '(>= amount 0.0) '
                                                    - i:
                                                        d:
                                                        - 25
                                                        - 2104
                                                        - 2104
                                                        c: '"amount must be positive"'
                                                      lit: amount must be positive
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: enforce
                                                          i: null
                                                      i:
                                                        d:
                                                        - 8
                                                        - 2080
                                                        - 2080
                                                        c: 'enforce '
                                                    info:
                                                      d:
                                                      - 51
                                                      - 2079
                                                      - 2079
                                                      c: (enforce (>= amount 0.0)
                                                        "amount must be positive")
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 92
                                                    - 2042
                                                    - 2042
                                                    c: "(defun enforce-positive (amount)\n
                                                      \   (enforce (>= amount 0.0)
                                                      \"amount must be positive\"))\n\n "
                                              module:
                                                namespace: null
                                                name: test1
                                              meta:
                                                model: []
                                                docs: null
                                              info:
                                                d:
                                                - 92
                                                - 2042
                                                - 2042
                                                c: "(defun enforce-positive (amount)\n
                                                  \   (enforce (>= amount 0.0) \"amount
                                                  must be positive\"))\n\n "
                                          i: null
                                      i:
                                        d:
                                        - 17
                                        - 1636
                                        - 1636
                                        c: 'enforce-positive '
                                    info:
                                      d:
                                      - 30
                                      - 1635
                                      - 1635
                                      c: "(enforce-positive amount)\n    "
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 1676
                                        - 1676
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 5
                                        - 1685
                                        - 1685
                                        c: 'acct '
                                    - body:
                                        scope:
                                          list:
                                          - args:
                                            - var:
                                                f:
                                                  var:
                                                    f:
                                                      var:
                                                        ref:
                                                          hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                          modname:
                                                            namespace: null
                                                            name: test1
                                                          name: accounts
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          type:
                                                            var:
                                                              ref:
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: account
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                i:
                                                                  d:
                                                                  - 71
                                                                  - 92
                                                                  - 92
                                                                  c: "(defschema account\n
                                                                    \   balance:decimal\n
                                                                    \   amount:decimal\n
                                                                    \   data)\n\n
                                                                    \ "
                                                                fields:
                                                                - name: balance
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 7
                                                                    - 115
                                                                    - 115
                                                                    c: balance
                                                                - name: amount
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 135
                                                                    - 135
                                                                    c: amount
                                                                - name: data
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: a
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 4
                                                                    - 154
                                                                    - 154
                                                                    c: data
                                                            i: null
                                                          i:
                                                            d:
                                                            - 33
                                                            - 163
                                                            - 163
                                                            c: "(deftable accounts:{account})\n\n
                                                              \ "
                                                      i: null
                                                  i: null
                                              i:
                                                d:
                                                - 9
                                                - 1728
                                                - 1728
                                                c: 'accounts '
                                            - var:
                                                f:
                                                  var:
                                                    b: 0
                                                  i: null
                                              i:
                                                d:
                                                - 17
                                                - 1737
                                                - 1737
                                                c: "acct\n            "
                                            - obj:
                                                amount:
                                                  var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 19
                                                    - 1797
                                                    - 1797
                                                    c: "amount\n            "
                                                data:
                                                  var:
                                                    f:
                                                      var:
                                                        b: 2
                                                      i: null
                                                  i:
                                                    d:
                                                    - 5
                                                    - 1826
                                                    - 1826
                                                    c: 'data '
                                                balance:
                                                  args:
                                                  - var:
                                                      b: 0
                                                    i:
                                                      d:
                                                      - 8
                                                      - 1770
                                                      - 1770
                                                      c: 'balance '
                                                  - var:
                                                      f:
                                                        var:
                                                          b: 1
                                                        i: null
                                                    i:
                                                      d:
                                                      - 6
                                                      - 1778
                                                      - 1778
                                                      c: amount
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: +
                                                            i: null
                                                        i: null
                                                    i:
                                                      d:
                                                      - 2
                                                      - 1768
                                                      - 1768
                                                      c: '+ '
                                                  info:
                                                    d:
                                                    - 18
                                                    - 1767
                                                    - 1767
                                                    c: (+ balance amount)
                                              keyorder:
                                              - balance
                                              - amount
                                              - data
                                              type: '*'
                                              i:
                                                d:
                                                - 78
                                                - 1754
                                                - 1754
                                                c: |-
                                                  { "balance": (+ balance amount), "amount": amount
                                                              , "data": data }
                                            fun:
                                              var:
                                                f:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: update
                                                      i: null
                                                  i: null
                                              i:
                                                d:
                                                - 7
                                                - 1721
                                                - 1721
                                                c: 'update '
                                            info:
                                              d:
                                              - 113
                                              - 1720
                                              - 1720
                                              c: |-
                                                (update accounts acct
                                                            { "balance": (+ balance amount), "amount": amount
                                                            , "data": data })
                                          type: '*'
                                          i:
                                            d:
                                            - 169
                                            - 1665
                                            - 1665
                                            c: |-
                                              (with-read accounts acct { "balance":= balance }
                                                    (update accounts acct
                                                          { "balance": (+ balance amount), "amount": amount
                                                          , "data": data }))
                                      pairs:
                                      - arg:
                                          name: balance
                                          type:
                                            tag: TypeVar
                                            name: aa
                                            constraint: []
                                          info:
                                            d:
                                            - 8
                                            - 1704
                                            - 1704
                                            c: 'balance '
                                        val:
                                          i:
                                            d:
                                            - 9
                                            - 1692
                                            - 1692
                                            c: '"balance"'
                                          lit: balance
                                      type:
                                        bind: '*'
                                      i:
                                        d:
                                        - 30
                                        - 1690
                                        - 1690
                                        c: "{ \"balance\":= balance }\n      "
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: with-read
                                          i: null
                                      i:
                                        d:
                                        - 10
                                        - 1666
                                        - 1666
                                        c: 'with-read '
                                    info:
                                      d:
                                      - 169
                                      - 1665
                                      - 1665
                                      c: |-
                                        (with-read accounts acct { "balance":= balance }
                                              (update accounts acct
                                                    { "balance": (+ balance amount), "amount": amount
                                                    , "data": data }))
                                  type: '*'
                                  i:
                                    d:
                                    - 298
                                    - 1542
                                    - 1542
                                    c: "(defun credit (acct amount data)\n    \"Credit
                                      ACCT for AMOUNT, enforcing positive amount\"\n
                                      \   (enforce-positive amount)\n    (with-read
                                      accounts acct { \"balance\":= balance }\n      (update
                                      accounts acct\n            { \"balance\": (+
                                      balance amount), \"amount\": amount\n            ,
                                      \"data\": data })))\n\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Credit ACCT for AMOUNT, enforcing positive amount
                              info:
                                d:
                                - 298
                                - 1542
                                - 1542
                                c: "(defun credit (acct amount data)\n    \"Credit
                                  ACCT for AMOUNT, enforcing positive amount\"\n    (enforce-positive
                                  amount)\n    (with-read accounts acct { \"balance\":=
                                  balance }\n      (update accounts acct\n            {
                                  \"balance\": (+ balance amount), \"amount\": amount\n
                                  \           , \"data\": data })))\n\n\n  "
                          i: null
                      i:
                        d:
                        - 7
                        - 908
                        - 908
                        c: 'credit '
                    info:
                      d:
                      - 45
                      - 907
                      - 907
                      c: '(credit src amount { "rollback": (pact-id) })'
                  exec:
                    body:
                      scope:
                        list:
                        - args:
                          - obj:
                              tx:
                                args: []
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: pact-id
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 7
                                    - 889
                                    - 889
                                    c: pact-id
                                info:
                                  d:
                                  - 10
                                  - 888
                                  - 888
                                  c: '(pact-id) '
                              amount:
                                var:
                                  f:
                                    var:
                                      b: 4
                                    i: null
                                i:
                                  d:
                                  - 6
                                  - 874
                                  - 874
                                  c: amount
                              result:
                                var:
                                  b: 0
                                i:
                                  d:
                                  - 6
                                  - 856
                                  - 856
                                  c: result
                            keyorder:
                            - result
                            - amount
                            - tx
                            type: '*'
                            i:
                              d:
                              - 55
                              - 844
                              - 844
                              c: '{ "result": result, "amount": amount, "tx": (pact-id)
                                }'
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: yield
                                    i: null
                                i: null
                            i:
                              d:
                              - 6
                              - 838
                              - 838
                              c: 'yield '
                          info:
                            d:
                            - 63
                            - 837
                            - 837
                            c: '(yield { "result": result, "amount": amount, "tx":
                              (pact-id) })'
                        type: '*'
                        i:
                          d:
                          - 164
                          - 743
                          - 743
                          c: "(let ((result (debit src amount { \"transfer-to\": dest,
                            \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                            result, \"amount\": amount, \"tx\": (pact-id) }))\n     "
                    pairs:
                    - arg:
                        name: result
                        type:
                          tag: TypeVar
                          name: o
                          constraint: []
                        info:
                          d:
                          - 7
                          - 750
                          - 750
                          c: 'result '
                      val:
                        args:
                        - var:
                            b: 1
                          i:
                            d:
                            - 4
                            - 764
                            - 764
                            c: 'src '
                        - var:
                            b: 4
                          i:
                            d:
                            - 7
                            - 768
                            - 768
                            c: 'amount '
                        - obj:
                            transfer-to:
                              var:
                                b: 3
                              i:
                                d:
                                - 4
                                - 792
                                - 792
                                c: dest
                            message:
                              i:
                                d:
                                - 16
                                - 809
                                - 809
                                c: '"Starting pact" '
                              lit: Starting pact
                          keyorder:
                          - transfer-to
                          - message
                          type: '*'
                          i:
                            d:
                            - 51
                            - 775
                            - 775
                            c: '{ "transfer-to": dest, "message": "Starting pact"
                              }'
                        fun:
                          var:
                            f:
                              var:
                                ref:
                                  defType: Defun
                                  funType:
                                    args:
                                    - name: acct
                                      type:
                                        tag: TypeVar
                                        name: s
                                        constraint: []
                                      info:
                                        d:
                                        - 5
                                        - 1177
                                        - 1177
                                        c: 'acct '
                                    - name: amount
                                      type:
                                        tag: TypeVar
                                        name: t
                                        constraint: []
                                      info:
                                        d:
                                        - 7
                                        - 1182
                                        - 1182
                                        c: 'amount '
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: u
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 1189
                                        - 1189
                                        c: data
                                    return:
                                      tag: TypeVar
                                      name: r
                                      constraint: []
                                  defName: debit
                                  defBody:
                                    scope:
                                      list:
                                      - args:
                                        - var:
                                            b: 1
                                          i:
                                            d:
                                            - 6
                                            - 1315
                                            - 1315
                                            c: amount
                                        fun:
                                          var:
                                            f:
                                              var:
                                                ref:
                                                  defType: Defun
                                                  funType:
                                                    args:
                                                    - name: amount
                                                      type:
                                                        tag: TypeVar
                                                        name: ah
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 6
                                                        - 2067
                                                        - 2067
                                                        c: amount
                                                    return:
                                                      tag: TypeVar
                                                      name: ag
                                                      constraint: []
                                                  defName: enforce-positive
                                                  defBody:
                                                    scope:
                                                      list:
                                                      - args:
                                                        - args:
                                                          - var:
                                                              b: 0
                                                            i:
                                                              d:
                                                              - 7
                                                              - 2092
                                                              - 2092
                                                              c: 'amount '
                                                          - i:
                                                              d:
                                                              - 3
                                                              - 2099
                                                              - 2099
                                                              c: '0.0'
                                                            lit: 0
                                                          fun:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '>='
                                                                i: null
                                                            i:
                                                              d:
                                                              - 3
                                                              - 2089
                                                              - 2089
                                                              c: '>= '
                                                          info:
                                                            d:
                                                            - 16
                                                            - 2088
                                                            - 2088
                                                            c: '(>= amount 0.0) '
                                                        - i:
                                                            d:
                                                            - 25
                                                            - 2104
                                                            - 2104
                                                            c: '"amount must be positive"'
                                                          lit: amount must be positive
                                                        fun:
                                                          var:
                                                            f:
                                                              var:
                                                                direct:
                                                                  pdnat: enforce
                                                              i: null
                                                          i:
                                                            d:
                                                            - 8
                                                            - 2080
                                                            - 2080
                                                            c: 'enforce '
                                                        info:
                                                          d:
                                                          - 51
                                                          - 2079
                                                          - 2079
                                                          c: (enforce (>= amount 0.0)
                                                            "amount must be positive")
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 92
                                                        - 2042
                                                        - 2042
                                                        c: "(defun enforce-positive
                                                          (amount)\n    (enforce (>=
                                                          amount 0.0) \"amount must
                                                          be positive\"))\n\n "
                                                  module:
                                                    namespace: null
                                                    name: test1
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  info:
                                                    d:
                                                    - 92
                                                    - 2042
                                                    - 2042
                                                    c: "(defun enforce-positive (amount)\n
                                                      \   (enforce (>= amount 0.0)
                                                      \"amount must be positive\"))\n\n "
                                              i: null
                                          i:
                                            d:
                                            - 17
                                            - 1298
                                            - 1298
                                            c: 'enforce-positive '
                                        info:
                                          d:
                                          - 30
                                          - 1297
                                          - 1297
                                          c: "(enforce-positive amount)\n    "
                                      - args:
                                        - var:
                                            f:
                                              var:
                                                ref:
                                                  hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: accounts
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  type:
                                                    var:
                                                      ref:
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: account
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        i:
                                                          d:
                                                          - 71
                                                          - 92
                                                          - 92
                                                          c: "(defschema account\n
                                                            \   balance:decimal\n
                                                            \   amount:decimal\n    data)\n\n
                                                            \ "
                                                        fields:
                                                        - name: balance
                                                          type: decimal
                                                          info:
                                                            d:
                                                            - 7
                                                            - 115
                                                            - 115
                                                            c: balance
                                                        - name: amount
                                                          type: decimal
                                                          info:
                                                            d:
                                                            - 6
                                                            - 135
                                                            - 135
                                                            c: amount
                                                        - name: data
                                                          type:
                                                            tag: TypeVar
                                                            name: a
                                                            constraint: []
                                                          info:
                                                            d:
                                                            - 4
                                                            - 154
                                                            - 154
                                                            c: data
                                                    i: null
                                                  i:
                                                    d:
                                                    - 33
                                                    - 163
                                                    - 163
                                                    c: "(deftable accounts:{account})\n\n
                                                      \ "
                                              i: null
                                          i:
                                            d:
                                            - 9
                                            - 1338
                                            - 1338
                                            c: 'accounts '
                                        - var:
                                            b: 0
                                          i:
                                            d:
                                            - 5
                                            - 1347
                                            - 1347
                                            c: 'acct '
                                        - body:
                                            scope:
                                              list:
                                              - args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1397
                                                    - 1397
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1405
                                                    - 1405
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            ref:
                                                              defType: Defun
                                                              funType:
                                                                args:
                                                                - name: balance
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: ae
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 8
                                                                    - 1967
                                                                    - 1967
                                                                    c: 'balance '
                                                                - name: amount
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: af
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 1975
                                                                    - 1975
                                                                    c: amount
                                                                return:
                                                                  tag: TypeVar
                                                                  name: ad
                                                                  constraint: []
                                                              defName: check-balance
                                                              defBody:
                                                                scope:
                                                                  list:
                                                                  - args:
                                                                    - args:
                                                                      - var:
                                                                          b: 1
                                                                        i:
                                                                          d:
                                                                          - 7
                                                                          - 2000
                                                                          - 2000
                                                                          c: 'amount '
                                                                      - var:
                                                                          b: 0
                                                                        i:
                                                                          d:
                                                                          - 7
                                                                          - 2007
                                                                          - 2007
                                                                          c: balance
                                                                      fun:
                                                                        var:
                                                                          f:
                                                                            var:
                                                                              direct:
                                                                                pdnat: <=
                                                                            i: null
                                                                        i:
                                                                          d:
                                                                          - 3
                                                                          - 1997
                                                                          - 1997
                                                                          c: '<= '
                                                                      info:
                                                                        d:
                                                                        - 20
                                                                        - 1996
                                                                        - 1996
                                                                        c: '(<= amount
                                                                          balance) '
                                                                    - i:
                                                                        d:
                                                                        - 20
                                                                        - 2016
                                                                        - 2016
                                                                        c: '"Insufficient
                                                                          funds"'
                                                                      lit: Insufficient
                                                                        funds
                                                                    fun:
                                                                      var:
                                                                        f:
                                                                          var:
                                                                            direct:
                                                                              pdnat: enforce
                                                                          i: null
                                                                      i:
                                                                        d:
                                                                        - 8
                                                                        - 1988
                                                                        - 1988
                                                                        c: 'enforce '
                                                                    info:
                                                                      d:
                                                                      - 50
                                                                      - 1987
                                                                      - 1987
                                                                      c: (enforce
                                                                        (<= amount
                                                                        balance) "Insufficient
                                                                        funds")
                                                                  type: '*'
                                                                  i:
                                                                    d:
                                                                    - 97
                                                                    - 1945
                                                                    - 1945
                                                                    c: "(defun check-balance
                                                                      (balance amount)\n
                                                                      \   (enforce
                                                                      (<= amount balance)
                                                                      \"Insufficient
                                                                      funds\"))\n\n
                                                                      \ "
                                                              module:
                                                                namespace: null
                                                                name: test1
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              info:
                                                                d:
                                                                - 97
                                                                - 1945
                                                                - 1945
                                                                c: "(defun check-balance
                                                                  (balance amount)\n
                                                                  \   (enforce (<=
                                                                  amount balance)
                                                                  \"Insufficient funds\"))\n\n
                                                                  \ "
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 14
                                                    - 1383
                                                    - 1383
                                                    c: 'check-balance '
                                                info:
                                                  d:
                                                  - 37
                                                  - 1382
                                                  - 1382
                                                  c: "(check-balance balance amount)\n
                                                    \     "
                                              - args:
                                                - var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            ref:
                                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: accounts
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              type:
                                                                var:
                                                                  ref:
                                                                    modname:
                                                                      namespace: null
                                                                      name: test1
                                                                    name: account
                                                                    meta:
                                                                      model: []
                                                                      docs: null
                                                                    i:
                                                                      d:
                                                                      - 71
                                                                      - 92
                                                                      - 92
                                                                      c: "(defschema
                                                                        account\n
                                                                        \   balance:decimal\n
                                                                        \   amount:decimal\n
                                                                        \   data)\n\n
                                                                        \ "
                                                                    fields:
                                                                    - name: balance
                                                                      type: decimal
                                                                      info:
                                                                        d:
                                                                        - 7
                                                                        - 115
                                                                        - 115
                                                                        c: balance
                                                                    - name: amount
                                                                      type: decimal
                                                                      info:
                                                                        d:
                                                                        - 6
                                                                        - 135
                                                                        - 135
                                                                        c: amount
                                                                    - name: data
                                                                      type:
                                                                        tag: TypeVar
                                                                        name: a
                                                                        constraint: []
                                                                      info:
                                                                        d:
                                                                        - 4
                                                                        - 154
                                                                        - 154
                                                                        c: data
                                                                i: null
                                                              i:
                                                                d:
                                                                - 33
                                                                - 163
                                                                - 163
                                                                c: "(deftable accounts:{account})\n\n
                                                                  \ "
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 9
                                                    - 1427
                                                    - 1427
                                                    c: 'accounts '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 0
                                                      i: null
                                                  i:
                                                    d:
                                                    - 17
                                                    - 1436
                                                    - 1436
                                                    c: "acct\n            "
                                                - obj:
                                                    amount:
                                                      args:
                                                      - var:
                                                          f:
                                                            var:
                                                              b: 1
                                                            i: null
                                                        i:
                                                          d:
                                                          - 6
                                                          - 1499
                                                          - 1499
                                                          c: amount
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '-'
                                                                i: null
                                                            i: null
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1497
                                                          - 1497
                                                          c: '- '
                                                      info:
                                                        d:
                                                        - 23
                                                        - 1496
                                                        - 1496
                                                        c: "(- amount)\n            "
                                                    data:
                                                      var:
                                                        f:
                                                          var:
                                                            b: 2
                                                          i: null
                                                      i:
                                                        d:
                                                        - 5
                                                        - 1529
                                                        - 1529
                                                        c: 'data '
                                                    balance:
                                                      args:
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 8
                                                          - 1469
                                                          - 1469
                                                          c: 'balance '
                                                      - var:
                                                          f:
                                                            var:
                                                              b: 1
                                                            i: null
                                                        i:
                                                          d:
                                                          - 6
                                                          - 1477
                                                          - 1477
                                                          c: amount
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '-'
                                                                i: null
                                                            i: null
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1467
                                                          - 1467
                                                          c: '- '
                                                      info:
                                                        d:
                                                        - 18
                                                        - 1466
                                                        - 1466
                                                        c: (- balance amount)
                                                  keyorder:
                                                  - balance
                                                  - amount
                                                  - data
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 82
                                                    - 1453
                                                    - 1453
                                                    c: |-
                                                      { "balance": (- balance amount), "amount": (- amount)
                                                                  , "data": data }
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: update
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 7
                                                    - 1420
                                                    - 1420
                                                    c: 'update '
                                                info:
                                                  d:
                                                  - 117
                                                  - 1419
                                                  - 1419
                                                  c: |-
                                                    (update accounts acct
                                                                { "balance": (- balance amount), "amount": (- amount)
                                                                , "data": data })
                                              type: '*'
                                              i:
                                                d:
                                                - 210
                                                - 1327
                                                - 1327
                                                c: |-
                                                  (with-read accounts acct { "balance":= balance }
                                                        (check-balance balance amount)
                                                        (update accounts acct
                                                              { "balance": (- balance amount), "amount": (- amount)
                                                              , "data": data }))
                                          pairs:
                                          - arg:
                                              name: balance
                                              type:
                                                tag: TypeVar
                                                name: v
                                                constraint: []
                                              info:
                                                d:
                                                - 8
                                                - 1366
                                                - 1366
                                                c: 'balance '
                                            val:
                                              i:
                                                d:
                                                - 9
                                                - 1354
                                                - 1354
                                                c: '"balance"'
                                              lit: balance
                                          type:
                                            bind: '*'
                                          i:
                                            d:
                                            - 30
                                            - 1352
                                            - 1352
                                            c: "{ \"balance\":= balance }\n      "
                                        fun:
                                          var:
                                            f:
                                              var:
                                                direct:
                                                  pdnat: with-read
                                              i: null
                                          i:
                                            d:
                                            - 10
                                            - 1328
                                            - 1328
                                            c: 'with-read '
                                        info:
                                          d:
                                          - 210
                                          - 1327
                                          - 1327
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (check-balance balance amount)
                                                  (update accounts acct
                                                        { "balance": (- balance amount), "amount": (- amount)
                                                        , "data": data }))
                                      type: '*'
                                      i:
                                        d:
                                        - 379
                                        - 1163
                                        - 1163
                                        c: "(defun debit (acct amount data)\n    \"Debit
                                          ACCT for AMOUNT, enforcing positive amount
                                          and sufficient funds, annotating with DATA\"\n
                                          \   (enforce-positive amount)\n    (with-read
                                          accounts acct { \"balance\":= balance }\n
                                          \     (check-balance balance amount)\n      (update
                                          accounts acct\n            { \"balance\":
                                          (- balance amount), \"amount\": (- amount)\n
                                          \           , \"data\": data })))\n\n  "
                                  module:
                                    namespace: null
                                    name: test1
                                  meta:
                                    model: []
                                    docs: Debit ACCT for AMOUNT, enforcing positive
                                      amount and sufficient funds, annotating with
                                      DATA
                                  info:
                                    d:
                                    - 379
                                    - 1163
                                    - 1163
                                    c: "(defun debit (acct amount data)\n    \"Debit
                                      ACCT for AMOUNT, enforcing positive amount and
                                      sufficient funds, annotating with DATA\"\n    (enforce-positive
                                      amount)\n    (with-read accounts acct { \"balance\":=
                                      balance }\n      (check-balance balance amount)\n
                                      \     (update accounts acct\n            { \"balance\":
                                      (- balance amount), \"amount\": (- amount)\n
                                      \           , \"data\": data })))\n\n  "
                              i: null
                          i:
                            d:
                            - 6
                            - 758
                            - 758
                            c: 'debit '
                        info:
                          d:
                          - 70
                          - 757
                          - 757
                          c: '(debit src amount { "transfer-to": dest, "message":
                            "Starting pact" })'
                    type: let
                    i:
                      d:
                      - 164
                      - 743
                      - 743
                      c: "(let ((result (debit src amount { \"transfer-to\": dest,
                        \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                        result, \"amount\": amount, \"tx\": (pact-id) }))\n     "
                  ent:
                    var:
                      b: 0
                    i:
                      d:
                      - 16
                      - 727
                      - 727
                      c: "src-entity\n     "
                  i:
                    d:
                    - 257
                    - 702
                    - 702
                    c: "(step-with-rollback\n     src-entity\n     (let ((result (debit
                      src amount { \"transfer-to\": dest, \"message\": \"Starting
                      pact\" })))\n       (yield { \"result\": result, \"amount\":
                      amount, \"tx\": (pact-id) }))\n     (credit src amount { \"rollback\":
                      (pact-id) }))\n\n    "
                - rb: null
                  exec:
                    args:
                    - body:
                        scope:
                          list:
                          - args:
                            - var:
                                f:
                                  var:
                                    b: 3
                                  i: null
                              i:
                                d:
                                - 5
                                - 1057
                                - 1057
                                c: 'dest '
                            - var:
                                b: 1
                              i:
                                d:
                                - 28
                                - 1062
                                - 1062
                                c: "debit-amount\n               "
                            - obj:
                                tx:
                                  args: []
                                  fun:
                                    var:
                                      f:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: pact-id
                                            i: null
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 1145
                                      - 1145
                                      c: pact-id
                                  info:
                                    d:
                                    - 10
                                    - 1144
                                    - 1144
                                    c: '(pact-id) '
                                debit-result:
                                  var:
                                    b: 0
                                  i:
                                    d:
                                    - 6
                                    - 1130
                                    - 1130
                                    c: result
                                transfer-from:
                                  var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 3
                                    - 1109
                                    - 1109
                                    c: src
                              keyorder:
                              - transfer-from
                              - debit-result
                              - tx
                              type: '*'
                              i:
                                d:
                                - 65
                                - 1090
                                - 1090
                                c: '{ "transfer-from": src, "debit-result": result,
                                  "tx": (pact-id) }'
                            fun:
                              var:
                                f:
                                  var:
                                    f:
                                      var:
                                        ref:
                                          defType: Defun
                                          funType:
                                            args:
                                            - name: acct
                                              type:
                                                tag: TypeVar
                                                name: x
                                                constraint: []
                                              info:
                                                d:
                                                - 5
                                                - 1557
                                                - 1557
                                                c: 'acct '
                                            - name: amount
                                              type:
                                                tag: TypeVar
                                                name: 'y'
                                                constraint: []
                                              info:
                                                d:
                                                - 7
                                                - 1562
                                                - 1562
                                                c: 'amount '
                                            - name: data
                                              type:
                                                tag: TypeVar
                                                name: z
                                                constraint: []
                                              info:
                                                d:
                                                - 4
                                                - 1569
                                                - 1569
                                                c: data
                                            return:
                                              tag: TypeVar
                                              name: w
                                              constraint: []
                                          defName: credit
                                          defBody:
                                            scope:
                                              list:
                                              - args:
                                                - var:
                                                    b: 1
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1653
                                                    - 1653
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        ref:
                                                          defType: Defun
                                                          funType:
                                                            args:
                                                            - name: amount
                                                              type:
                                                                tag: TypeVar
                                                                name: ah
                                                                constraint: []
                                                              info:
                                                                d:
                                                                - 6
                                                                - 2067
                                                                - 2067
                                                                c: amount
                                                            return:
                                                              tag: TypeVar
                                                              name: ag
                                                              constraint: []
                                                          defName: enforce-positive
                                                          defBody:
                                                            scope:
                                                              list:
                                                              - args:
                                                                - args:
                                                                  - var:
                                                                      b: 0
                                                                    i:
                                                                      d:
                                                                      - 7
                                                                      - 2092
                                                                      - 2092
                                                                      c: 'amount '
                                                                  - i:
                                                                      d:
                                                                      - 3
                                                                      - 2099
                                                                      - 2099
                                                                      c: '0.0'
                                                                    lit: 0
                                                                  fun:
                                                                    var:
                                                                      f:
                                                                        var:
                                                                          direct:
                                                                            pdnat: '>='
                                                                        i: null
                                                                    i:
                                                                      d:
                                                                      - 3
                                                                      - 2089
                                                                      - 2089
                                                                      c: '>= '
                                                                  info:
                                                                    d:
                                                                    - 16
                                                                    - 2088
                                                                    - 2088
                                                                    c: '(>= amount
                                                                      0.0) '
                                                                - i:
                                                                    d:
                                                                    - 25
                                                                    - 2104
                                                                    - 2104
                                                                    c: '"amount must
                                                                      be positive"'
                                                                  lit: amount must
                                                                    be positive
                                                                fun:
                                                                  var:
                                                                    f:
                                                                      var:
                                                                        direct:
                                                                          pdnat: enforce
                                                                      i: null
                                                                  i:
                                                                    d:
                                                                    - 8
                                                                    - 2080
                                                                    - 2080
                                                                    c: 'enforce '
                                                                info:
                                                                  d:
                                                                  - 51
                                                                  - 2079
                                                                  - 2079
                                                                  c: (enforce (>=
                                                                    amount 0.0) "amount
                                                                    must be positive")
                                                              type: '*'
                                                              i:
                                                                d:
                                                                - 92
                                                                - 2042
                                                                - 2042
                                                                c: "(defun enforce-positive
                                                                  (amount)\n    (enforce
                                                                  (>= amount 0.0)
                                                                  \"amount must be
                                                                  positive\"))\n\n "
                                                          module:
                                                            namespace: null
                                                            name: test1
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          info:
                                                            d:
                                                            - 92
                                                            - 2042
                                                            - 2042
                                                            c: "(defun enforce-positive
                                                              (amount)\n    (enforce
                                                              (>= amount 0.0) \"amount
                                                              must be positive\"))\n\n "
                                                      i: null
                                                  i:
                                                    d:
                                                    - 17
                                                    - 1636
                                                    - 1636
                                                    c: 'enforce-positive '
                                                info:
                                                  d:
                                                  - 30
                                                  - 1635
                                                  - 1635
                                                  c: "(enforce-positive amount)\n
                                                    \   "
                                              - args:
                                                - var:
                                                    f:
                                                      var:
                                                        ref:
                                                          hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                          modname:
                                                            namespace: null
                                                            name: test1
                                                          name: accounts
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          type:
                                                            var:
                                                              ref:
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: account
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                i:
                                                                  d:
                                                                  - 71
                                                                  - 92
                                                                  - 92
                                                                  c: "(defschema account\n
                                                                    \   balance:decimal\n
                                                                    \   amount:decimal\n
                                                                    \   data)\n\n
                                                                    \ "
                                                                fields:
                                                                - name: balance
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 7
                                                                    - 115
                                                                    - 115
                                                                    c: balance
                                                                - name: amount
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 135
                                                                    - 135
                                                                    c: amount
                                                                - name: data
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: a
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 4
                                                                    - 154
                                                                    - 154
                                                                    c: data
                                                            i: null
                                                          i:
                                                            d:
                                                            - 33
                                                            - 163
                                                            - 163
                                                            c: "(deftable accounts:{account})\n\n
                                                              \ "
                                                      i: null
                                                  i:
                                                    d:
                                                    - 9
                                                    - 1676
                                                    - 1676
                                                    c: 'accounts '
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 5
                                                    - 1685
                                                    - 1685
                                                    c: 'acct '
                                                - body:
                                                    scope:
                                                      list:
                                                      - args:
                                                        - var:
                                                            f:
                                                              var:
                                                                f:
                                                                  var:
                                                                    ref:
                                                                      hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                                      modname:
                                                                        namespace: null
                                                                        name: test1
                                                                      name: accounts
                                                                      meta:
                                                                        model: []
                                                                        docs: null
                                                                      type:
                                                                        var:
                                                                          ref:
                                                                            modname:
                                                                              namespace: null
                                                                              name: test1
                                                                            name: account
                                                                            meta:
                                                                              model: []
                                                                              docs: null
                                                                            i:
                                                                              d:
                                                                              - 71
                                                                              - 92
                                                                              - 92
                                                                              c: "(defschema
                                                                                account\n
                                                                                \   balance:decimal\n
                                                                                \   amount:decimal\n
                                                                                \   data)\n\n
                                                                                \ "
                                                                            fields:
                                                                            - name: balance
                                                                              type: decimal
                                                                              info:
                                                                                d:
                                                                                - 7
                                                                                - 115
                                                                                - 115
                                                                                c: balance
                                                                            - name: amount
                                                                              type: decimal
                                                                              info:
                                                                                d:
                                                                                - 6
                                                                                - 135
                                                                                - 135
                                                                                c: amount
                                                                            - name: data
                                                                              type:
                                                                                tag: TypeVar
                                                                                name: a
                                                                                constraint: []
                                                                              info:
                                                                                d:
                                                                                - 4
                                                                                - 154
                                                                                - 154
                                                                                c: data
                                                                        i: null
                                                                      i:
                                                                        d:
                                                                        - 33
                                                                        - 163
                                                                        - 163
                                                                        c: "(deftable
                                                                          accounts:{account})\n\n
                                                                          \ "
                                                                  i: null
                                                              i: null
                                                          i:
                                                            d:
                                                            - 9
                                                            - 1728
                                                            - 1728
                                                            c: 'accounts '
                                                        - var:
                                                            f:
                                                              var:
                                                                b: 0
                                                              i: null
                                                          i:
                                                            d:
                                                            - 17
                                                            - 1737
                                                            - 1737
                                                            c: "acct\n            "
                                                        - obj:
                                                            amount:
                                                              var:
                                                                f:
                                                                  var:
                                                                    b: 1
                                                                  i: null
                                                              i:
                                                                d:
                                                                - 19
                                                                - 1797
                                                                - 1797
                                                                c: "amount\n            "
                                                            data:
                                                              var:
                                                                f:
                                                                  var:
                                                                    b: 2
                                                                  i: null
                                                              i:
                                                                d:
                                                                - 5
                                                                - 1826
                                                                - 1826
                                                                c: 'data '
                                                            balance:
                                                              args:
                                                              - var:
                                                                  b: 0
                                                                i:
                                                                  d:
                                                                  - 8
                                                                  - 1770
                                                                  - 1770
                                                                  c: 'balance '
                                                              - var:
                                                                  f:
                                                                    var:
                                                                      b: 1
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 6
                                                                  - 1778
                                                                  - 1778
                                                                  c: amount
                                                              fun:
                                                                var:
                                                                  f:
                                                                    var:
                                                                      f:
                                                                        var:
                                                                          direct:
                                                                            pdnat: +
                                                                        i: null
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 2
                                                                  - 1768
                                                                  - 1768
                                                                  c: '+ '
                                                              info:
                                                                d:
                                                                - 18
                                                                - 1767
                                                                - 1767
                                                                c: (+ balance amount)
                                                          keyorder:
                                                          - balance
                                                          - amount
                                                          - data
                                                          type: '*'
                                                          i:
                                                            d:
                                                            - 78
                                                            - 1754
                                                            - 1754
                                                            c: |-
                                                              { "balance": (+ balance amount), "amount": amount
                                                                          , "data": data }
                                                        fun:
                                                          var:
                                                            f:
                                                              var:
                                                                f:
                                                                  var:
                                                                    direct:
                                                                      pdnat: update
                                                                  i: null
                                                              i: null
                                                          i:
                                                            d:
                                                            - 7
                                                            - 1721
                                                            - 1721
                                                            c: 'update '
                                                        info:
                                                          d:
                                                          - 113
                                                          - 1720
                                                          - 1720
                                                          c: |-
                                                            (update accounts acct
                                                                        { "balance": (+ balance amount), "amount": amount
                                                                        , "data": data })
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 169
                                                        - 1665
                                                        - 1665
                                                        c: |-
                                                          (with-read accounts acct { "balance":= balance }
                                                                (update accounts acct
                                                                      { "balance": (+ balance amount), "amount": amount
                                                                      , "data": data }))
                                                  pairs:
                                                  - arg:
                                                      name: balance
                                                      type:
                                                        tag: TypeVar
                                                        name: aa
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 8
                                                        - 1704
                                                        - 1704
                                                        c: 'balance '
                                                    val:
                                                      i:
                                                        d:
                                                        - 9
                                                        - 1692
                                                        - 1692
                                                        c: '"balance"'
                                                      lit: balance
                                                  type:
                                                    bind: '*'
                                                  i:
                                                    d:
                                                    - 30
                                                    - 1690
                                                    - 1690
                                                    c: "{ \"balance\":= balance }\n
                                                      \     "
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: with-read
                                                      i: null
                                                  i:
                                                    d:
                                                    - 10
                                                    - 1666
                                                    - 1666
                                                    c: 'with-read '
                                                info:
                                                  d:
                                                  - 169
                                                  - 1665
                                                  - 1665
                                                  c: |-
                                                    (with-read accounts acct { "balance":= balance }
                                                          (update accounts acct
                                                                { "balance": (+ balance amount), "amount": amount
                                                                , "data": data }))
                                              type: '*'
                                              i:
                                                d:
                                                - 298
                                                - 1542
                                                - 1542
                                                c: "(defun credit (acct amount data)\n
                                                  \   \"Credit ACCT for AMOUNT, enforcing
                                                  positive amount\"\n    (enforce-positive
                                                  amount)\n    (with-read accounts
                                                  acct { \"balance\":= balance }\n
                                                  \     (update accounts acct\n            {
                                                  \"balance\": (+ balance amount),
                                                  \"amount\": amount\n            ,
                                                  \"data\": data })))\n\n\n  "
                                          module:
                                            namespace: null
                                            name: test1
                                          meta:
                                            model: []
                                            docs: Credit ACCT for AMOUNT, enforcing
                                              positive amount
                                          info:
                                            d:
                                            - 298
                                            - 1542
                                            - 1542
                                            c: "(defun credit (acct amount data)\n
                                              \   \"Credit ACCT for AMOUNT, enforcing
                                              positive amount\"\n    (enforce-positive
                                              amount)\n    (with-read accounts acct
                                              { \"balance\":= balance }\n      (update
                                              accounts acct\n            { \"balance\":
                                              (+ balance amount), \"amount\": amount\n
                                              \           , \"data\": data })))\n\n\n
                                              \ "
                                      i: null
                                  i: null
                              i:
                                d:
                                - 7
                                - 1050
                                - 1050
                                c: 'credit '
                            info:
                              d:
                              - 107
                              - 1049
                              - 1049
                              c: |-
                                (credit dest debit-amount
                                               { "transfer-from": src, "debit-result": result, "tx": (pact-id) })
                          type: '*'
                          i:
                            d:
                            - 170
                            - 987
                            - 987
                            c: |-
                              (resume { "result":= result, "amount":= debit-amount }
                                     (credit dest debit-amount
                                             { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))
                      pairs:
                      - arg:
                          name: result
                          type:
                            tag: TypeVar
                            name: p
                            constraint: []
                          info:
                            d:
                            - 6
                            - 1008
                            - 1008
                            c: result
                        val:
                          i:
                            d:
                            - 8
                            - 997
                            - 997
                            c: '"result"'
                          lit: result
                      - arg:
                          name: debit-amount
                          type:
                            tag: TypeVar
                            name: q
                            constraint: []
                          info:
                            d:
                            - 13
                            - 1027
                            - 1027
                            c: 'debit-amount '
                        val:
                          i:
                            d:
                            - 8
                            - 1016
                            - 1016
                            c: '"amount"'
                          lit: amount
                      type:
                        bind: '*'
                      i:
                        d:
                        - 54
                        - 995
                        - 995
                        c: "{ \"result\":= result, \"amount\":= debit-amount }\n       "
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: resume
                          i: null
                      i:
                        d:
                        - 7
                        - 988
                        - 988
                        c: 'resume '
                    info:
                      d:
                      - 170
                      - 987
                      - 987
                      c: |-
                        (resume { "result":= result, "amount":= debit-amount }
                               (credit dest debit-amount
                                       { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))
                  ent:
                    var:
                      b: 2
                    i:
                      d:
                      - 17
                      - 970
                      - 970
                      c: "dest-entity\n     "
                  i:
                    d:
                    - 199
                    - 959
                    - 959
                    c: |-
                      (step
                           dest-entity
                           (resume { "result":= result, "amount":= debit-amount }
                             (credit dest debit-amount
                                     { "transfer-from": src, "debit-result": result, "tx": (pact-id) })))
                type: '*'
                i:
                  d:
                  - 623
                  - 540
                  - 540
                  c: "(defpact payment (src-entity src dest-entity dest amount)\n
                    \   \"Two-phase confidential payment, sending money from SRC at
                    SRC-ENTITY to DEST at DEST-ENTITY.\"\n\n    (step-with-rollback\n
                    \    src-entity\n     (let ((result (debit src amount { \"transfer-to\":
                    dest, \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                    result, \"amount\": amount, \"tx\": (pact-id) }))\n     (credit
                    src amount { \"rollback\": (pact-id) }))\n\n    (step\n     dest-entity\n
                    \    (resume { \"result\":= result, \"amount\":= debit-amount
                    }\n       (credit dest debit-amount\n               { \"transfer-from\":
                    src, \"debit-result\": result, \"tx\": (pact-id) }))))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Two-phase confidential payment, sending money from SRC at SRC-ENTITY
                to DEST at DEST-ENTITY.
            info:
              d:
              - 623
              - 540
              - 540
              c: "(defpact payment (src-entity src dest-entity dest amount)\n    \"Two-phase
                confidential payment, sending money from SRC at SRC-ENTITY to DEST
                at DEST-ENTITY.\"\n\n    (step-with-rollback\n     src-entity\n     (let
                ((result (debit src amount { \"transfer-to\": dest, \"message\": \"Starting
                pact\" })))\n       (yield { \"result\": result, \"amount\": amount,
                \"tx\": (pact-id) }))\n     (credit src amount { \"rollback\": (pact-id)
                }))\n\n    (step\n     dest-entity\n     (resume { \"result\":= result,
                \"amount\":= debit-amount }\n       (credit dest debit-amount\n               {
                \"transfer-from\": src, \"debit-result\": result, \"tx\": (pact-id)
                }))))\n\n  "
        accounts:
          ref:
            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
            modname:
              namespace: null
              name: test1
            name: accounts
            meta:
              model: []
              docs: null
            type:
              var:
                ref:
                  modname:
                    namespace: null
                    name: test1
                  name: account
                  meta:
                    model: []
                    docs: null
                  i:
                    d:
                    - 71
                    - 92
                    - 92
                    c: "(defschema account\n    balance:decimal\n    amount:decimal\n
                      \   data)\n\n  "
                  fields:
                  - name: balance
                    type: decimal
                    info:
                      d:
                      - 7
                      - 115
                      - 115
                      c: balance
                  - name: amount
                    type: decimal
                    info:
                      d:
                      - 6
                      - 135
                      - 135
                      c: amount
                  - name: data
                    type:
                      tag: TypeVar
                      name: a
                      constraint: []
                    info:
                      d:
                      - 4
                      - 154
                      - 154
                      c: data
              i: null
            i:
              d:
              - 33
              - 163
              - 163
              c: "(deftable accounts:{account})\n\n  "
        create-global-accounts:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: al
                constraint: []
            defName: create-global-accounts
            defBody:
              scope:
                list:
                - args:
                  - i:
                      d:
                      - 8
                      - 2319
                      - 2319
                      c: '"Acct1" '
                    lit: Acct1
                  - i:
                      d:
                      - 9
                      - 2327
                      - 2327
                      c: '1000000.0'
                    lit: 1000000
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: id
                                type:
                                  tag: TypeVar
                                  name: c
                                  constraint: []
                                info:
                                  d:
                                  - 3
                                  - 219
                                  - 219
                                  c: 'id '
                              - name: init-bal
                                type:
                                  tag: TypeVar
                                  name: d
                                  constraint: []
                                info:
                                  d:
                                  - 8
                                  - 222
                                  - 222
                                  c: init-bal
                              return:
                                tag: TypeVar
                                name: b
                                constraint: []
                            defName: create-account
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 244
                                      - 244
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 12
                                      - 253
                                      - 253
                                      c: "id\n         "
                                  - obj:
                                      amount:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 298
                                          - 298
                                          c: init-bal
                                      data:
                                        i:
                                          d:
                                          - 18
                                          - 316
                                          - 316
                                          c: '"Created account" '
                                        lit: Created account
                                      balance:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 278
                                          - 278
                                          c: init-bal
                                    keyorder:
                                    - balance
                                    - amount
                                    - data
                                    type: '*'
                                    i:
                                      d:
                                      - 70
                                      - 265
                                      - 265
                                      c: '{ "balance": init-bal, "amount": init-bal,
                                        "data": "Created account" }'
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: insert
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 237
                                      - 237
                                      c: 'insert '
                                  info:
                                    d:
                                    - 100
                                    - 236
                                    - 236
                                    c: |-
                                      (insert accounts id
                                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                type: '*'
                                i:
                                  d:
                                  - 145
                                  - 196
                                  - 196
                                  c: "(defun create-account (id init-bal)\n    (insert
                                    accounts id\n         { \"balance\": init-bal,
                                    \"amount\": init-bal, \"data\": \"Created account\"
                                    }))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 145
                              - 196
                              - 196
                              c: "(defun create-account (id init-bal)\n    (insert
                                accounts id\n         { \"balance\": init-bal, \"amount\":
                                init-bal, \"data\": \"Created account\" }))\n\n  "
                        i: null
                    i:
                      d:
                      - 15
                      - 2304
                      - 2304
                      c: 'create-account '
                  info:
                    d:
                    - 38
                    - 2303
                    - 2303
                    c: "(create-account \"Acct1\" 1000000.0)\n   "
                - args:
                  - i:
                      d:
                      - 8
                      - 2357
                      - 2357
                      c: '"Acct2" '
                    lit: Acct2
                  - i:
                      d:
                      - 3
                      - 2365
                      - 2365
                      c: '0.0'
                    lit: 0
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: id
                                type:
                                  tag: TypeVar
                                  name: c
                                  constraint: []
                                info:
                                  d:
                                  - 3
                                  - 219
                                  - 219
                                  c: 'id '
                              - name: init-bal
                                type:
                                  tag: TypeVar
                                  name: d
                                  constraint: []
                                info:
                                  d:
                                  - 8
                                  - 222
                                  - 222
                                  c: init-bal
                              return:
                                tag: TypeVar
                                name: b
                                constraint: []
                            defName: create-account
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 244
                                      - 244
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 12
                                      - 253
                                      - 253
                                      c: "id\n         "
                                  - obj:
                                      amount:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 298
                                          - 298
                                          c: init-bal
                                      data:
                                        i:
                                          d:
                                          - 18
                                          - 316
                                          - 316
                                          c: '"Created account" '
                                        lit: Created account
                                      balance:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 278
                                          - 278
                                          c: init-bal
                                    keyorder:
                                    - balance
                                    - amount
                                    - data
                                    type: '*'
                                    i:
                                      d:
                                      - 70
                                      - 265
                                      - 265
                                      c: '{ "balance": init-bal, "amount": init-bal,
                                        "data": "Created account" }'
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: insert
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 237
                                      - 237
                                      c: 'insert '
                                  info:
                                    d:
                                    - 100
                                    - 236
                                    - 236
                                    c: |-
                                      (insert accounts id
                                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                type: '*'
                                i:
                                  d:
                                  - 145
                                  - 196
                                  - 196
                                  c: "(defun create-account (id init-bal)\n    (insert
                                    accounts id\n         { \"balance\": init-bal,
                                    \"amount\": init-bal, \"data\": \"Created account\"
                                    }))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 145
                              - 196
                              - 196
                              c: "(defun create-account (id init-bal)\n    (insert
                                accounts id\n         { \"balance\": init-bal, \"amount\":
                                init-bal, \"data\": \"Created account\" }))\n\n  "
                        i: null
                    i:
                      d:
                      - 15
                      - 2342
                      - 2342
                      c: 'create-account '
                  info:
                    d:
                    - 32
                    - 2341
                    - 2341
                    c: "(create-account \"Acct2\" 0.0)\n   "
                - args: []
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args: []
                              return:
                                tag: TypeVar
                                name: ai
                                constraint: []
                            defName: read-all
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args: []
                                    fun:
                                      var:
                                        f:
                                          var:
                                            ref:
                                              defType: Defun
                                              funType:
                                                args:
                                                - name: id
                                                  type:
                                                    tag: TypeVar
                                                    name: ac
                                                    constraint: []
                                                  info:
                                                    d:
                                                    - 2
                                                    - 1861
                                                    - 1861
                                                    c: id
                                                return:
                                                  tag: TypeVar
                                                  name: ab
                                                  constraint: []
                                              defName: read-account
                                              defBody:
                                                scope:
                                                  list:
                                                  - args:
                                                    - obj:
                                                        account:
                                                          var:
                                                            b: 0
                                                          i:
                                                            d:
                                                            - 3
                                                            - 1916
                                                            - 1916
                                                            c: 'id '
                                                      keyorder:
                                                      - account
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 18
                                                        - 1903
                                                        - 1903
                                                        c: '{ "account": id } '
                                                    - args:
                                                      - var:
                                                          f:
                                                            var:
                                                              ref:
                                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: accounts
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                type:
                                                                  var:
                                                                    ref:
                                                                      modname:
                                                                        namespace: null
                                                                        name: test1
                                                                      name: account
                                                                      meta:
                                                                        model: []
                                                                        docs: null
                                                                      i:
                                                                        d:
                                                                        - 71
                                                                        - 92
                                                                        - 92
                                                                        c: "(defschema
                                                                          account\n
                                                                          \   balance:decimal\n
                                                                          \   amount:decimal\n
                                                                          \   data)\n\n
                                                                          \ "
                                                                      fields:
                                                                      - name: balance
                                                                        type: decimal
                                                                        info:
                                                                          d:
                                                                          - 7
                                                                          - 115
                                                                          - 115
                                                                          c: balance
                                                                      - name: amount
                                                                        type: decimal
                                                                        info:
                                                                          d:
                                                                          - 6
                                                                          - 135
                                                                          - 135
                                                                          c: amount
                                                                      - name: data
                                                                        type:
                                                                          tag: TypeVar
                                                                          name: a
                                                                          constraint: []
                                                                        info:
                                                                          d:
                                                                          - 4
                                                                          - 154
                                                                          - 154
                                                                          c: data
                                                                  i: null
                                                                i:
                                                                  d:
                                                                  - 33
                                                                  - 163
                                                                  - 163
                                                                  c: "(deftable accounts:{account})\n\n
                                                                    \ "
                                                            i: null
                                                        i:
                                                          d:
                                                          - 9
                                                          - 1927
                                                          - 1927
                                                          c: 'accounts '
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1936
                                                          - 1936
                                                          c: id
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: read
                                                            i: null
                                                        i:
                                                          d:
                                                          - 5
                                                          - 1922
                                                          - 1922
                                                          c: 'read '
                                                      info:
                                                        d:
                                                        - 18
                                                        - 1921
                                                        - 1921
                                                        c: (read accounts id)
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: +
                                                          i: null
                                                      i:
                                                        d:
                                                        - 2
                                                        - 1901
                                                        - 1901
                                                        c: '+ '
                                                    info:
                                                      d:
                                                      - 40
                                                      - 1900
                                                      - 1900
                                                      c: '(+ { "account": id } (read
                                                        accounts id))'
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 105
                                                    - 1840
                                                    - 1840
                                                    c: "(defun read-account (id)\n
                                                      \   \"Read data for account
                                                      ID\"\n    (+ { \"account\":
                                                      id } (read accounts id)))\n\n
                                                      \ "
                                              module:
                                                namespace: null
                                                name: test1
                                              meta:
                                                model: []
                                                docs: Read data for account ID
                                              info:
                                                d:
                                                - 105
                                                - 1840
                                                - 1840
                                                c: "(defun read-account (id)\n    \"Read
                                                  data for account ID\"\n    (+ {
                                                  \"account\": id } (read accounts
                                                  id)))\n\n  "
                                          i: null
                                      i:
                                        d:
                                        - 12
                                        - 2162
                                        - 2162
                                        c: read-account
                                    info:
                                      d:
                                      - 15
                                      - 2161
                                      - 2161
                                      c: '(read-account) '
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 8
                                        - 2182
                                        - 2182
                                        c: accounts
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: keys
                                          i: null
                                      i:
                                        d:
                                        - 5
                                        - 2177
                                        - 2177
                                        c: 'keys '
                                    info:
                                      d:
                                      - 15
                                      - 2176
                                      - 2176
                                      c: (keys accounts)
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: map
                                        i: null
                                    i:
                                      d:
                                      - 4
                                      - 2157
                                      - 2157
                                      c: 'map '
                                  info:
                                    d:
                                    - 36
                                    - 2156
                                    - 2156
                                    c: (map (read-account) (keys accounts))
                                type: '*'
                                i:
                                  d:
                                  - 62
                                  - 2134
                                  - 2134
                                  c: "(defun read-all ()\n   (map (read-account) (keys
                                    accounts)))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 62
                              - 2134
                              - 2134
                              c: "(defun read-all ()\n   (map (read-account) (keys
                                accounts)))\n\n "
                        i: null
                    i:
                      d:
                      - 8
                      - 2374
                      - 2374
                      c: read-all
                  info:
                    d:
                    - 10
                    - 2373
                    - 2373
                    c: (read-all)
                type: '*'
                i:
                  d:
                  - 120
                  - 2267
                  - 2267
                  c: "(defun create-global-accounts ()\n   (create-account \"Acct1\"
                    1000000.0)\n   (create-account \"Acct2\" 0.0)\n   (read-all))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 120
              - 2267
              - 2267
              c: "(defun create-global-accounts ()\n   (create-account \"Acct1\" 1000000.0)\n
                \  (create-account \"Acct2\" 0.0)\n   (read-all))\n\n "
        read-all-global:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: aj
                constraint: []
            defName: read-all-global
            defBody:
              scope:
                list:
                - args:
                  - args: []
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: ac
                                    constraint: []
                                  info:
                                    d:
                                    - 2
                                    - 1861
                                    - 1861
                                    c: id
                                return:
                                  tag: TypeVar
                                  name: ab
                                  constraint: []
                              defName: read-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - obj:
                                        account:
                                          var:
                                            b: 0
                                          i:
                                            d:
                                            - 3
                                            - 1916
                                            - 1916
                                            c: 'id '
                                      keyorder:
                                      - account
                                      type: '*'
                                      i:
                                        d:
                                        - 18
                                        - 1903
                                        - 1903
                                        c: '{ "account": id } '
                                    - args:
                                      - var:
                                          f:
                                            var:
                                              ref:
                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                modname:
                                                  namespace: null
                                                  name: test1
                                                name: accounts
                                                meta:
                                                  model: []
                                                  docs: null
                                                type:
                                                  var:
                                                    ref:
                                                      modname:
                                                        namespace: null
                                                        name: test1
                                                      name: account
                                                      meta:
                                                        model: []
                                                        docs: null
                                                      i:
                                                        d:
                                                        - 71
                                                        - 92
                                                        - 92
                                                        c: "(defschema account\n    balance:decimal\n
                                                          \   amount:decimal\n    data)\n\n
                                                          \ "
                                                      fields:
                                                      - name: balance
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 7
                                                          - 115
                                                          - 115
                                                          c: balance
                                                      - name: amount
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 6
                                                          - 135
                                                          - 135
                                                          c: amount
                                                      - name: data
                                                        type:
                                                          tag: TypeVar
                                                          name: a
                                                          constraint: []
                                                        info:
                                                          d:
                                                          - 4
                                                          - 154
                                                          - 154
                                                          c: data
                                                  i: null
                                                i:
                                                  d:
                                                  - 33
                                                  - 163
                                                  - 163
                                                  c: "(deftable accounts:{account})\n\n
                                                    \ "
                                            i: null
                                        i:
                                          d:
                                          - 9
                                          - 1927
                                          - 1927
                                          c: 'accounts '
                                      - var:
                                          b: 0
                                        i:
                                          d:
                                          - 2
                                          - 1936
                                          - 1936
                                          c: id
                                      fun:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: read
                                            i: null
                                        i:
                                          d:
                                          - 5
                                          - 1922
                                          - 1922
                                          c: 'read '
                                      info:
                                        d:
                                        - 18
                                        - 1921
                                        - 1921
                                        c: (read accounts id)
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i:
                                        d:
                                        - 2
                                        - 1901
                                        - 1901
                                        c: '+ '
                                    info:
                                      d:
                                      - 40
                                      - 1900
                                      - 1900
                                      c: '(+ { "account": id } (read accounts id))'
                                  type: '*'
                                  i:
                                    d:
                                    - 105
                                    - 1840
                                    - 1840
                                    c: "(defun read-account (id)\n    \"Read data
                                      for account ID\"\n    (+ { \"account\": id }
                                      (read accounts id)))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Read data for account ID
                              info:
                                d:
                                - 105
                                - 1840
                                - 1840
                                c: "(defun read-account (id)\n    \"Read data for
                                  account ID\"\n    (+ { \"account\": id } (read accounts
                                  id)))\n\n  "
                          i: null
                      i:
                        d:
                        - 12
                        - 2231
                        - 2231
                        c: read-account
                    info:
                      d:
                      - 15
                      - 2230
                      - 2230
                      c: '(read-account) '
                  - list:
                    - i:
                        d:
                        - 8
                        - 2246
                        - 2246
                        c: '"Acct1" '
                      lit: Acct1
                    - i:
                        d:
                        - 7
                        - 2254
                        - 2254
                        c: '"Acct2"'
                      lit: Acct2
                    type:
                      tag: TypeVar
                      name: ak
                      constraint: []
                    i:
                      d:
                      - 17
                      - 2245
                      - 2245
                      c: '["Acct1" "Acct2"]'
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: map
                        i: null
                    i:
                      d:
                      - 4
                      - 2226
                      - 2226
                      c: 'map '
                  info:
                    d:
                    - 38
                    - 2225
                    - 2225
                    c: (map (read-account) ["Acct1" "Acct2"])
                type: '*'
                i:
                  d:
                  - 71
                  - 2196
                  - 2196
                  c: "(defun read-all-global ()\n   (map (read-account) [\"Acct1\"
                    \"Acct2\"]))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 71
              - 2196
              - 2196
              c: "(defun read-all-global ()\n   (map (read-account) [\"Acct1\" \"Acct2\"]))\n\n "
        create-account:
          ref:
            defType: Defun
            funType:
              args:
              - name: id
                type:
                  tag: TypeVar
                  name: c
                  constraint: []
                info:
                  d:
                  - 3
                  - 219
                  - 219
                  c: 'id '
              - name: init-bal
                type:
                  tag: TypeVar
                  name: d
                  constraint: []
                info:
                  d:
                  - 8
                  - 222
                  - 222
                  c: init-bal
              return:
                tag: TypeVar
                name: b
                constraint: []
            defName: create-account
            defBody:
              scope:
                list:
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 244
                      - 244
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 12
                      - 253
                      - 253
                      c: "id\n         "
                  - obj:
                      amount:
                        var:
                          b: 1
                        i:
                          d:
                          - 8
                          - 298
                          - 298
                          c: init-bal
                      data:
                        i:
                          d:
                          - 18
                          - 316
                          - 316
                          c: '"Created account" '
                        lit: Created account
                      balance:
                        var:
                          b: 1
                        i:
                          d:
                          - 8
                          - 278
                          - 278
                          c: init-bal
                    keyorder:
                    - balance
                    - amount
                    - data
                    type: '*'
                    i:
                      d:
                      - 70
                      - 265
                      - 265
                      c: '{ "balance": init-bal, "amount": init-bal, "data": "Created
                        account" }'
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: insert
                        i: null
                    i:
                      d:
                      - 7
                      - 237
                      - 237
                      c: 'insert '
                  info:
                    d:
                    - 100
                    - 236
                    - 236
                    c: |-
                      (insert accounts id
                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                type: '*'
                i:
                  d:
                  - 145
                  - 196
                  - 196
                  c: "(defun create-account (id init-bal)\n    (insert accounts id\n
                    \        { \"balance\": init-bal, \"amount\": init-bal, \"data\":
                    \"Created account\" }))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 145
              - 196
              - 196
              c: "(defun create-account (id init-bal)\n    (insert accounts id\n         {
                \"balance\": init-bal, \"amount\": init-bal, \"data\": \"Created account\"
                }))\n\n  "
        create-private-accounts:
          ref:
            defType: Defpact
            funType:
              args: []
              return:
                tag: TypeVar
                name: am
                constraint: []
            defName: create-private-accounts
            defBody:
              scope:
                list:
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2456
                        - 2456
                        c: '"A" '
                      lit: A
                    - i:
                        d:
                        - 6
                        - 2460
                        - 2460
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2441
                        - 2441
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2440
                      - 2440
                      c: (create-account "A" 1000.0)
                  ent:
                    i:
                      d:
                      - 8
                      - 2432
                      - 2432
                      c: '"Alice" '
                    lit: Alice
                  i:
                    d:
                    - 46
                    - 2426
                    - 2426
                    c: "(step \"Alice\" (create-account \"A\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2500
                        - 2500
                        c: '"B" '
                      lit: B
                    - i:
                        d:
                        - 6
                        - 2504
                        - 2504
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2485
                        - 2485
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2484
                      - 2484
                      c: (create-account "B" 1000.0)
                  ent:
                    i:
                      d:
                      - 6
                      - 2478
                      - 2478
                      c: '"Bob" '
                    lit: Bob
                  i:
                    d:
                    - 44
                    - 2472
                    - 2472
                    c: "(step \"Bob\" (create-account \"B\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2546
                        - 2546
                        c: '"C" '
                      lit: C
                    - i:
                        d:
                        - 6
                        - 2550
                        - 2550
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2531
                        - 2531
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2530
                      - 2530
                      c: (create-account "C" 1000.0)
                  ent:
                    i:
                      d:
                      - 8
                      - 2522
                      - 2522
                      c: '"Carol" '
                    lit: Carol
                  i:
                    d:
                    - 46
                    - 2516
                    - 2516
                    c: "(step \"Carol\" (create-account \"C\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2593
                        - 2593
                        c: '"D" '
                      lit: D
                    - i:
                        d:
                        - 6
                        - 2597
                        - 2597
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2578
                        - 2578
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2577
                      - 2577
                      c: (create-account "D" 1000.0)
                  ent:
                    i:
                      d:
                      - 9
                      - 2568
                      - 2568
                      c: '"Dinesh" '
                    lit: Dinesh
                  i:
                    d:
                    - 43
                    - 2562
                    - 2562
                    c: (step "Dinesh" (create-account "D" 1000.0))
                type: '*'
                i:
                  d:
                  - 221
                  - 2387
                  - 2387
                  c: |+
                    (defpact create-private-accounts ()
                       (step "Alice" (create-account "A" 1000.0))
                       (step "Bob" (create-account "B" 1000.0))
                       (step "Carol" (create-account "C" 1000.0))
                       (step "Dinesh" (create-account "D" 1000.0)))

            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 221
              - 2387
              - 2387
              c: |+
                (defpact create-private-accounts ()
                   (step "Alice" (create-account "A" 1000.0))
                   (step "Bob" (create-account "B" 1000.0))
                   (step "Carol" (create-account "C" 1000.0))
                   (step "Dinesh" (create-account "D" 1000.0)))

        read-account:
          ref:
            defType: Defun
            funType:
              args:
              - name: id
                type:
                  tag: TypeVar
                  name: ac
                  constraint: []
                info:
                  d:
                  - 2
                  - 1861
                  - 1861
                  c: id
              return:
                tag: TypeVar
                name: ab
                constraint: []
            defName: read-account
            defBody:
              scope:
                list:
                - args:
                  - obj:
                      account:
                        var:
                          b: 0
                        i:
                          d:
                          - 3
                          - 1916
                          - 1916
                          c: 'id '
                    keyorder:
                    - account
                    type: '*'
                    i:
                      d:
                      - 18
                      - 1903
                      - 1903
                      c: '{ "account": id } '
                  - args:
                    - var:
                        f:
                          var:
                            ref:
                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                              modname:
                                namespace: null
                                name: test1
                              name: accounts
                              meta:
                                model: []
                                docs: null
                              type:
                                var:
                                  ref:
                                    modname:
                                      namespace: null
                                      name: test1
                                    name: account
                                    meta:
                                      model: []
                                      docs: null
                                    i:
                                      d:
                                      - 71
                                      - 92
                                      - 92
                                      c: "(defschema account\n    balance:decimal\n
                                        \   amount:decimal\n    data)\n\n  "
                                    fields:
                                    - name: balance
                                      type: decimal
                                      info:
                                        d:
                                        - 7
                                        - 115
                                        - 115
                                        c: balance
                                    - name: amount
                                      type: decimal
                                      info:
                                        d:
                                        - 6
                                        - 135
                                        - 135
                                        c: amount
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: a
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 154
                                        - 154
                                        c: data
                                i: null
                              i:
                                d:
                                - 33
                                - 163
                                - 163
                                c: "(deftable accounts:{account})\n\n  "
                          i: null
                      i:
                        d:
                        - 9
                        - 1927
                        - 1927
                        c: 'accounts '
                    - var:
                        b: 0
                      i:
                        d:
                        - 2
                        - 1936
                        - 1936
                        c: id
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: read
                          i: null
                      i:
                        d:
                        - 5
                        - 1922
                        - 1922
                        c: 'read '
                    info:
                      d:
                      - 18
                      - 1921
                      - 1921
                      c: (read accounts id)
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: +
                        i: null
                    i:
                      d:
                      - 2
                      - 1901
                      - 1901
                      c: '+ '
                  info:
                    d:
                    - 40
                    - 1900
                    - 1900
                    c: '(+ { "account": id } (read accounts id))'
                type: '*'
                i:
                  d:
                  - 105
                  - 1840
                  - 1840
                  c: "(defun read-account (id)\n    \"Read data for account ID\"\n
                    \   (+ { \"account\": id } (read accounts id)))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Read data for account ID
            info:
              d:
              - 105
              - 1840
              - 1840
              c: "(defun read-account (id)\n    \"Read data for account ID\"\n    (+
                { \"account\": id } (read accounts id)))\n\n  "
        read-all:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: ai
                constraint: []
            defName: read-all
            defBody:
              scope:
                list:
                - args:
                  - args: []
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: ac
                                    constraint: []
                                  info:
                                    d:
                                    - 2
                                    - 1861
                                    - 1861
                                    c: id
                                return:
                                  tag: TypeVar
                                  name: ab
                                  constraint: []
                              defName: read-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - obj:
                                        account:
                                          var:
                                            b: 0
                                          i:
                                            d:
                                            - 3
                                            - 1916
                                            - 1916
                                            c: 'id '
                                      keyorder:
                                      - account
                                      type: '*'
                                      i:
                                        d:
                                        - 18
                                        - 1903
                                        - 1903
                                        c: '{ "account": id } '
                                    - args:
                                      - var:
                                          f:
                                            var:
                                              ref:
                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                modname:
                                                  namespace: null
                                                  name: test1
                                                name: accounts
                                                meta:
                                                  model: []
                                                  docs: null
                                                type:
                                                  var:
                                                    ref:
                                                      modname:
                                                        namespace: null
                                                        name: test1
                                                      name: account
                                                      meta:
                                                        model: []
                                                        docs: null
                                                      i:
                                                        d:
                                                        - 71
                                                        - 92
                                                        - 92
                                                        c: "(defschema account\n    balance:decimal\n
                                                          \   amount:decimal\n    data)\n\n
                                                          \ "
                                                      fields:
                                                      - name: balance
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 7
                                                          - 115
                                                          - 115
                                                          c: balance
                                                      - name: amount
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 6
                                                          - 135
                                                          - 135
                                                          c: amount
                                                      - name: data
                                                        type:
                                                          tag: TypeVar
                                                          name: a
                                                          constraint: []
                                                        info:
                                                          d:
                                                          - 4
                                                          - 154
                                                          - 154
                                                          c: data
                                                  i: null
                                                i:
                                                  d:
                                                  - 33
                                                  - 163
                                                  - 163
                                                  c: "(deftable accounts:{account})\n\n
                                                    \ "
                                            i: null
                                        i:
                                          d:
                                          - 9
                                          - 1927
                                          - 1927
                                          c: 'accounts '
                                      - var:
                                          b: 0
                                        i:
                                          d:
                                          - 2
                                          - 1936
                                          - 1936
                                          c: id
                                      fun:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: read
                                            i: null
                                        i:
                                          d:
                                          - 5
                                          - 1922
                                          - 1922
                                          c: 'read '
                                      info:
                                        d:
                                        - 18
                                        - 1921
                                        - 1921
                                        c: (read accounts id)
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i:
                                        d:
                                        - 2
                                        - 1901
                                        - 1901
                                        c: '+ '
                                    info:
                                      d:
                                      - 40
                                      - 1900
                                      - 1900
                                      c: '(+ { "account": id } (read accounts id))'
                                  type: '*'
                                  i:
                                    d:
                                    - 105
                                    - 1840
                                    - 1840
                                    c: "(defun read-account (id)\n    \"Read data
                                      for account ID\"\n    (+ { \"account\": id }
                                      (read accounts id)))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Read data for account ID
                              info:
                                d:
                                - 105
                                - 1840
                                - 1840
                                c: "(defun read-account (id)\n    \"Read data for
                                  account ID\"\n    (+ { \"account\": id } (read accounts
                                  id)))\n\n  "
                          i: null
                      i:
                        d:
                        - 12
                        - 2162
                        - 2162
                        c: read-account
                    info:
                      d:
                      - 15
                      - 2161
                      - 2161
                      c: '(read-account) '
                  - args:
                    - var:
                        f:
                          var:
                            ref:
                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                              modname:
                                namespace: null
                                name: test1
                              name: accounts
                              meta:
                                model: []
                                docs: null
                              type:
                                var:
                                  ref:
                                    modname:
                                      namespace: null
                                      name: test1
                                    name: account
                                    meta:
                                      model: []
                                      docs: null
                                    i:
                                      d:
                                      - 71
                                      - 92
                                      - 92
                                      c: "(defschema account\n    balance:decimal\n
                                        \   amount:decimal\n    data)\n\n  "
                                    fields:
                                    - name: balance
                                      type: decimal
                                      info:
                                        d:
                                        - 7
                                        - 115
                                        - 115
                                        c: balance
                                    - name: amount
                                      type: decimal
                                      info:
                                        d:
                                        - 6
                                        - 135
                                        - 135
                                        c: amount
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: a
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 154
                                        - 154
                                        c: data
                                i: null
                              i:
                                d:
                                - 33
                                - 163
                                - 163
                                c: "(deftable accounts:{account})\n\n  "
                          i: null
                      i:
                        d:
                        - 8
                        - 2182
                        - 2182
                        c: accounts
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: keys
                          i: null
                      i:
                        d:
                        - 5
                        - 2177
                        - 2177
                        c: 'keys '
                    info:
                      d:
                      - 15
                      - 2176
                      - 2176
                      c: (keys accounts)
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: map
                        i: null
                    i:
                      d:
                      - 4
                      - 2157
                      - 2157
                      c: 'map '
                  info:
                    d:
                    - 36
                    - 2156
                    - 2156
                    c: (map (read-account) (keys accounts))
                type: '*'
                i:
                  d:
                  - 62
                  - 2134
                  - 2134
                  c: "(defun read-all ()\n   (map (read-account) (keys accounts)))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 62
              - 2134
              - 2134
              c: "(defun read-all ()\n   (map (read-account) (keys accounts)))\n\n "
        debit:
          ref:
            defType: Defun
            funType:
              args:
              - name: acct
                type:
                  tag: TypeVar
                  name: s
                  constraint: []
                info:
                  d:
                  - 5
                  - 1177
                  - 1177
                  c: 'acct '
              - name: amount
                type:
                  tag: TypeVar
                  name: t
                  constraint: []
                info:
                  d:
                  - 7
                  - 1182
                  - 1182
                  c: 'amount '
              - name: data
                type:
                  tag: TypeVar
                  name: u
                  constraint: []
                info:
                  d:
                  - 4
                  - 1189
                  - 1189
                  c: data
              return:
                tag: TypeVar
                name: r
                constraint: []
            defName: debit
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 6
                      - 1315
                      - 1315
                      c: amount
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: ah
                                  constraint: []
                                info:
                                  d:
                                  - 6
                                  - 2067
                                  - 2067
                                  c: amount
                              return:
                                tag: TypeVar
                                name: ag
                                constraint: []
                            defName: enforce-positive
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args:
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 7
                                        - 2092
                                        - 2092
                                        c: 'amount '
                                    - i:
                                        d:
                                        - 3
                                        - 2099
                                        - 2099
                                        c: '0.0'
                                      lit: 0
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '>='
                                          i: null
                                      i:
                                        d:
                                        - 3
                                        - 2089
                                        - 2089
                                        c: '>= '
                                    info:
                                      d:
                                      - 16
                                      - 2088
                                      - 2088
                                      c: '(>= amount 0.0) '
                                  - i:
                                      d:
                                      - 25
                                      - 2104
                                      - 2104
                                      c: '"amount must be positive"'
                                    lit: amount must be positive
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: enforce
                                        i: null
                                    i:
                                      d:
                                      - 8
                                      - 2080
                                      - 2080
                                      c: 'enforce '
                                  info:
                                    d:
                                    - 51
                                    - 2079
                                    - 2079
                                    c: (enforce (>= amount 0.0) "amount must be positive")
                                type: '*'
                                i:
                                  d:
                                  - 92
                                  - 2042
                                  - 2042
                                  c: "(defun enforce-positive (amount)\n    (enforce
                                    (>= amount 0.0) \"amount must be positive\"))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 92
                              - 2042
                              - 2042
                              c: "(defun enforce-positive (amount)\n    (enforce (>=
                                amount 0.0) \"amount must be positive\"))\n\n "
                        i: null
                    i:
                      d:
                      - 17
                      - 1298
                      - 1298
                      c: 'enforce-positive '
                  info:
                    d:
                    - 30
                    - 1297
                    - 1297
                    c: "(enforce-positive amount)\n    "
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 1338
                      - 1338
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 5
                      - 1347
                      - 1347
                      c: 'acct '
                  - body:
                      scope:
                        list:
                        - args:
                          - var:
                              b: 0
                            i:
                              d:
                              - 8
                              - 1397
                              - 1397
                              c: 'balance '
                          - var:
                              f:
                                var:
                                  b: 1
                                i: null
                            i:
                              d:
                              - 6
                              - 1405
                              - 1405
                              c: amount
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        defType: Defun
                                        funType:
                                          args:
                                          - name: balance
                                            type:
                                              tag: TypeVar
                                              name: ae
                                              constraint: []
                                            info:
                                              d:
                                              - 8
                                              - 1967
                                              - 1967
                                              c: 'balance '
                                          - name: amount
                                            type:
                                              tag: TypeVar
                                              name: af
                                              constraint: []
                                            info:
                                              d:
                                              - 6
                                              - 1975
                                              - 1975
                                              c: amount
                                          return:
                                            tag: TypeVar
                                            name: ad
                                            constraint: []
                                        defName: check-balance
                                        defBody:
                                          scope:
                                            list:
                                            - args:
                                              - args:
                                                - var:
                                                    b: 1
                                                  i:
                                                    d:
                                                    - 7
                                                    - 2000
                                                    - 2000
                                                    c: 'amount '
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 7
                                                    - 2007
                                                    - 2007
                                                    c: balance
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: <=
                                                      i: null
                                                  i:
                                                    d:
                                                    - 3
                                                    - 1997
                                                    - 1997
                                                    c: '<= '
                                                info:
                                                  d:
                                                  - 20
                                                  - 1996
                                                  - 1996
                                                  c: '(<= amount balance) '
                                              - i:
                                                  d:
                                                  - 20
                                                  - 2016
                                                  - 2016
                                                  c: '"Insufficient funds"'
                                                lit: Insufficient funds
                                              fun:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: enforce
                                                    i: null
                                                i:
                                                  d:
                                                  - 8
                                                  - 1988
                                                  - 1988
                                                  c: 'enforce '
                                              info:
                                                d:
                                                - 50
                                                - 1987
                                                - 1987
                                                c: (enforce (<= amount balance) "Insufficient
                                                  funds")
                                            type: '*'
                                            i:
                                              d:
                                              - 97
                                              - 1945
                                              - 1945
                                              c: "(defun check-balance (balance amount)\n
                                                \   (enforce (<= amount balance) \"Insufficient
                                                funds\"))\n\n  "
                                        module:
                                          namespace: null
                                          name: test1
                                        meta:
                                          model: []
                                          docs: null
                                        info:
                                          d:
                                          - 97
                                          - 1945
                                          - 1945
                                          c: "(defun check-balance (balance amount)\n
                                            \   (enforce (<= amount balance) \"Insufficient
                                            funds\"))\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 14
                              - 1383
                              - 1383
                              c: 'check-balance '
                          info:
                            d:
                            - 37
                            - 1382
                            - 1382
                            c: "(check-balance balance amount)\n      "
                        - args:
                          - var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                        modname:
                                          namespace: null
                                          name: test1
                                        name: accounts
                                        meta:
                                          model: []
                                          docs: null
                                        type:
                                          var:
                                            ref:
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: account
                                              meta:
                                                model: []
                                                docs: null
                                              i:
                                                d:
                                                - 71
                                                - 92
                                                - 92
                                                c: "(defschema account\n    balance:decimal\n
                                                  \   amount:decimal\n    data)\n\n
                                                  \ "
                                              fields:
                                              - name: balance
                                                type: decimal
                                                info:
                                                  d:
                                                  - 7
                                                  - 115
                                                  - 115
                                                  c: balance
                                              - name: amount
                                                type: decimal
                                                info:
                                                  d:
                                                  - 6
                                                  - 135
                                                  - 135
                                                  c: amount
                                              - name: data
                                                type:
                                                  tag: TypeVar
                                                  name: a
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 4
                                                  - 154
                                                  - 154
                                                  c: data
                                          i: null
                                        i:
                                          d:
                                          - 33
                                          - 163
                                          - 163
                                          c: "(deftable accounts:{account})\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 9
                              - 1427
                              - 1427
                              c: 'accounts '
                          - var:
                              f:
                                var:
                                  b: 0
                                i: null
                            i:
                              d:
                              - 17
                              - 1436
                              - 1436
                              c: "acct\n            "
                          - obj:
                              amount:
                                args:
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1499
                                    - 1499
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '-'
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1497
                                    - 1497
                                    c: '- '
                                info:
                                  d:
                                  - 23
                                  - 1496
                                  - 1496
                                  c: "(- amount)\n            "
                              data:
                                var:
                                  f:
                                    var:
                                      b: 2
                                    i: null
                                i:
                                  d:
                                  - 5
                                  - 1529
                                  - 1529
                                  c: 'data '
                              balance:
                                args:
                                - var:
                                    b: 0
                                  i:
                                    d:
                                    - 8
                                    - 1469
                                    - 1469
                                    c: 'balance '
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1477
                                    - 1477
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '-'
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1467
                                    - 1467
                                    c: '- '
                                info:
                                  d:
                                  - 18
                                  - 1466
                                  - 1466
                                  c: (- balance amount)
                            keyorder:
                            - balance
                            - amount
                            - data
                            type: '*'
                            i:
                              d:
                              - 82
                              - 1453
                              - 1453
                              c: |-
                                { "balance": (- balance amount), "amount": (- amount)
                                            , "data": data }
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: update
                                    i: null
                                i: null
                            i:
                              d:
                              - 7
                              - 1420
                              - 1420
                              c: 'update '
                          info:
                            d:
                            - 117
                            - 1419
                            - 1419
                            c: |-
                              (update accounts acct
                                          { "balance": (- balance amount), "amount": (- amount)
                                          , "data": data })
                        type: '*'
                        i:
                          d:
                          - 210
                          - 1327
                          - 1327
                          c: |-
                            (with-read accounts acct { "balance":= balance }
                                  (check-balance balance amount)
                                  (update accounts acct
                                        { "balance": (- balance amount), "amount": (- amount)
                                        , "data": data }))
                    pairs:
                    - arg:
                        name: balance
                        type:
                          tag: TypeVar
                          name: v
                          constraint: []
                        info:
                          d:
                          - 8
                          - 1366
                          - 1366
                          c: 'balance '
                      val:
                        i:
                          d:
                          - 9
                          - 1354
                          - 1354
                          c: '"balance"'
                        lit: balance
                    type:
                      bind: '*'
                    i:
                      d:
                      - 30
                      - 1352
                      - 1352
                      c: "{ \"balance\":= balance }\n      "
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: with-read
                        i: null
                    i:
                      d:
                      - 10
                      - 1328
                      - 1328
                      c: 'with-read '
                  info:
                    d:
                    - 210
                    - 1327
                    - 1327
                    c: |-
                      (with-read accounts acct { "balance":= balance }
                            (check-balance balance amount)
                            (update accounts acct
                                  { "balance": (- balance amount), "amount": (- amount)
                                  , "data": data }))
                type: '*'
                i:
                  d:
                  - 379
                  - 1163
                  - 1163
                  c: "(defun debit (acct amount data)\n    \"Debit ACCT for AMOUNT,
                    enforcing positive amount and sufficient funds, annotating with
                    DATA\"\n    (enforce-positive amount)\n    (with-read accounts
                    acct { \"balance\":= balance }\n      (check-balance balance amount)\n
                    \     (update accounts acct\n            { \"balance\": (- balance
                    amount), \"amount\": (- amount)\n            , \"data\": data
                    })))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Debit ACCT for AMOUNT, enforcing positive amount and sufficient
                funds, annotating with DATA
            info:
              d:
              - 379
              - 1163
              - 1163
              c: "(defun debit (acct amount data)\n    \"Debit ACCT for AMOUNT, enforcing
                positive amount and sufficient funds, annotating with DATA\"\n    (enforce-positive
                amount)\n    (with-read accounts acct { \"balance\":= balance }\n
                \     (check-balance balance amount)\n      (update accounts acct\n
                \           { \"balance\": (- balance amount), \"amount\": (- amount)\n
                \           , \"data\": data })))\n\n  "
        account:
          ref:
            modname:
              namespace: null
              name: test1
            name: account
            meta:
              model: []
              docs: null
            i:
              d:
              - 71
              - 92
              - 92
              c: "(defschema account\n    balance:decimal\n    amount:decimal\n    data)\n\n
                \ "
            fields:
            - name: balance
              type: decimal
              info:
                d:
                - 7
                - 115
                - 115
                c: balance
            - name: amount
              type: decimal
              info:
                d:
                - 6
                - 135
                - 135
                c: amount
            - name: data
              type:
                tag: TypeVar
                name: a
                constraint: []
              info:
                d:
                - 4
                - 154
                - 154
                c: data
        credit:
          ref:
            defType: Defun
            funType:
              args:
              - name: acct
                type:
                  tag: TypeVar
                  name: x
                  constraint: []
                info:
                  d:
                  - 5
                  - 1557
                  - 1557
                  c: 'acct '
              - name: amount
                type:
                  tag: TypeVar
                  name: 'y'
                  constraint: []
                info:
                  d:
                  - 7
                  - 1562
                  - 1562
                  c: 'amount '
              - name: data
                type:
                  tag: TypeVar
                  name: z
                  constraint: []
                info:
                  d:
                  - 4
                  - 1569
                  - 1569
                  c: data
              return:
                tag: TypeVar
                name: w
                constraint: []
            defName: credit
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 6
                      - 1653
                      - 1653
                      c: amount
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: ah
                                  constraint: []
                                info:
                                  d:
                                  - 6
                                  - 2067
                                  - 2067
                                  c: amount
                              return:
                                tag: TypeVar
                                name: ag
                                constraint: []
                            defName: enforce-positive
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args:
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 7
                                        - 2092
                                        - 2092
                                        c: 'amount '
                                    - i:
                                        d:
                                        - 3
                                        - 2099
                                        - 2099
                                        c: '0.0'
                                      lit: 0
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '>='
                                          i: null
                                      i:
                                        d:
                                        - 3
                                        - 2089
                                        - 2089
                                        c: '>= '
                                    info:
                                      d:
                                      - 16
                                      - 2088
                                      - 2088
                                      c: '(>= amount 0.0) '
                                  - i:
                                      d:
                                      - 25
                                      - 2104
                                      - 2104
                                      c: '"amount must be positive"'
                                    lit: amount must be positive
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: enforce
                                        i: null
                                    i:
                                      d:
                                      - 8
                                      - 2080
                                      - 2080
                                      c: 'enforce '
                                  info:
                                    d:
                                    - 51
                                    - 2079
                                    - 2079
                                    c: (enforce (>= amount 0.0) "amount must be positive")
                                type: '*'
                                i:
                                  d:
                                  - 92
                                  - 2042
                                  - 2042
                                  c: "(defun enforce-positive (amount)\n    (enforce
                                    (>= amount 0.0) \"amount must be positive\"))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 92
                              - 2042
                              - 2042
                              c: "(defun enforce-positive (amount)\n    (enforce (>=
                                amount 0.0) \"amount must be positive\"))\n\n "
                        i: null
                    i:
                      d:
                      - 17
                      - 1636
                      - 1636
                      c: 'enforce-positive '
                  info:
                    d:
                    - 30
                    - 1635
                    - 1635
                    c: "(enforce-positive amount)\n    "
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 1676
                      - 1676
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 5
                      - 1685
                      - 1685
                      c: 'acct '
                  - body:
                      scope:
                        list:
                        - args:
                          - var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                        modname:
                                          namespace: null
                                          name: test1
                                        name: accounts
                                        meta:
                                          model: []
                                          docs: null
                                        type:
                                          var:
                                            ref:
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: account
                                              meta:
                                                model: []
                                                docs: null
                                              i:
                                                d:
                                                - 71
                                                - 92
                                                - 92
                                                c: "(defschema account\n    balance:decimal\n
                                                  \   amount:decimal\n    data)\n\n
                                                  \ "
                                              fields:
                                              - name: balance
                                                type: decimal
                                                info:
                                                  d:
                                                  - 7
                                                  - 115
                                                  - 115
                                                  c: balance
                                              - name: amount
                                                type: decimal
                                                info:
                                                  d:
                                                  - 6
                                                  - 135
                                                  - 135
                                                  c: amount
                                              - name: data
                                                type:
                                                  tag: TypeVar
                                                  name: a
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 4
                                                  - 154
                                                  - 154
                                                  c: data
                                          i: null
                                        i:
                                          d:
                                          - 33
                                          - 163
                                          - 163
                                          c: "(deftable accounts:{account})\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 9
                              - 1728
                              - 1728
                              c: 'accounts '
                          - var:
                              f:
                                var:
                                  b: 0
                                i: null
                            i:
                              d:
                              - 17
                              - 1737
                              - 1737
                              c: "acct\n            "
                          - obj:
                              amount:
                                var:
                                  f:
                                    var:
                                      b: 1
                                    i: null
                                i:
                                  d:
                                  - 19
                                  - 1797
                                  - 1797
                                  c: "amount\n            "
                              data:
                                var:
                                  f:
                                    var:
                                      b: 2
                                    i: null
                                i:
                                  d:
                                  - 5
                                  - 1826
                                  - 1826
                                  c: 'data '
                              balance:
                                args:
                                - var:
                                    b: 0
                                  i:
                                    d:
                                    - 8
                                    - 1770
                                    - 1770
                                    c: 'balance '
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1778
                                    - 1778
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1768
                                    - 1768
                                    c: '+ '
                                info:
                                  d:
                                  - 18
                                  - 1767
                                  - 1767
                                  c: (+ balance amount)
                            keyorder:
                            - balance
                            - amount
                            - data
                            type: '*'
                            i:
                              d:
                              - 78
                              - 1754
                              - 1754
                              c: |-
                                { "balance": (+ balance amount), "amount": amount
                                            , "data": data }
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: update
                                    i: null
                                i: null
                            i:
                              d:
                              - 7
                              - 1721
                              - 1721
                              c: 'update '
                          info:
                            d:
                            - 113
                            - 1720
                            - 1720
                            c: |-
                              (update accounts acct
                                          { "balance": (+ balance amount), "amount": amount
                                          , "data": data })
                        type: '*'
                        i:
                          d:
                          - 169
                          - 1665
                          - 1665
                          c: |-
                            (with-read accounts acct { "balance":= balance }
                                  (update accounts acct
                                        { "balance": (+ balance amount), "amount": amount
                                        , "data": data }))
                    pairs:
                    - arg:
                        name: balance
                        type:
                          tag: TypeVar
                          name: aa
                          constraint: []
                        info:
                          d:
                          - 8
                          - 1704
                          - 1704
                          c: 'balance '
                      val:
                        i:
                          d:
                          - 9
                          - 1692
                          - 1692
                          c: '"balance"'
                        lit: balance
                    type:
                      bind: '*'
                    i:
                      d:
                      - 30
                      - 1690
                      - 1690
                      c: "{ \"balance\":= balance }\n      "
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: with-read
                        i: null
                    i:
                      d:
                      - 10
                      - 1666
                      - 1666
                      c: 'with-read '
                  info:
                    d:
                    - 169
                    - 1665
                    - 1665
                    c: |-
                      (with-read accounts acct { "balance":= balance }
                            (update accounts acct
                                  { "balance": (+ balance amount), "amount": amount
                                  , "data": data }))
                type: '*'
                i:
                  d:
                  - 298
                  - 1542
                  - 1542
                  c: "(defun credit (acct amount data)\n    \"Credit ACCT for AMOUNT,
                    enforcing positive amount\"\n    (enforce-positive amount)\n    (with-read
                    accounts acct { \"balance\":= balance }\n      (update accounts
                    acct\n            { \"balance\": (+ balance amount), \"amount\":
                    amount\n            , \"data\": data })))\n\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Credit ACCT for AMOUNT, enforcing positive amount
            info:
              d:
              - 298
              - 1542
              - 1542
              c: "(defun credit (acct amount data)\n    \"Credit ACCT for AMOUNT,
                enforcing positive amount\"\n    (enforce-positive amount)\n    (with-read
                accounts acct { \"balance\":= balance }\n      (update accounts acct\n
                \           { \"balance\": (+ balance amount), \"amount\": amount\n
                \           , \"data\": data })))\n\n\n  "
        check-balance:
          ref:
            defType: Defun
            funType:
              args:
              - name: balance
                type:
                  tag: TypeVar
                  name: ae
                  constraint: []
                info:
                  d:
                  - 8
                  - 1967
                  - 1967
                  c: 'balance '
              - name: amount
                type:
                  tag: TypeVar
                  name: af
                  constraint: []
                info:
                  d:
                  - 6
                  - 1975
                  - 1975
                  c: amount
              return:
                tag: TypeVar
                name: ad
                constraint: []
            defName: check-balance
            defBody:
              scope:
                list:
                - args:
                  - args:
                    - var:
                        b: 1
                      i:
                        d:
                        - 7
                        - 2000
                        - 2000
                        c: 'amount '
                    - var:
                        b: 0
                      i:
                        d:
                        - 7
                        - 2007
                        - 2007
                        c: balance
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: <=
                          i: null
                      i:
                        d:
                        - 3
                        - 1997
                        - 1997
                        c: '<= '
                    info:
                      d:
                      - 20
                      - 1996
                      - 1996
                      c: '(<= amount balance) '
                  - i:
                      d:
                      - 20
                      - 2016
                      - 2016
                      c: '"Insufficient funds"'
                    lit: Insufficient funds
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: enforce
                        i: null
                    i:
                      d:
                      - 8
                      - 1988
                      - 1988
                      c: 'enforce '
                  info:
                    d:
                    - 50
                    - 1987
                    - 1987
                    c: (enforce (<= amount balance) "Insufficient funds")
                type: '*'
                i:
                  d:
                  - 97
                  - 1945
                  - 1945
                  c: "(defun check-balance (balance amount)\n    (enforce (<= amount
                    balance) \"Insufficient funds\"))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 97
              - 1945
              - 1945
              c: "(defun check-balance (balance amount)\n    (enforce (<= amount balance)
                \"Insufficient funds\"))\n\n  "
        enforce-positive:
          ref:
            defType: Defun
            funType:
              args:
              - name: amount
                type:
                  tag: TypeVar
                  name: ah
                  constraint: []
                info:
                  d:
                  - 6
                  - 2067
                  - 2067
                  c: amount
              return:
                tag: TypeVar
                name: ag
                constraint: []
            defName: enforce-positive
            defBody:
              scope:
                list:
                - args:
                  - args:
                    - var:
                        b: 0
                      i:
                        d:
                        - 7
                        - 2092
                        - 2092
                        c: 'amount '
                    - i:
                        d:
                        - 3
                        - 2099
                        - 2099
                        c: '0.0'
                      lit: 0
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: '>='
                          i: null
                      i:
                        d:
                        - 3
                        - 2089
                        - 2089
                        c: '>= '
                    info:
                      d:
                      - 16
                      - 2088
                      - 2088
                      c: '(>= amount 0.0) '
                  - i:
                      d:
                      - 25
                      - 2104
                      - 2104
                      c: '"amount must be positive"'
                    lit: amount must be positive
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: enforce
                        i: null
                    i:
                      d:
                      - 8
                      - 2080
                      - 2080
                      c: 'enforce '
                  info:
                    d:
                    - 51
                    - 2079
                    - 2079
                    c: (enforce (>= amount 0.0) "amount must be positive")
                type: '*'
                i:
                  d:
                  - 92
                  - 2042
                  - 2042
                  c: "(defun enforce-positive (amount)\n    (enforce (>= amount 0.0)
                    \"amount must be positive\"))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 92
              - 2042
              - 2042
              c: "(defun enforce-positive (amount)\n    (enforce (>= amount 0.0) \"amount
                must be positive\"))\n\n "
        transfer:
          ref:
            defType: Defun
            funType:
              args:
              - name: src
                type:
                  tag: TypeVar
                  name: f
                  constraint: []
                info:
                  d:
                  - 4
                  - 358
                  - 358
                  c: 'src '
              - name: dest
                type:
                  tag: TypeVar
                  name: g
                  constraint: []
                info:
                  d:
                  - 5
                  - 362
                  - 362
                  c: 'dest '
              - name: amount
                type:
                  tag: TypeVar
                  name: h
                  constraint: []
                info:
                  d:
                  - 6
                  - 367
                  - 367
                  c: amount
              return:
                tag: TypeVar
                name: e
                constraint: []
            defName: transfer
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 0
                    i:
                      d:
                      - 4
                      - 450
                      - 450
                      c: 'src '
                  - var:
                      b: 2
                    i:
                      d:
                      - 7
                      - 454
                      - 454
                      c: 'amount '
                  - obj:
                      transfer-to:
                        var:
                          b: 1
                        i:
                          d:
                          - 5
                          - 478
                          - 478
                          c: 'dest '
                    keyorder:
                    - transfer-to
                    type: '*'
                    i:
                      d:
                      - 23
                      - 461
                      - 461
                      c: '{ "transfer-to": dest }'
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: acct
                                type:
                                  tag: TypeVar
                                  name: s
                                  constraint: []
                                info:
                                  d:
                                  - 5
                                  - 1177
                                  - 1177
                                  c: 'acct '
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: t
                                  constraint: []
                                info:
                                  d:
                                  - 7
                                  - 1182
                                  - 1182
                                  c: 'amount '
                              - name: data
                                type:
                                  tag: TypeVar
                                  name: u
                                  constraint: []
                                info:
                                  d:
                                  - 4
                                  - 1189
                                  - 1189
                                  c: data
                              return:
                                tag: TypeVar
                                name: r
                                constraint: []
                            defName: debit
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      b: 1
                                    i:
                                      d:
                                      - 6
                                      - 1315
                                      - 1315
                                      c: amount
                                  fun:
                                    var:
                                      f:
                                        var:
                                          ref:
                                            defType: Defun
                                            funType:
                                              args:
                                              - name: amount
                                                type:
                                                  tag: TypeVar
                                                  name: ah
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 6
                                                  - 2067
                                                  - 2067
                                                  c: amount
                                              return:
                                                tag: TypeVar
                                                name: ag
                                                constraint: []
                                            defName: enforce-positive
                                            defBody:
                                              scope:
                                                list:
                                                - args:
                                                  - args:
                                                    - var:
                                                        b: 0
                                                      i:
                                                        d:
                                                        - 7
                                                        - 2092
                                                        - 2092
                                                        c: 'amount '
                                                    - i:
                                                        d:
                                                        - 3
                                                        - 2099
                                                        - 2099
                                                        c: '0.0'
                                                      lit: 0
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '>='
                                                          i: null
                                                      i:
                                                        d:
                                                        - 3
                                                        - 2089
                                                        - 2089
                                                        c: '>= '
                                                    info:
                                                      d:
                                                      - 16
                                                      - 2088
                                                      - 2088
                                                      c: '(>= amount 0.0) '
                                                  - i:
                                                      d:
                                                      - 25
                                                      - 2104
                                                      - 2104
                                                      c: '"amount must be positive"'
                                                    lit: amount must be positive
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          direct:
                                                            pdnat: enforce
                                                        i: null
                                                    i:
                                                      d:
                                                      - 8
                                                      - 2080
                                                      - 2080
                                                      c: 'enforce '
                                                  info:
                                                    d:
                                                    - 51
                                                    - 2079
                                                    - 2079
                                                    c: (enforce (>= amount 0.0) "amount
                                                      must be positive")
                                                type: '*'
                                                i:
                                                  d:
                                                  - 92
                                                  - 2042
                                                  - 2042
                                                  c: "(defun enforce-positive (amount)\n
                                                    \   (enforce (>= amount 0.0) \"amount
                                                    must be positive\"))\n\n "
                                            module:
                                              namespace: null
                                              name: test1
                                            meta:
                                              model: []
                                              docs: null
                                            info:
                                              d:
                                              - 92
                                              - 2042
                                              - 2042
                                              c: "(defun enforce-positive (amount)\n
                                                \   (enforce (>= amount 0.0) \"amount
                                                must be positive\"))\n\n "
                                        i: null
                                    i:
                                      d:
                                      - 17
                                      - 1298
                                      - 1298
                                      c: 'enforce-positive '
                                  info:
                                    d:
                                    - 30
                                    - 1297
                                    - 1297
                                    c: "(enforce-positive amount)\n    "
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 1338
                                      - 1338
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 5
                                      - 1347
                                      - 1347
                                      c: 'acct '
                                  - body:
                                      scope:
                                        list:
                                        - args:
                                          - var:
                                              b: 0
                                            i:
                                              d:
                                              - 8
                                              - 1397
                                              - 1397
                                              c: 'balance '
                                          - var:
                                              f:
                                                var:
                                                  b: 1
                                                i: null
                                            i:
                                              d:
                                              - 6
                                              - 1405
                                              - 1405
                                              c: amount
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        defType: Defun
                                                        funType:
                                                          args:
                                                          - name: balance
                                                            type:
                                                              tag: TypeVar
                                                              name: ae
                                                              constraint: []
                                                            info:
                                                              d:
                                                              - 8
                                                              - 1967
                                                              - 1967
                                                              c: 'balance '
                                                          - name: amount
                                                            type:
                                                              tag: TypeVar
                                                              name: af
                                                              constraint: []
                                                            info:
                                                              d:
                                                              - 6
                                                              - 1975
                                                              - 1975
                                                              c: amount
                                                          return:
                                                            tag: TypeVar
                                                            name: ad
                                                            constraint: []
                                                        defName: check-balance
                                                        defBody:
                                                          scope:
                                                            list:
                                                            - args:
                                                              - args:
                                                                - var:
                                                                    b: 1
                                                                  i:
                                                                    d:
                                                                    - 7
                                                                    - 2000
                                                                    - 2000
                                                                    c: 'amount '
                                                                - var:
                                                                    b: 0
                                                                  i:
                                                                    d:
                                                                    - 7
                                                                    - 2007
                                                                    - 2007
                                                                    c: balance
                                                                fun:
                                                                  var:
                                                                    f:
                                                                      var:
                                                                        direct:
                                                                          pdnat: <=
                                                                      i: null
                                                                  i:
                                                                    d:
                                                                    - 3
                                                                    - 1997
                                                                    - 1997
                                                                    c: '<= '
                                                                info:
                                                                  d:
                                                                  - 20
                                                                  - 1996
                                                                  - 1996
                                                                  c: '(<= amount balance) '
                                                              - i:
                                                                  d:
                                                                  - 20
                                                                  - 2016
                                                                  - 2016
                                                                  c: '"Insufficient
                                                                    funds"'
                                                                lit: Insufficient
                                                                  funds
                                                              fun:
                                                                var:
                                                                  f:
                                                                    var:
                                                                      direct:
                                                                        pdnat: enforce
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 8
                                                                  - 1988
                                                                  - 1988
                                                                  c: 'enforce '
                                                              info:
                                                                d:
                                                                - 50
                                                                - 1987
                                                                - 1987
                                                                c: (enforce (<= amount
                                                                  balance) "Insufficient
                                                                  funds")
                                                            type: '*'
                                                            i:
                                                              d:
                                                              - 97
                                                              - 1945
                                                              - 1945
                                                              c: "(defun check-balance
                                                                (balance amount)\n
                                                                \   (enforce (<= amount
                                                                balance) \"Insufficient
                                                                funds\"))\n\n  "
                                                        module:
                                                          namespace: null
                                                          name: test1
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        info:
                                                          d:
                                                          - 97
                                                          - 1945
                                                          - 1945
                                                          c: "(defun check-balance
                                                            (balance amount)\n    (enforce
                                                            (<= amount balance) \"Insufficient
                                                            funds\"))\n\n  "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 14
                                              - 1383
                                              - 1383
                                              c: 'check-balance '
                                          info:
                                            d:
                                            - 37
                                            - 1382
                                            - 1382
                                            c: "(check-balance balance amount)\n      "
                                        - args:
                                          - var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: accounts
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        type:
                                                          var:
                                                            ref:
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: account
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              i:
                                                                d:
                                                                - 71
                                                                - 92
                                                                - 92
                                                                c: "(defschema account\n
                                                                  \   balance:decimal\n
                                                                  \   amount:decimal\n
                                                                  \   data)\n\n  "
                                                              fields:
                                                              - name: balance
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 7
                                                                  - 115
                                                                  - 115
                                                                  c: balance
                                                              - name: amount
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 6
                                                                  - 135
                                                                  - 135
                                                                  c: amount
                                                              - name: data
                                                                type:
                                                                  tag: TypeVar
                                                                  name: a
                                                                  constraint: []
                                                                info:
                                                                  d:
                                                                  - 4
                                                                  - 154
                                                                  - 154
                                                                  c: data
                                                          i: null
                                                        i:
                                                          d:
                                                          - 33
                                                          - 163
                                                          - 163
                                                          c: "(deftable accounts:{account})\n\n
                                                            \ "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 9
                                              - 1427
                                              - 1427
                                              c: 'accounts '
                                          - var:
                                              f:
                                                var:
                                                  b: 0
                                                i: null
                                            i:
                                              d:
                                              - 17
                                              - 1436
                                              - 1436
                                              c: "acct\n            "
                                          - obj:
                                              amount:
                                                args:
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1499
                                                    - 1499
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '-'
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1497
                                                    - 1497
                                                    c: '- '
                                                info:
                                                  d:
                                                  - 23
                                                  - 1496
                                                  - 1496
                                                  c: "(- amount)\n            "
                                              data:
                                                var:
                                                  f:
                                                    var:
                                                      b: 2
                                                    i: null
                                                i:
                                                  d:
                                                  - 5
                                                  - 1529
                                                  - 1529
                                                  c: 'data '
                                              balance:
                                                args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1469
                                                    - 1469
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1477
                                                    - 1477
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '-'
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1467
                                                    - 1467
                                                    c: '- '
                                                info:
                                                  d:
                                                  - 18
                                                  - 1466
                                                  - 1466
                                                  c: (- balance amount)
                                            keyorder:
                                            - balance
                                            - amount
                                            - data
                                            type: '*'
                                            i:
                                              d:
                                              - 82
                                              - 1453
                                              - 1453
                                              c: |-
                                                { "balance": (- balance amount), "amount": (- amount)
                                                            , "data": data }
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: update
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 7
                                              - 1420
                                              - 1420
                                              c: 'update '
                                          info:
                                            d:
                                            - 117
                                            - 1419
                                            - 1419
                                            c: |-
                                              (update accounts acct
                                                          { "balance": (- balance amount), "amount": (- amount)
                                                          , "data": data })
                                        type: '*'
                                        i:
                                          d:
                                          - 210
                                          - 1327
                                          - 1327
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (check-balance balance amount)
                                                  (update accounts acct
                                                        { "balance": (- balance amount), "amount": (- amount)
                                                        , "data": data }))
                                    pairs:
                                    - arg:
                                        name: balance
                                        type:
                                          tag: TypeVar
                                          name: v
                                          constraint: []
                                        info:
                                          d:
                                          - 8
                                          - 1366
                                          - 1366
                                          c: 'balance '
                                      val:
                                        i:
                                          d:
                                          - 9
                                          - 1354
                                          - 1354
                                          c: '"balance"'
                                        lit: balance
                                    type:
                                      bind: '*'
                                    i:
                                      d:
                                      - 30
                                      - 1352
                                      - 1352
                                      c: "{ \"balance\":= balance }\n      "
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: with-read
                                        i: null
                                    i:
                                      d:
                                      - 10
                                      - 1328
                                      - 1328
                                      c: 'with-read '
                                  info:
                                    d:
                                    - 210
                                    - 1327
                                    - 1327
                                    c: |-
                                      (with-read accounts acct { "balance":= balance }
                                            (check-balance balance amount)
                                            (update accounts acct
                                                  { "balance": (- balance amount), "amount": (- amount)
                                                  , "data": data }))
                                type: '*'
                                i:
                                  d:
                                  - 379
                                  - 1163
                                  - 1163
                                  c: "(defun debit (acct amount data)\n    \"Debit
                                    ACCT for AMOUNT, enforcing positive amount and
                                    sufficient funds, annotating with DATA\"\n    (enforce-positive
                                    amount)\n    (with-read accounts acct { \"balance\":=
                                    balance }\n      (check-balance balance amount)\n
                                    \     (update accounts acct\n            { \"balance\":
                                    (- balance amount), \"amount\": (- amount)\n            ,
                                    \"data\": data })))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: Debit ACCT for AMOUNT, enforcing positive amount
                                and sufficient funds, annotating with DATA
                            info:
                              d:
                              - 379
                              - 1163
                              - 1163
                              c: "(defun debit (acct amount data)\n    \"Debit ACCT
                                for AMOUNT, enforcing positive amount and sufficient
                                funds, annotating with DATA\"\n    (enforce-positive
                                amount)\n    (with-read accounts acct { \"balance\":=
                                balance }\n      (check-balance balance amount)\n
                                \     (update accounts acct\n            { \"balance\":
                                (- balance amount), \"amount\": (- amount)\n            ,
                                \"data\": data })))\n\n  "
                        i: null
                    i:
                      d:
                      - 6
                      - 444
                      - 444
                      c: 'debit '
                  info:
                    d:
                    - 47
                    - 443
                    - 443
                    c: "(debit src amount { \"transfer-to\": dest })\n    "
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 5
                      - 498
                      - 498
                      c: 'dest '
                  - var:
                      b: 2
                    i:
                      d:
                      - 7
                      - 503
                      - 503
                      c: 'amount '
                  - obj:
                      transfer-from:
                        var:
                          b: 0
                        i:
                          d:
                          - 4
                          - 529
                          - 529
                          c: 'src '
                    keyorder:
                    - transfer-from
                    type: '*'
                    i:
                      d:
                      - 24
                      - 510
                      - 510
                      c: '{ "transfer-from": src }'
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: acct
                                type:
                                  tag: TypeVar
                                  name: x
                                  constraint: []
                                info:
                                  d:
                                  - 5
                                  - 1557
                                  - 1557
                                  c: 'acct '
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: 'y'
                                  constraint: []
                                info:
                                  d:
                                  - 7
                                  - 1562
                                  - 1562
                                  c: 'amount '
                              - name: data
                                type:
                                  tag: TypeVar
                                  name: z
                                  constraint: []
                                info:
                                  d:
                                  - 4
                                  - 1569
                                  - 1569
                                  c: data
                              return:
                                tag: TypeVar
                                name: w
                                constraint: []
                            defName: credit
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      b: 1
                                    i:
                                      d:
                                      - 6
                                      - 1653
                                      - 1653
                                      c: amount
                                  fun:
                                    var:
                                      f:
                                        var:
                                          ref:
                                            defType: Defun
                                            funType:
                                              args:
                                              - name: amount
                                                type:
                                                  tag: TypeVar
                                                  name: ah
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 6
                                                  - 2067
                                                  - 2067
                                                  c: amount
                                              return:
                                                tag: TypeVar
                                                name: ag
                                                constraint: []
                                            defName: enforce-positive
                                            defBody:
                                              scope:
                                                list:
                                                - args:
                                                  - args:
                                                    - var:
                                                        b: 0
                                                      i:
                                                        d:
                                                        - 7
                                                        - 2092
                                                        - 2092
                                                        c: 'amount '
                                                    - i:
                                                        d:
                                                        - 3
                                                        - 2099
                                                        - 2099
                                                        c: '0.0'
                                                      lit: 0
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '>='
                                                          i: null
                                                      i:
                                                        d:
                                                        - 3
                                                        - 2089
                                                        - 2089
                                                        c: '>= '
                                                    info:
                                                      d:
                                                      - 16
                                                      - 2088
                                                      - 2088
                                                      c: '(>= amount 0.0) '
                                                  - i:
                                                      d:
                                                      - 25
                                                      - 2104
                                                      - 2104
                                                      c: '"amount must be positive"'
                                                    lit: amount must be positive
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          direct:
                                                            pdnat: enforce
                                                        i: null
                                                    i:
                                                      d:
                                                      - 8
                                                      - 2080
                                                      - 2080
                                                      c: 'enforce '
                                                  info:
                                                    d:
                                                    - 51
                                                    - 2079
                                                    - 2079
                                                    c: (enforce (>= amount 0.0) "amount
                                                      must be positive")
                                                type: '*'
                                                i:
                                                  d:
                                                  - 92
                                                  - 2042
                                                  - 2042
                                                  c: "(defun enforce-positive (amount)\n
                                                    \   (enforce (>= amount 0.0) \"amount
                                                    must be positive\"))\n\n "
                                            module:
                                              namespace: null
                                              name: test1
                                            meta:
                                              model: []
                                              docs: null
                                            info:
                                              d:
                                              - 92
                                              - 2042
                                              - 2042
                                              c: "(defun enforce-positive (amount)\n
                                                \   (enforce (>= amount 0.0) \"amount
                                                must be positive\"))\n\n "
                                        i: null
                                    i:
                                      d:
                                      - 17
                                      - 1636
                                      - 1636
                                      c: 'enforce-positive '
                                  info:
                                    d:
                                    - 30
                                    - 1635
                                    - 1635
                                    c: "(enforce-positive amount)\n    "
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 1676
                                      - 1676
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 5
                                      - 1685
                                      - 1685
                                      c: 'acct '
                                  - body:
                                      scope:
                                        list:
                                        - args:
                                          - var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: accounts
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        type:
                                                          var:
                                                            ref:
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: account
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              i:
                                                                d:
                                                                - 71
                                                                - 92
                                                                - 92
                                                                c: "(defschema account\n
                                                                  \   balance:decimal\n
                                                                  \   amount:decimal\n
                                                                  \   data)\n\n  "
                                                              fields:
                                                              - name: balance
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 7
                                                                  - 115
                                                                  - 115
                                                                  c: balance
                                                              - name: amount
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 6
                                                                  - 135
                                                                  - 135
                                                                  c: amount
                                                              - name: data
                                                                type:
                                                                  tag: TypeVar
                                                                  name: a
                                                                  constraint: []
                                                                info:
                                                                  d:
                                                                  - 4
                                                                  - 154
                                                                  - 154
                                                                  c: data
                                                          i: null
                                                        i:
                                                          d:
                                                          - 33
                                                          - 163
                                                          - 163
                                                          c: "(deftable accounts:{account})\n\n
                                                            \ "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 9
                                              - 1728
                                              - 1728
                                              c: 'accounts '
                                          - var:
                                              f:
                                                var:
                                                  b: 0
                                                i: null
                                            i:
                                              d:
                                              - 17
                                              - 1737
                                              - 1737
                                              c: "acct\n            "
                                          - obj:
                                              amount:
                                                var:
                                                  f:
                                                    var:
                                                      b: 1
                                                    i: null
                                                i:
                                                  d:
                                                  - 19
                                                  - 1797
                                                  - 1797
                                                  c: "amount\n            "
                                              data:
                                                var:
                                                  f:
                                                    var:
                                                      b: 2
                                                    i: null
                                                i:
                                                  d:
                                                  - 5
                                                  - 1826
                                                  - 1826
                                                  c: 'data '
                                              balance:
                                                args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1770
                                                    - 1770
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1778
                                                    - 1778
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: +
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1768
                                                    - 1768
                                                    c: '+ '
                                                info:
                                                  d:
                                                  - 18
                                                  - 1767
                                                  - 1767
                                                  c: (+ balance amount)
                                            keyorder:
                                            - balance
                                            - amount
                                            - data
                                            type: '*'
                                            i:
                                              d:
                                              - 78
                                              - 1754
                                              - 1754
                                              c: |-
                                                { "balance": (+ balance amount), "amount": amount
                                                            , "data": data }
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: update
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 7
                                              - 1721
                                              - 1721
                                              c: 'update '
                                          info:
                                            d:
                                            - 113
                                            - 1720
                                            - 1720
                                            c: |-
                                              (update accounts acct
                                                          { "balance": (+ balance amount), "amount": amount
                                                          , "data": data })
                                        type: '*'
                                        i:
                                          d:
                                          - 169
                                          - 1665
                                          - 1665
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (update accounts acct
                                                        { "balance": (+ balance amount), "amount": amount
                                                        , "data": data }))
                                    pairs:
                                    - arg:
                                        name: balance
                                        type:
                                          tag: TypeVar
                                          name: aa
                                          constraint: []
                                        info:
                                          d:
                                          - 8
                                          - 1704
                                          - 1704
                                          c: 'balance '
                                      val:
                                        i:
                                          d:
                                          - 9
                                          - 1692
                                          - 1692
                                          c: '"balance"'
                                        lit: balance
                                    type:
                                      bind: '*'
                                    i:
                                      d:
                                      - 30
                                      - 1690
                                      - 1690
                                      c: "{ \"balance\":= balance }\n      "
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: with-read
                                        i: null
                                    i:
                                      d:
                                      - 10
                                      - 1666
                                      - 1666
                                      c: 'with-read '
                                  info:
                                    d:
                                    - 169
                                    - 1665
                                    - 1665
                                    c: |-
                                      (with-read accounts acct { "balance":= balance }
                                            (update accounts acct
                                                  { "balance": (+ balance amount), "amount": amount
                                                  , "data": data }))
                                type: '*'
                                i:
                                  d:
                                  - 298
                                  - 1542
                                  - 1542
                                  c: "(defun credit (acct amount data)\n    \"Credit
                                    ACCT for AMOUNT, enforcing positive amount\"\n
                                    \   (enforce-positive amount)\n    (with-read
                                    accounts acct { \"balance\":= balance }\n      (update
                                    accounts acct\n            { \"balance\": (+ balance
                                    amount), \"amount\": amount\n            , \"data\":
                                    data })))\n\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: Credit ACCT for AMOUNT, enforcing positive amount
                            info:
                              d:
                              - 298
                              - 1542
                              - 1542
                              c: "(defun credit (acct amount data)\n    \"Credit ACCT
                                for AMOUNT, enforcing positive amount\"\n    (enforce-positive
                                amount)\n    (with-read accounts acct { \"balance\":=
                                balance }\n      (update accounts acct\n            {
                                \"balance\": (+ balance amount), \"amount\": amount\n
                                \           , \"data\": data })))\n\n\n  "
                        i: null
                    i:
                      d:
                      - 7
                      - 491
                      - 491
                      c: 'credit '
                  info:
                    d:
                    - 45
                    - 490
                    - 490
                    c: '(credit dest amount { "transfer-from": src })'
                type: '*'
                i:
                  d:
                  - 199
                  - 341
                  - 341
                  c: "(defun transfer (src dest amount)\n    \"transfer AMOUNT from
                    SRC to DEST for unencrypted accounts\"\n    (debit src amount
                    { \"transfer-to\": dest })\n    (credit dest amount { \"transfer-from\":
                    src }))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: transfer AMOUNT from SRC to DEST for unencrypted accounts
            info:
              d:
              - 199
              - 341
              - 341
              c: "(defun transfer (src dest amount)\n    \"transfer AMOUNT from SRC
                to DEST for unencrypted accounts\"\n    (debit src amount { \"transfer-to\":
                dest })\n    (credit dest amount { \"transfer-from\": src }))\n\n
                \ "
    key: test1
    table: SYS_modules
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.98
    key: sender00
    table: USER_coin_coin-table
  - value:
      pred: keys-all
      keys:
      - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
    key: test-admin
    table: SYS_keysets
  - value:
      module:
        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
        blessed: []
        interfaces: []
        imports: []
        name:
          namespace: null
          name: test1
        code: |
          (module test1 'test-admin

            (defschema account
              balance:decimal
              amount:decimal
              data)

            (deftable accounts:{account})

            (defun create-account (id init-bal)
              (insert accounts id
                   { "balance": init-bal, "amount": init-bal, "data": "Created account" }))

            (defun transfer (src dest amount)
              "transfer AMOUNT from SRC to DEST for unencrypted accounts"
              (debit src amount { "transfer-to": dest })
              (credit dest amount { "transfer-from": src }))

            (defpact payment (src-entity src dest-entity dest amount)
              "Two-phase confidential payment, sending money from SRC at SRC-ENTITY to DEST at DEST-ENTITY."

              (step-with-rollback
               src-entity
               (let ((result (debit src amount { "transfer-to": dest, "message": "Starting pact" })))
                 (yield { "result": result, "amount": amount, "tx": (pact-id) }))
               (credit src amount { "rollback": (pact-id) }))

              (step
               dest-entity
               (resume { "result":= result, "amount":= debit-amount }
                 (credit dest debit-amount
                         { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))))

            (defun debit (acct amount data)
              "Debit ACCT for AMOUNT, enforcing positive amount and sufficient funds, annotating with DATA"
              (enforce-positive amount)
              (with-read accounts acct { "balance":= balance }
                (check-balance balance amount)
                (update accounts acct
                      { "balance": (- balance amount), "amount": (- amount)
                      , "data": data })))

            (defun credit (acct amount data)
              "Credit ACCT for AMOUNT, enforcing positive amount"
              (enforce-positive amount)
              (with-read accounts acct { "balance":= balance }
                (update accounts acct
                      { "balance": (+ balance amount), "amount": amount
                      , "data": data })))


            (defun read-account (id)
              "Read data for account ID"
              (+ { "account": id } (read accounts id)))

            (defun check-balance (balance amount)
              (enforce (<= amount balance) "Insufficient funds"))

            (defun enforce-positive (amount)
              (enforce (>= amount 0.0) "amount must be positive"))

           (defun read-all ()
             (map (read-account) (keys accounts)))

           (defun read-all-global ()
             (map (read-account) ["Acct1" "Acct2"]))

           (defun create-global-accounts ()
             (create-account "Acct1" 1000000.0)
             (create-account "Acct2" 0.0)
             (read-all))

           (defpact create-private-accounts ()
             (step "Alice" (create-account "A" 1000.0))
             (step "Bob" (create-account "B" 1000.0))
             (step "Carol" (create-account "C" 1000.0))
             (step "Dinesh" (create-account "D" 1000.0)))

          )
        meta:
          model: []
          docs: null
        governance:
          keyset: test-admin
      refMap:
        payment:
          ref:
            defType: Defpact
            funType:
              args:
              - name: src-entity
                type:
                  tag: TypeVar
                  name: j
                  constraint: []
                info:
                  d:
                  - 11
                  - 558
                  - 558
                  c: 'src-entity '
              - name: src
                type:
                  tag: TypeVar
                  name: k
                  constraint: []
                info:
                  d:
                  - 4
                  - 569
                  - 569
                  c: 'src '
              - name: dest-entity
                type:
                  tag: TypeVar
                  name: l
                  constraint: []
                info:
                  d:
                  - 12
                  - 573
                  - 573
                  c: 'dest-entity '
              - name: dest
                type:
                  tag: TypeVar
                  name: m
                  constraint: []
                info:
                  d:
                  - 5
                  - 585
                  - 585
                  c: 'dest '
              - name: amount
                type:
                  tag: TypeVar
                  name: 'n'
                  constraint: []
                info:
                  d:
                  - 6
                  - 590
                  - 590
                  c: amount
              return:
                tag: TypeVar
                name: i
                constraint: []
            defName: payment
            defBody:
              scope:
                list:
                - rb:
                    args:
                    - var:
                        b: 1
                      i:
                        d:
                        - 4
                        - 915
                        - 915
                        c: 'src '
                    - var:
                        b: 4
                      i:
                        d:
                        - 7
                        - 919
                        - 919
                        c: 'amount '
                    - obj:
                        rollback:
                          args: []
                          fun:
                            var:
                              f:
                                var:
                                  direct:
                                    pdnat: pact-id
                                i: null
                            i:
                              d:
                              - 7
                              - 941
                              - 941
                              c: pact-id
                          info:
                            d:
                            - 10
                            - 940
                            - 940
                            c: '(pact-id) '
                      keyorder:
                      - rollback
                      type: '*'
                      i:
                        d:
                        - 25
                        - 926
                        - 926
                        c: '{ "rollback": (pact-id) }'
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: acct
                                  type:
                                    tag: TypeVar
                                    name: x
                                    constraint: []
                                  info:
                                    d:
                                    - 5
                                    - 1557
                                    - 1557
                                    c: 'acct '
                                - name: amount
                                  type:
                                    tag: TypeVar
                                    name: 'y'
                                    constraint: []
                                  info:
                                    d:
                                    - 7
                                    - 1562
                                    - 1562
                                    c: 'amount '
                                - name: data
                                  type:
                                    tag: TypeVar
                                    name: z
                                    constraint: []
                                  info:
                                    d:
                                    - 4
                                    - 1569
                                    - 1569
                                    c: data
                                return:
                                  tag: TypeVar
                                  name: w
                                  constraint: []
                              defName: credit
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        b: 1
                                      i:
                                        d:
                                        - 6
                                        - 1653
                                        - 1653
                                        c: amount
                                    fun:
                                      var:
                                        f:
                                          var:
                                            ref:
                                              defType: Defun
                                              funType:
                                                args:
                                                - name: amount
                                                  type:
                                                    tag: TypeVar
                                                    name: ah
                                                    constraint: []
                                                  info:
                                                    d:
                                                    - 6
                                                    - 2067
                                                    - 2067
                                                    c: amount
                                                return:
                                                  tag: TypeVar
                                                  name: ag
                                                  constraint: []
                                              defName: enforce-positive
                                              defBody:
                                                scope:
                                                  list:
                                                  - args:
                                                    - args:
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 7
                                                          - 2092
                                                          - 2092
                                                          c: 'amount '
                                                      - i:
                                                          d:
                                                          - 3
                                                          - 2099
                                                          - 2099
                                                          c: '0.0'
                                                        lit: 0
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: '>='
                                                            i: null
                                                        i:
                                                          d:
                                                          - 3
                                                          - 2089
                                                          - 2089
                                                          c: '>= '
                                                      info:
                                                        d:
                                                        - 16
                                                        - 2088
                                                        - 2088
                                                        c: '(>= amount 0.0) '
                                                    - i:
                                                        d:
                                                        - 25
                                                        - 2104
                                                        - 2104
                                                        c: '"amount must be positive"'
                                                      lit: amount must be positive
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: enforce
                                                          i: null
                                                      i:
                                                        d:
                                                        - 8
                                                        - 2080
                                                        - 2080
                                                        c: 'enforce '
                                                    info:
                                                      d:
                                                      - 51
                                                      - 2079
                                                      - 2079
                                                      c: (enforce (>= amount 0.0)
                                                        "amount must be positive")
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 92
                                                    - 2042
                                                    - 2042
                                                    c: "(defun enforce-positive (amount)\n
                                                      \   (enforce (>= amount 0.0)
                                                      \"amount must be positive\"))\n\n "
                                              module:
                                                namespace: null
                                                name: test1
                                              meta:
                                                model: []
                                                docs: null
                                              info:
                                                d:
                                                - 92
                                                - 2042
                                                - 2042
                                                c: "(defun enforce-positive (amount)\n
                                                  \   (enforce (>= amount 0.0) \"amount
                                                  must be positive\"))\n\n "
                                          i: null
                                      i:
                                        d:
                                        - 17
                                        - 1636
                                        - 1636
                                        c: 'enforce-positive '
                                    info:
                                      d:
                                      - 30
                                      - 1635
                                      - 1635
                                      c: "(enforce-positive amount)\n    "
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 1676
                                        - 1676
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 5
                                        - 1685
                                        - 1685
                                        c: 'acct '
                                    - body:
                                        scope:
                                          list:
                                          - args:
                                            - var:
                                                f:
                                                  var:
                                                    f:
                                                      var:
                                                        ref:
                                                          hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                          modname:
                                                            namespace: null
                                                            name: test1
                                                          name: accounts
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          type:
                                                            var:
                                                              ref:
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: account
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                i:
                                                                  d:
                                                                  - 71
                                                                  - 92
                                                                  - 92
                                                                  c: "(defschema account\n
                                                                    \   balance:decimal\n
                                                                    \   amount:decimal\n
                                                                    \   data)\n\n
                                                                    \ "
                                                                fields:
                                                                - name: balance
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 7
                                                                    - 115
                                                                    - 115
                                                                    c: balance
                                                                - name: amount
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 135
                                                                    - 135
                                                                    c: amount
                                                                - name: data
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: a
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 4
                                                                    - 154
                                                                    - 154
                                                                    c: data
                                                            i: null
                                                          i:
                                                            d:
                                                            - 33
                                                            - 163
                                                            - 163
                                                            c: "(deftable accounts:{account})\n\n
                                                              \ "
                                                      i: null
                                                  i: null
                                              i:
                                                d:
                                                - 9
                                                - 1728
                                                - 1728
                                                c: 'accounts '
                                            - var:
                                                f:
                                                  var:
                                                    b: 0
                                                  i: null
                                              i:
                                                d:
                                                - 17
                                                - 1737
                                                - 1737
                                                c: "acct\n            "
                                            - obj:
                                                amount:
                                                  var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 19
                                                    - 1797
                                                    - 1797
                                                    c: "amount\n            "
                                                data:
                                                  var:
                                                    f:
                                                      var:
                                                        b: 2
                                                      i: null
                                                  i:
                                                    d:
                                                    - 5
                                                    - 1826
                                                    - 1826
                                                    c: 'data '
                                                balance:
                                                  args:
                                                  - var:
                                                      b: 0
                                                    i:
                                                      d:
                                                      - 8
                                                      - 1770
                                                      - 1770
                                                      c: 'balance '
                                                  - var:
                                                      f:
                                                        var:
                                                          b: 1
                                                        i: null
                                                    i:
                                                      d:
                                                      - 6
                                                      - 1778
                                                      - 1778
                                                      c: amount
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: +
                                                            i: null
                                                        i: null
                                                    i:
                                                      d:
                                                      - 2
                                                      - 1768
                                                      - 1768
                                                      c: '+ '
                                                  info:
                                                    d:
                                                    - 18
                                                    - 1767
                                                    - 1767
                                                    c: (+ balance amount)
                                              keyorder:
                                              - balance
                                              - amount
                                              - data
                                              type: '*'
                                              i:
                                                d:
                                                - 78
                                                - 1754
                                                - 1754
                                                c: |-
                                                  { "balance": (+ balance amount), "amount": amount
                                                              , "data": data }
                                            fun:
                                              var:
                                                f:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: update
                                                      i: null
                                                  i: null
                                              i:
                                                d:
                                                - 7
                                                - 1721
                                                - 1721
                                                c: 'update '
                                            info:
                                              d:
                                              - 113
                                              - 1720
                                              - 1720
                                              c: |-
                                                (update accounts acct
                                                            { "balance": (+ balance amount), "amount": amount
                                                            , "data": data })
                                          type: '*'
                                          i:
                                            d:
                                            - 169
                                            - 1665
                                            - 1665
                                            c: |-
                                              (with-read accounts acct { "balance":= balance }
                                                    (update accounts acct
                                                          { "balance": (+ balance amount), "amount": amount
                                                          , "data": data }))
                                      pairs:
                                      - arg:
                                          name: balance
                                          type:
                                            tag: TypeVar
                                            name: aa
                                            constraint: []
                                          info:
                                            d:
                                            - 8
                                            - 1704
                                            - 1704
                                            c: 'balance '
                                        val:
                                          i:
                                            d:
                                            - 9
                                            - 1692
                                            - 1692
                                            c: '"balance"'
                                          lit: balance
                                      type:
                                        bind: '*'
                                      i:
                                        d:
                                        - 30
                                        - 1690
                                        - 1690
                                        c: "{ \"balance\":= balance }\n      "
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: with-read
                                          i: null
                                      i:
                                        d:
                                        - 10
                                        - 1666
                                        - 1666
                                        c: 'with-read '
                                    info:
                                      d:
                                      - 169
                                      - 1665
                                      - 1665
                                      c: |-
                                        (with-read accounts acct { "balance":= balance }
                                              (update accounts acct
                                                    { "balance": (+ balance amount), "amount": amount
                                                    , "data": data }))
                                  type: '*'
                                  i:
                                    d:
                                    - 298
                                    - 1542
                                    - 1542
                                    c: "(defun credit (acct amount data)\n    \"Credit
                                      ACCT for AMOUNT, enforcing positive amount\"\n
                                      \   (enforce-positive amount)\n    (with-read
                                      accounts acct { \"balance\":= balance }\n      (update
                                      accounts acct\n            { \"balance\": (+
                                      balance amount), \"amount\": amount\n            ,
                                      \"data\": data })))\n\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Credit ACCT for AMOUNT, enforcing positive amount
                              info:
                                d:
                                - 298
                                - 1542
                                - 1542
                                c: "(defun credit (acct amount data)\n    \"Credit
                                  ACCT for AMOUNT, enforcing positive amount\"\n    (enforce-positive
                                  amount)\n    (with-read accounts acct { \"balance\":=
                                  balance }\n      (update accounts acct\n            {
                                  \"balance\": (+ balance amount), \"amount\": amount\n
                                  \           , \"data\": data })))\n\n\n  "
                          i: null
                      i:
                        d:
                        - 7
                        - 908
                        - 908
                        c: 'credit '
                    info:
                      d:
                      - 45
                      - 907
                      - 907
                      c: '(credit src amount { "rollback": (pact-id) })'
                  exec:
                    body:
                      scope:
                        list:
                        - args:
                          - obj:
                              tx:
                                args: []
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: pact-id
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 7
                                    - 889
                                    - 889
                                    c: pact-id
                                info:
                                  d:
                                  - 10
                                  - 888
                                  - 888
                                  c: '(pact-id) '
                              amount:
                                var:
                                  f:
                                    var:
                                      b: 4
                                    i: null
                                i:
                                  d:
                                  - 6
                                  - 874
                                  - 874
                                  c: amount
                              result:
                                var:
                                  b: 0
                                i:
                                  d:
                                  - 6
                                  - 856
                                  - 856
                                  c: result
                            keyorder:
                            - result
                            - amount
                            - tx
                            type: '*'
                            i:
                              d:
                              - 55
                              - 844
                              - 844
                              c: '{ "result": result, "amount": amount, "tx": (pact-id)
                                }'
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: yield
                                    i: null
                                i: null
                            i:
                              d:
                              - 6
                              - 838
                              - 838
                              c: 'yield '
                          info:
                            d:
                            - 63
                            - 837
                            - 837
                            c: '(yield { "result": result, "amount": amount, "tx":
                              (pact-id) })'
                        type: '*'
                        i:
                          d:
                          - 164
                          - 743
                          - 743
                          c: "(let ((result (debit src amount { \"transfer-to\": dest,
                            \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                            result, \"amount\": amount, \"tx\": (pact-id) }))\n     "
                    pairs:
                    - arg:
                        name: result
                        type:
                          tag: TypeVar
                          name: o
                          constraint: []
                        info:
                          d:
                          - 7
                          - 750
                          - 750
                          c: 'result '
                      val:
                        args:
                        - var:
                            b: 1
                          i:
                            d:
                            - 4
                            - 764
                            - 764
                            c: 'src '
                        - var:
                            b: 4
                          i:
                            d:
                            - 7
                            - 768
                            - 768
                            c: 'amount '
                        - obj:
                            transfer-to:
                              var:
                                b: 3
                              i:
                                d:
                                - 4
                                - 792
                                - 792
                                c: dest
                            message:
                              i:
                                d:
                                - 16
                                - 809
                                - 809
                                c: '"Starting pact" '
                              lit: Starting pact
                          keyorder:
                          - transfer-to
                          - message
                          type: '*'
                          i:
                            d:
                            - 51
                            - 775
                            - 775
                            c: '{ "transfer-to": dest, "message": "Starting pact"
                              }'
                        fun:
                          var:
                            f:
                              var:
                                ref:
                                  defType: Defun
                                  funType:
                                    args:
                                    - name: acct
                                      type:
                                        tag: TypeVar
                                        name: s
                                        constraint: []
                                      info:
                                        d:
                                        - 5
                                        - 1177
                                        - 1177
                                        c: 'acct '
                                    - name: amount
                                      type:
                                        tag: TypeVar
                                        name: t
                                        constraint: []
                                      info:
                                        d:
                                        - 7
                                        - 1182
                                        - 1182
                                        c: 'amount '
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: u
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 1189
                                        - 1189
                                        c: data
                                    return:
                                      tag: TypeVar
                                      name: r
                                      constraint: []
                                  defName: debit
                                  defBody:
                                    scope:
                                      list:
                                      - args:
                                        - var:
                                            b: 1
                                          i:
                                            d:
                                            - 6
                                            - 1315
                                            - 1315
                                            c: amount
                                        fun:
                                          var:
                                            f:
                                              var:
                                                ref:
                                                  defType: Defun
                                                  funType:
                                                    args:
                                                    - name: amount
                                                      type:
                                                        tag: TypeVar
                                                        name: ah
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 6
                                                        - 2067
                                                        - 2067
                                                        c: amount
                                                    return:
                                                      tag: TypeVar
                                                      name: ag
                                                      constraint: []
                                                  defName: enforce-positive
                                                  defBody:
                                                    scope:
                                                      list:
                                                      - args:
                                                        - args:
                                                          - var:
                                                              b: 0
                                                            i:
                                                              d:
                                                              - 7
                                                              - 2092
                                                              - 2092
                                                              c: 'amount '
                                                          - i:
                                                              d:
                                                              - 3
                                                              - 2099
                                                              - 2099
                                                              c: '0.0'
                                                            lit: 0
                                                          fun:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '>='
                                                                i: null
                                                            i:
                                                              d:
                                                              - 3
                                                              - 2089
                                                              - 2089
                                                              c: '>= '
                                                          info:
                                                            d:
                                                            - 16
                                                            - 2088
                                                            - 2088
                                                            c: '(>= amount 0.0) '
                                                        - i:
                                                            d:
                                                            - 25
                                                            - 2104
                                                            - 2104
                                                            c: '"amount must be positive"'
                                                          lit: amount must be positive
                                                        fun:
                                                          var:
                                                            f:
                                                              var:
                                                                direct:
                                                                  pdnat: enforce
                                                              i: null
                                                          i:
                                                            d:
                                                            - 8
                                                            - 2080
                                                            - 2080
                                                            c: 'enforce '
                                                        info:
                                                          d:
                                                          - 51
                                                          - 2079
                                                          - 2079
                                                          c: (enforce (>= amount 0.0)
                                                            "amount must be positive")
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 92
                                                        - 2042
                                                        - 2042
                                                        c: "(defun enforce-positive
                                                          (amount)\n    (enforce (>=
                                                          amount 0.0) \"amount must
                                                          be positive\"))\n\n "
                                                  module:
                                                    namespace: null
                                                    name: test1
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  info:
                                                    d:
                                                    - 92
                                                    - 2042
                                                    - 2042
                                                    c: "(defun enforce-positive (amount)\n
                                                      \   (enforce (>= amount 0.0)
                                                      \"amount must be positive\"))\n\n "
                                              i: null
                                          i:
                                            d:
                                            - 17
                                            - 1298
                                            - 1298
                                            c: 'enforce-positive '
                                        info:
                                          d:
                                          - 30
                                          - 1297
                                          - 1297
                                          c: "(enforce-positive amount)\n    "
                                      - args:
                                        - var:
                                            f:
                                              var:
                                                ref:
                                                  hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: accounts
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  type:
                                                    var:
                                                      ref:
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: account
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        i:
                                                          d:
                                                          - 71
                                                          - 92
                                                          - 92
                                                          c: "(defschema account\n
                                                            \   balance:decimal\n
                                                            \   amount:decimal\n    data)\n\n
                                                            \ "
                                                        fields:
                                                        - name: balance
                                                          type: decimal
                                                          info:
                                                            d:
                                                            - 7
                                                            - 115
                                                            - 115
                                                            c: balance
                                                        - name: amount
                                                          type: decimal
                                                          info:
                                                            d:
                                                            - 6
                                                            - 135
                                                            - 135
                                                            c: amount
                                                        - name: data
                                                          type:
                                                            tag: TypeVar
                                                            name: a
                                                            constraint: []
                                                          info:
                                                            d:
                                                            - 4
                                                            - 154
                                                            - 154
                                                            c: data
                                                    i: null
                                                  i:
                                                    d:
                                                    - 33
                                                    - 163
                                                    - 163
                                                    c: "(deftable accounts:{account})\n\n
                                                      \ "
                                              i: null
                                          i:
                                            d:
                                            - 9
                                            - 1338
                                            - 1338
                                            c: 'accounts '
                                        - var:
                                            b: 0
                                          i:
                                            d:
                                            - 5
                                            - 1347
                                            - 1347
                                            c: 'acct '
                                        - body:
                                            scope:
                                              list:
                                              - args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1397
                                                    - 1397
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1405
                                                    - 1405
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            ref:
                                                              defType: Defun
                                                              funType:
                                                                args:
                                                                - name: balance
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: ae
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 8
                                                                    - 1967
                                                                    - 1967
                                                                    c: 'balance '
                                                                - name: amount
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: af
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 1975
                                                                    - 1975
                                                                    c: amount
                                                                return:
                                                                  tag: TypeVar
                                                                  name: ad
                                                                  constraint: []
                                                              defName: check-balance
                                                              defBody:
                                                                scope:
                                                                  list:
                                                                  - args:
                                                                    - args:
                                                                      - var:
                                                                          b: 1
                                                                        i:
                                                                          d:
                                                                          - 7
                                                                          - 2000
                                                                          - 2000
                                                                          c: 'amount '
                                                                      - var:
                                                                          b: 0
                                                                        i:
                                                                          d:
                                                                          - 7
                                                                          - 2007
                                                                          - 2007
                                                                          c: balance
                                                                      fun:
                                                                        var:
                                                                          f:
                                                                            var:
                                                                              direct:
                                                                                pdnat: <=
                                                                            i: null
                                                                        i:
                                                                          d:
                                                                          - 3
                                                                          - 1997
                                                                          - 1997
                                                                          c: '<= '
                                                                      info:
                                                                        d:
                                                                        - 20
                                                                        - 1996
                                                                        - 1996
                                                                        c: '(<= amount
                                                                          balance) '
                                                                    - i:
                                                                        d:
                                                                        - 20
                                                                        - 2016
                                                                        - 2016
                                                                        c: '"Insufficient
                                                                          funds"'
                                                                      lit: Insufficient
                                                                        funds
                                                                    fun:
                                                                      var:
                                                                        f:
                                                                          var:
                                                                            direct:
                                                                              pdnat: enforce
                                                                          i: null
                                                                      i:
                                                                        d:
                                                                        - 8
                                                                        - 1988
                                                                        - 1988
                                                                        c: 'enforce '
                                                                    info:
                                                                      d:
                                                                      - 50
                                                                      - 1987
                                                                      - 1987
                                                                      c: (enforce
                                                                        (<= amount
                                                                        balance) "Insufficient
                                                                        funds")
                                                                  type: '*'
                                                                  i:
                                                                    d:
                                                                    - 97
                                                                    - 1945
                                                                    - 1945
                                                                    c: "(defun check-balance
                                                                      (balance amount)\n
                                                                      \   (enforce
                                                                      (<= amount balance)
                                                                      \"Insufficient
                                                                      funds\"))\n\n
                                                                      \ "
                                                              module:
                                                                namespace: null
                                                                name: test1
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              info:
                                                                d:
                                                                - 97
                                                                - 1945
                                                                - 1945
                                                                c: "(defun check-balance
                                                                  (balance amount)\n
                                                                  \   (enforce (<=
                                                                  amount balance)
                                                                  \"Insufficient funds\"))\n\n
                                                                  \ "
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 14
                                                    - 1383
                                                    - 1383
                                                    c: 'check-balance '
                                                info:
                                                  d:
                                                  - 37
                                                  - 1382
                                                  - 1382
                                                  c: "(check-balance balance amount)\n
                                                    \     "
                                              - args:
                                                - var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            ref:
                                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: accounts
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              type:
                                                                var:
                                                                  ref:
                                                                    modname:
                                                                      namespace: null
                                                                      name: test1
                                                                    name: account
                                                                    meta:
                                                                      model: []
                                                                      docs: null
                                                                    i:
                                                                      d:
                                                                      - 71
                                                                      - 92
                                                                      - 92
                                                                      c: "(defschema
                                                                        account\n
                                                                        \   balance:decimal\n
                                                                        \   amount:decimal\n
                                                                        \   data)\n\n
                                                                        \ "
                                                                    fields:
                                                                    - name: balance
                                                                      type: decimal
                                                                      info:
                                                                        d:
                                                                        - 7
                                                                        - 115
                                                                        - 115
                                                                        c: balance
                                                                    - name: amount
                                                                      type: decimal
                                                                      info:
                                                                        d:
                                                                        - 6
                                                                        - 135
                                                                        - 135
                                                                        c: amount
                                                                    - name: data
                                                                      type:
                                                                        tag: TypeVar
                                                                        name: a
                                                                        constraint: []
                                                                      info:
                                                                        d:
                                                                        - 4
                                                                        - 154
                                                                        - 154
                                                                        c: data
                                                                i: null
                                                              i:
                                                                d:
                                                                - 33
                                                                - 163
                                                                - 163
                                                                c: "(deftable accounts:{account})\n\n
                                                                  \ "
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 9
                                                    - 1427
                                                    - 1427
                                                    c: 'accounts '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 0
                                                      i: null
                                                  i:
                                                    d:
                                                    - 17
                                                    - 1436
                                                    - 1436
                                                    c: "acct\n            "
                                                - obj:
                                                    amount:
                                                      args:
                                                      - var:
                                                          f:
                                                            var:
                                                              b: 1
                                                            i: null
                                                        i:
                                                          d:
                                                          - 6
                                                          - 1499
                                                          - 1499
                                                          c: amount
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '-'
                                                                i: null
                                                            i: null
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1497
                                                          - 1497
                                                          c: '- '
                                                      info:
                                                        d:
                                                        - 23
                                                        - 1496
                                                        - 1496
                                                        c: "(- amount)\n            "
                                                    data:
                                                      var:
                                                        f:
                                                          var:
                                                            b: 2
                                                          i: null
                                                      i:
                                                        d:
                                                        - 5
                                                        - 1529
                                                        - 1529
                                                        c: 'data '
                                                    balance:
                                                      args:
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 8
                                                          - 1469
                                                          - 1469
                                                          c: 'balance '
                                                      - var:
                                                          f:
                                                            var:
                                                              b: 1
                                                            i: null
                                                        i:
                                                          d:
                                                          - 6
                                                          - 1477
                                                          - 1477
                                                          c: amount
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              f:
                                                                var:
                                                                  direct:
                                                                    pdnat: '-'
                                                                i: null
                                                            i: null
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1467
                                                          - 1467
                                                          c: '- '
                                                      info:
                                                        d:
                                                        - 18
                                                        - 1466
                                                        - 1466
                                                        c: (- balance amount)
                                                  keyorder:
                                                  - balance
                                                  - amount
                                                  - data
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 82
                                                    - 1453
                                                    - 1453
                                                    c: |-
                                                      { "balance": (- balance amount), "amount": (- amount)
                                                                  , "data": data }
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: update
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 7
                                                    - 1420
                                                    - 1420
                                                    c: 'update '
                                                info:
                                                  d:
                                                  - 117
                                                  - 1419
                                                  - 1419
                                                  c: |-
                                                    (update accounts acct
                                                                { "balance": (- balance amount), "amount": (- amount)
                                                                , "data": data })
                                              type: '*'
                                              i:
                                                d:
                                                - 210
                                                - 1327
                                                - 1327
                                                c: |-
                                                  (with-read accounts acct { "balance":= balance }
                                                        (check-balance balance amount)
                                                        (update accounts acct
                                                              { "balance": (- balance amount), "amount": (- amount)
                                                              , "data": data }))
                                          pairs:
                                          - arg:
                                              name: balance
                                              type:
                                                tag: TypeVar
                                                name: v
                                                constraint: []
                                              info:
                                                d:
                                                - 8
                                                - 1366
                                                - 1366
                                                c: 'balance '
                                            val:
                                              i:
                                                d:
                                                - 9
                                                - 1354
                                                - 1354
                                                c: '"balance"'
                                              lit: balance
                                          type:
                                            bind: '*'
                                          i:
                                            d:
                                            - 30
                                            - 1352
                                            - 1352
                                            c: "{ \"balance\":= balance }\n      "
                                        fun:
                                          var:
                                            f:
                                              var:
                                                direct:
                                                  pdnat: with-read
                                              i: null
                                          i:
                                            d:
                                            - 10
                                            - 1328
                                            - 1328
                                            c: 'with-read '
                                        info:
                                          d:
                                          - 210
                                          - 1327
                                          - 1327
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (check-balance balance amount)
                                                  (update accounts acct
                                                        { "balance": (- balance amount), "amount": (- amount)
                                                        , "data": data }))
                                      type: '*'
                                      i:
                                        d:
                                        - 379
                                        - 1163
                                        - 1163
                                        c: "(defun debit (acct amount data)\n    \"Debit
                                          ACCT for AMOUNT, enforcing positive amount
                                          and sufficient funds, annotating with DATA\"\n
                                          \   (enforce-positive amount)\n    (with-read
                                          accounts acct { \"balance\":= balance }\n
                                          \     (check-balance balance amount)\n      (update
                                          accounts acct\n            { \"balance\":
                                          (- balance amount), \"amount\": (- amount)\n
                                          \           , \"data\": data })))\n\n  "
                                  module:
                                    namespace: null
                                    name: test1
                                  meta:
                                    model: []
                                    docs: Debit ACCT for AMOUNT, enforcing positive
                                      amount and sufficient funds, annotating with
                                      DATA
                                  info:
                                    d:
                                    - 379
                                    - 1163
                                    - 1163
                                    c: "(defun debit (acct amount data)\n    \"Debit
                                      ACCT for AMOUNT, enforcing positive amount and
                                      sufficient funds, annotating with DATA\"\n    (enforce-positive
                                      amount)\n    (with-read accounts acct { \"balance\":=
                                      balance }\n      (check-balance balance amount)\n
                                      \     (update accounts acct\n            { \"balance\":
                                      (- balance amount), \"amount\": (- amount)\n
                                      \           , \"data\": data })))\n\n  "
                              i: null
                          i:
                            d:
                            - 6
                            - 758
                            - 758
                            c: 'debit '
                        info:
                          d:
                          - 70
                          - 757
                          - 757
                          c: '(debit src amount { "transfer-to": dest, "message":
                            "Starting pact" })'
                    type: let
                    i:
                      d:
                      - 164
                      - 743
                      - 743
                      c: "(let ((result (debit src amount { \"transfer-to\": dest,
                        \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                        result, \"amount\": amount, \"tx\": (pact-id) }))\n     "
                  ent:
                    var:
                      b: 0
                    i:
                      d:
                      - 16
                      - 727
                      - 727
                      c: "src-entity\n     "
                  i:
                    d:
                    - 257
                    - 702
                    - 702
                    c: "(step-with-rollback\n     src-entity\n     (let ((result (debit
                      src amount { \"transfer-to\": dest, \"message\": \"Starting
                      pact\" })))\n       (yield { \"result\": result, \"amount\":
                      amount, \"tx\": (pact-id) }))\n     (credit src amount { \"rollback\":
                      (pact-id) }))\n\n    "
                - rb: null
                  exec:
                    args:
                    - body:
                        scope:
                          list:
                          - args:
                            - var:
                                f:
                                  var:
                                    b: 3
                                  i: null
                              i:
                                d:
                                - 5
                                - 1057
                                - 1057
                                c: 'dest '
                            - var:
                                b: 1
                              i:
                                d:
                                - 28
                                - 1062
                                - 1062
                                c: "debit-amount\n               "
                            - obj:
                                tx:
                                  args: []
                                  fun:
                                    var:
                                      f:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: pact-id
                                            i: null
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 1145
                                      - 1145
                                      c: pact-id
                                  info:
                                    d:
                                    - 10
                                    - 1144
                                    - 1144
                                    c: '(pact-id) '
                                debit-result:
                                  var:
                                    b: 0
                                  i:
                                    d:
                                    - 6
                                    - 1130
                                    - 1130
                                    c: result
                                transfer-from:
                                  var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 3
                                    - 1109
                                    - 1109
                                    c: src
                              keyorder:
                              - transfer-from
                              - debit-result
                              - tx
                              type: '*'
                              i:
                                d:
                                - 65
                                - 1090
                                - 1090
                                c: '{ "transfer-from": src, "debit-result": result,
                                  "tx": (pact-id) }'
                            fun:
                              var:
                                f:
                                  var:
                                    f:
                                      var:
                                        ref:
                                          defType: Defun
                                          funType:
                                            args:
                                            - name: acct
                                              type:
                                                tag: TypeVar
                                                name: x
                                                constraint: []
                                              info:
                                                d:
                                                - 5
                                                - 1557
                                                - 1557
                                                c: 'acct '
                                            - name: amount
                                              type:
                                                tag: TypeVar
                                                name: 'y'
                                                constraint: []
                                              info:
                                                d:
                                                - 7
                                                - 1562
                                                - 1562
                                                c: 'amount '
                                            - name: data
                                              type:
                                                tag: TypeVar
                                                name: z
                                                constraint: []
                                              info:
                                                d:
                                                - 4
                                                - 1569
                                                - 1569
                                                c: data
                                            return:
                                              tag: TypeVar
                                              name: w
                                              constraint: []
                                          defName: credit
                                          defBody:
                                            scope:
                                              list:
                                              - args:
                                                - var:
                                                    b: 1
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1653
                                                    - 1653
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        ref:
                                                          defType: Defun
                                                          funType:
                                                            args:
                                                            - name: amount
                                                              type:
                                                                tag: TypeVar
                                                                name: ah
                                                                constraint: []
                                                              info:
                                                                d:
                                                                - 6
                                                                - 2067
                                                                - 2067
                                                                c: amount
                                                            return:
                                                              tag: TypeVar
                                                              name: ag
                                                              constraint: []
                                                          defName: enforce-positive
                                                          defBody:
                                                            scope:
                                                              list:
                                                              - args:
                                                                - args:
                                                                  - var:
                                                                      b: 0
                                                                    i:
                                                                      d:
                                                                      - 7
                                                                      - 2092
                                                                      - 2092
                                                                      c: 'amount '
                                                                  - i:
                                                                      d:
                                                                      - 3
                                                                      - 2099
                                                                      - 2099
                                                                      c: '0.0'
                                                                    lit: 0
                                                                  fun:
                                                                    var:
                                                                      f:
                                                                        var:
                                                                          direct:
                                                                            pdnat: '>='
                                                                        i: null
                                                                    i:
                                                                      d:
                                                                      - 3
                                                                      - 2089
                                                                      - 2089
                                                                      c: '>= '
                                                                  info:
                                                                    d:
                                                                    - 16
                                                                    - 2088
                                                                    - 2088
                                                                    c: '(>= amount
                                                                      0.0) '
                                                                - i:
                                                                    d:
                                                                    - 25
                                                                    - 2104
                                                                    - 2104
                                                                    c: '"amount must
                                                                      be positive"'
                                                                  lit: amount must
                                                                    be positive
                                                                fun:
                                                                  var:
                                                                    f:
                                                                      var:
                                                                        direct:
                                                                          pdnat: enforce
                                                                      i: null
                                                                  i:
                                                                    d:
                                                                    - 8
                                                                    - 2080
                                                                    - 2080
                                                                    c: 'enforce '
                                                                info:
                                                                  d:
                                                                  - 51
                                                                  - 2079
                                                                  - 2079
                                                                  c: (enforce (>=
                                                                    amount 0.0) "amount
                                                                    must be positive")
                                                              type: '*'
                                                              i:
                                                                d:
                                                                - 92
                                                                - 2042
                                                                - 2042
                                                                c: "(defun enforce-positive
                                                                  (amount)\n    (enforce
                                                                  (>= amount 0.0)
                                                                  \"amount must be
                                                                  positive\"))\n\n "
                                                          module:
                                                            namespace: null
                                                            name: test1
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          info:
                                                            d:
                                                            - 92
                                                            - 2042
                                                            - 2042
                                                            c: "(defun enforce-positive
                                                              (amount)\n    (enforce
                                                              (>= amount 0.0) \"amount
                                                              must be positive\"))\n\n "
                                                      i: null
                                                  i:
                                                    d:
                                                    - 17
                                                    - 1636
                                                    - 1636
                                                    c: 'enforce-positive '
                                                info:
                                                  d:
                                                  - 30
                                                  - 1635
                                                  - 1635
                                                  c: "(enforce-positive amount)\n
                                                    \   "
                                              - args:
                                                - var:
                                                    f:
                                                      var:
                                                        ref:
                                                          hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                          modname:
                                                            namespace: null
                                                            name: test1
                                                          name: accounts
                                                          meta:
                                                            model: []
                                                            docs: null
                                                          type:
                                                            var:
                                                              ref:
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: account
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                i:
                                                                  d:
                                                                  - 71
                                                                  - 92
                                                                  - 92
                                                                  c: "(defschema account\n
                                                                    \   balance:decimal\n
                                                                    \   amount:decimal\n
                                                                    \   data)\n\n
                                                                    \ "
                                                                fields:
                                                                - name: balance
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 7
                                                                    - 115
                                                                    - 115
                                                                    c: balance
                                                                - name: amount
                                                                  type: decimal
                                                                  info:
                                                                    d:
                                                                    - 6
                                                                    - 135
                                                                    - 135
                                                                    c: amount
                                                                - name: data
                                                                  type:
                                                                    tag: TypeVar
                                                                    name: a
                                                                    constraint: []
                                                                  info:
                                                                    d:
                                                                    - 4
                                                                    - 154
                                                                    - 154
                                                                    c: data
                                                            i: null
                                                          i:
                                                            d:
                                                            - 33
                                                            - 163
                                                            - 163
                                                            c: "(deftable accounts:{account})\n\n
                                                              \ "
                                                      i: null
                                                  i:
                                                    d:
                                                    - 9
                                                    - 1676
                                                    - 1676
                                                    c: 'accounts '
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 5
                                                    - 1685
                                                    - 1685
                                                    c: 'acct '
                                                - body:
                                                    scope:
                                                      list:
                                                      - args:
                                                        - var:
                                                            f:
                                                              var:
                                                                f:
                                                                  var:
                                                                    ref:
                                                                      hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                                      modname:
                                                                        namespace: null
                                                                        name: test1
                                                                      name: accounts
                                                                      meta:
                                                                        model: []
                                                                        docs: null
                                                                      type:
                                                                        var:
                                                                          ref:
                                                                            modname:
                                                                              namespace: null
                                                                              name: test1
                                                                            name: account
                                                                            meta:
                                                                              model: []
                                                                              docs: null
                                                                            i:
                                                                              d:
                                                                              - 71
                                                                              - 92
                                                                              - 92
                                                                              c: "(defschema
                                                                                account\n
                                                                                \   balance:decimal\n
                                                                                \   amount:decimal\n
                                                                                \   data)\n\n
                                                                                \ "
                                                                            fields:
                                                                            - name: balance
                                                                              type: decimal
                                                                              info:
                                                                                d:
                                                                                - 7
                                                                                - 115
                                                                                - 115
                                                                                c: balance
                                                                            - name: amount
                                                                              type: decimal
                                                                              info:
                                                                                d:
                                                                                - 6
                                                                                - 135
                                                                                - 135
                                                                                c: amount
                                                                            - name: data
                                                                              type:
                                                                                tag: TypeVar
                                                                                name: a
                                                                                constraint: []
                                                                              info:
                                                                                d:
                                                                                - 4
                                                                                - 154
                                                                                - 154
                                                                                c: data
                                                                        i: null
                                                                      i:
                                                                        d:
                                                                        - 33
                                                                        - 163
                                                                        - 163
                                                                        c: "(deftable
                                                                          accounts:{account})\n\n
                                                                          \ "
                                                                  i: null
                                                              i: null
                                                          i:
                                                            d:
                                                            - 9
                                                            - 1728
                                                            - 1728
                                                            c: 'accounts '
                                                        - var:
                                                            f:
                                                              var:
                                                                b: 0
                                                              i: null
                                                          i:
                                                            d:
                                                            - 17
                                                            - 1737
                                                            - 1737
                                                            c: "acct\n            "
                                                        - obj:
                                                            amount:
                                                              var:
                                                                f:
                                                                  var:
                                                                    b: 1
                                                                  i: null
                                                              i:
                                                                d:
                                                                - 19
                                                                - 1797
                                                                - 1797
                                                                c: "amount\n            "
                                                            data:
                                                              var:
                                                                f:
                                                                  var:
                                                                    b: 2
                                                                  i: null
                                                              i:
                                                                d:
                                                                - 5
                                                                - 1826
                                                                - 1826
                                                                c: 'data '
                                                            balance:
                                                              args:
                                                              - var:
                                                                  b: 0
                                                                i:
                                                                  d:
                                                                  - 8
                                                                  - 1770
                                                                  - 1770
                                                                  c: 'balance '
                                                              - var:
                                                                  f:
                                                                    var:
                                                                      b: 1
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 6
                                                                  - 1778
                                                                  - 1778
                                                                  c: amount
                                                              fun:
                                                                var:
                                                                  f:
                                                                    var:
                                                                      f:
                                                                        var:
                                                                          direct:
                                                                            pdnat: +
                                                                        i: null
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 2
                                                                  - 1768
                                                                  - 1768
                                                                  c: '+ '
                                                              info:
                                                                d:
                                                                - 18
                                                                - 1767
                                                                - 1767
                                                                c: (+ balance amount)
                                                          keyorder:
                                                          - balance
                                                          - amount
                                                          - data
                                                          type: '*'
                                                          i:
                                                            d:
                                                            - 78
                                                            - 1754
                                                            - 1754
                                                            c: |-
                                                              { "balance": (+ balance amount), "amount": amount
                                                                          , "data": data }
                                                        fun:
                                                          var:
                                                            f:
                                                              var:
                                                                f:
                                                                  var:
                                                                    direct:
                                                                      pdnat: update
                                                                  i: null
                                                              i: null
                                                          i:
                                                            d:
                                                            - 7
                                                            - 1721
                                                            - 1721
                                                            c: 'update '
                                                        info:
                                                          d:
                                                          - 113
                                                          - 1720
                                                          - 1720
                                                          c: |-
                                                            (update accounts acct
                                                                        { "balance": (+ balance amount), "amount": amount
                                                                        , "data": data })
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 169
                                                        - 1665
                                                        - 1665
                                                        c: |-
                                                          (with-read accounts acct { "balance":= balance }
                                                                (update accounts acct
                                                                      { "balance": (+ balance amount), "amount": amount
                                                                      , "data": data }))
                                                  pairs:
                                                  - arg:
                                                      name: balance
                                                      type:
                                                        tag: TypeVar
                                                        name: aa
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 8
                                                        - 1704
                                                        - 1704
                                                        c: 'balance '
                                                    val:
                                                      i:
                                                        d:
                                                        - 9
                                                        - 1692
                                                        - 1692
                                                        c: '"balance"'
                                                      lit: balance
                                                  type:
                                                    bind: '*'
                                                  i:
                                                    d:
                                                    - 30
                                                    - 1690
                                                    - 1690
                                                    c: "{ \"balance\":= balance }\n
                                                      \     "
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: with-read
                                                      i: null
                                                  i:
                                                    d:
                                                    - 10
                                                    - 1666
                                                    - 1666
                                                    c: 'with-read '
                                                info:
                                                  d:
                                                  - 169
                                                  - 1665
                                                  - 1665
                                                  c: |-
                                                    (with-read accounts acct { "balance":= balance }
                                                          (update accounts acct
                                                                { "balance": (+ balance amount), "amount": amount
                                                                , "data": data }))
                                              type: '*'
                                              i:
                                                d:
                                                - 298
                                                - 1542
                                                - 1542
                                                c: "(defun credit (acct amount data)\n
                                                  \   \"Credit ACCT for AMOUNT, enforcing
                                                  positive amount\"\n    (enforce-positive
                                                  amount)\n    (with-read accounts
                                                  acct { \"balance\":= balance }\n
                                                  \     (update accounts acct\n            {
                                                  \"balance\": (+ balance amount),
                                                  \"amount\": amount\n            ,
                                                  \"data\": data })))\n\n\n  "
                                          module:
                                            namespace: null
                                            name: test1
                                          meta:
                                            model: []
                                            docs: Credit ACCT for AMOUNT, enforcing
                                              positive amount
                                          info:
                                            d:
                                            - 298
                                            - 1542
                                            - 1542
                                            c: "(defun credit (acct amount data)\n
                                              \   \"Credit ACCT for AMOUNT, enforcing
                                              positive amount\"\n    (enforce-positive
                                              amount)\n    (with-read accounts acct
                                              { \"balance\":= balance }\n      (update
                                              accounts acct\n            { \"balance\":
                                              (+ balance amount), \"amount\": amount\n
                                              \           , \"data\": data })))\n\n\n
                                              \ "
                                      i: null
                                  i: null
                              i:
                                d:
                                - 7
                                - 1050
                                - 1050
                                c: 'credit '
                            info:
                              d:
                              - 107
                              - 1049
                              - 1049
                              c: |-
                                (credit dest debit-amount
                                               { "transfer-from": src, "debit-result": result, "tx": (pact-id) })
                          type: '*'
                          i:
                            d:
                            - 170
                            - 987
                            - 987
                            c: |-
                              (resume { "result":= result, "amount":= debit-amount }
                                     (credit dest debit-amount
                                             { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))
                      pairs:
                      - arg:
                          name: result
                          type:
                            tag: TypeVar
                            name: p
                            constraint: []
                          info:
                            d:
                            - 6
                            - 1008
                            - 1008
                            c: result
                        val:
                          i:
                            d:
                            - 8
                            - 997
                            - 997
                            c: '"result"'
                          lit: result
                      - arg:
                          name: debit-amount
                          type:
                            tag: TypeVar
                            name: q
                            constraint: []
                          info:
                            d:
                            - 13
                            - 1027
                            - 1027
                            c: 'debit-amount '
                        val:
                          i:
                            d:
                            - 8
                            - 1016
                            - 1016
                            c: '"amount"'
                          lit: amount
                      type:
                        bind: '*'
                      i:
                        d:
                        - 54
                        - 995
                        - 995
                        c: "{ \"result\":= result, \"amount\":= debit-amount }\n       "
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: resume
                          i: null
                      i:
                        d:
                        - 7
                        - 988
                        - 988
                        c: 'resume '
                    info:
                      d:
                      - 170
                      - 987
                      - 987
                      c: |-
                        (resume { "result":= result, "amount":= debit-amount }
                               (credit dest debit-amount
                                       { "transfer-from": src, "debit-result": result, "tx": (pact-id) }))
                  ent:
                    var:
                      b: 2
                    i:
                      d:
                      - 17
                      - 970
                      - 970
                      c: "dest-entity\n     "
                  i:
                    d:
                    - 199
                    - 959
                    - 959
                    c: |-
                      (step
                           dest-entity
                           (resume { "result":= result, "amount":= debit-amount }
                             (credit dest debit-amount
                                     { "transfer-from": src, "debit-result": result, "tx": (pact-id) })))
                type: '*'
                i:
                  d:
                  - 623
                  - 540
                  - 540
                  c: "(defpact payment (src-entity src dest-entity dest amount)\n
                    \   \"Two-phase confidential payment, sending money from SRC at
                    SRC-ENTITY to DEST at DEST-ENTITY.\"\n\n    (step-with-rollback\n
                    \    src-entity\n     (let ((result (debit src amount { \"transfer-to\":
                    dest, \"message\": \"Starting pact\" })))\n       (yield { \"result\":
                    result, \"amount\": amount, \"tx\": (pact-id) }))\n     (credit
                    src amount { \"rollback\": (pact-id) }))\n\n    (step\n     dest-entity\n
                    \    (resume { \"result\":= result, \"amount\":= debit-amount
                    }\n       (credit dest debit-amount\n               { \"transfer-from\":
                    src, \"debit-result\": result, \"tx\": (pact-id) }))))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Two-phase confidential payment, sending money from SRC at SRC-ENTITY
                to DEST at DEST-ENTITY.
            info:
              d:
              - 623
              - 540
              - 540
              c: "(defpact payment (src-entity src dest-entity dest amount)\n    \"Two-phase
                confidential payment, sending money from SRC at SRC-ENTITY to DEST
                at DEST-ENTITY.\"\n\n    (step-with-rollback\n     src-entity\n     (let
                ((result (debit src amount { \"transfer-to\": dest, \"message\": \"Starting
                pact\" })))\n       (yield { \"result\": result, \"amount\": amount,
                \"tx\": (pact-id) }))\n     (credit src amount { \"rollback\": (pact-id)
                }))\n\n    (step\n     dest-entity\n     (resume { \"result\":= result,
                \"amount\":= debit-amount }\n       (credit dest debit-amount\n               {
                \"transfer-from\": src, \"debit-result\": result, \"tx\": (pact-id)
                }))))\n\n  "
        accounts:
          ref:
            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
            modname:
              namespace: null
              name: test1
            name: accounts
            meta:
              model: []
              docs: null
            type:
              var:
                ref:
                  modname:
                    namespace: null
                    name: test1
                  name: account
                  meta:
                    model: []
                    docs: null
                  i:
                    d:
                    - 71
                    - 92
                    - 92
                    c: "(defschema account\n    balance:decimal\n    amount:decimal\n
                      \   data)\n\n  "
                  fields:
                  - name: balance
                    type: decimal
                    info:
                      d:
                      - 7
                      - 115
                      - 115
                      c: balance
                  - name: amount
                    type: decimal
                    info:
                      d:
                      - 6
                      - 135
                      - 135
                      c: amount
                  - name: data
                    type:
                      tag: TypeVar
                      name: a
                      constraint: []
                    info:
                      d:
                      - 4
                      - 154
                      - 154
                      c: data
              i: null
            i:
              d:
              - 33
              - 163
              - 163
              c: "(deftable accounts:{account})\n\n  "
        create-global-accounts:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: al
                constraint: []
            defName: create-global-accounts
            defBody:
              scope:
                list:
                - args:
                  - i:
                      d:
                      - 8
                      - 2319
                      - 2319
                      c: '"Acct1" '
                    lit: Acct1
                  - i:
                      d:
                      - 9
                      - 2327
                      - 2327
                      c: '1000000.0'
                    lit: 1000000
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: id
                                type:
                                  tag: TypeVar
                                  name: c
                                  constraint: []
                                info:
                                  d:
                                  - 3
                                  - 219
                                  - 219
                                  c: 'id '
                              - name: init-bal
                                type:
                                  tag: TypeVar
                                  name: d
                                  constraint: []
                                info:
                                  d:
                                  - 8
                                  - 222
                                  - 222
                                  c: init-bal
                              return:
                                tag: TypeVar
                                name: b
                                constraint: []
                            defName: create-account
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 244
                                      - 244
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 12
                                      - 253
                                      - 253
                                      c: "id\n         "
                                  - obj:
                                      amount:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 298
                                          - 298
                                          c: init-bal
                                      data:
                                        i:
                                          d:
                                          - 18
                                          - 316
                                          - 316
                                          c: '"Created account" '
                                        lit: Created account
                                      balance:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 278
                                          - 278
                                          c: init-bal
                                    keyorder:
                                    - balance
                                    - amount
                                    - data
                                    type: '*'
                                    i:
                                      d:
                                      - 70
                                      - 265
                                      - 265
                                      c: '{ "balance": init-bal, "amount": init-bal,
                                        "data": "Created account" }'
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: insert
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 237
                                      - 237
                                      c: 'insert '
                                  info:
                                    d:
                                    - 100
                                    - 236
                                    - 236
                                    c: |-
                                      (insert accounts id
                                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                type: '*'
                                i:
                                  d:
                                  - 145
                                  - 196
                                  - 196
                                  c: "(defun create-account (id init-bal)\n    (insert
                                    accounts id\n         { \"balance\": init-bal,
                                    \"amount\": init-bal, \"data\": \"Created account\"
                                    }))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 145
                              - 196
                              - 196
                              c: "(defun create-account (id init-bal)\n    (insert
                                accounts id\n         { \"balance\": init-bal, \"amount\":
                                init-bal, \"data\": \"Created account\" }))\n\n  "
                        i: null
                    i:
                      d:
                      - 15
                      - 2304
                      - 2304
                      c: 'create-account '
                  info:
                    d:
                    - 38
                    - 2303
                    - 2303
                    c: "(create-account \"Acct1\" 1000000.0)\n   "
                - args:
                  - i:
                      d:
                      - 8
                      - 2357
                      - 2357
                      c: '"Acct2" '
                    lit: Acct2
                  - i:
                      d:
                      - 3
                      - 2365
                      - 2365
                      c: '0.0'
                    lit: 0
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: id
                                type:
                                  tag: TypeVar
                                  name: c
                                  constraint: []
                                info:
                                  d:
                                  - 3
                                  - 219
                                  - 219
                                  c: 'id '
                              - name: init-bal
                                type:
                                  tag: TypeVar
                                  name: d
                                  constraint: []
                                info:
                                  d:
                                  - 8
                                  - 222
                                  - 222
                                  c: init-bal
                              return:
                                tag: TypeVar
                                name: b
                                constraint: []
                            defName: create-account
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 244
                                      - 244
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 12
                                      - 253
                                      - 253
                                      c: "id\n         "
                                  - obj:
                                      amount:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 298
                                          - 298
                                          c: init-bal
                                      data:
                                        i:
                                          d:
                                          - 18
                                          - 316
                                          - 316
                                          c: '"Created account" '
                                        lit: Created account
                                      balance:
                                        var:
                                          b: 1
                                        i:
                                          d:
                                          - 8
                                          - 278
                                          - 278
                                          c: init-bal
                                    keyorder:
                                    - balance
                                    - amount
                                    - data
                                    type: '*'
                                    i:
                                      d:
                                      - 70
                                      - 265
                                      - 265
                                      c: '{ "balance": init-bal, "amount": init-bal,
                                        "data": "Created account" }'
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: insert
                                        i: null
                                    i:
                                      d:
                                      - 7
                                      - 237
                                      - 237
                                      c: 'insert '
                                  info:
                                    d:
                                    - 100
                                    - 236
                                    - 236
                                    c: |-
                                      (insert accounts id
                                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                type: '*'
                                i:
                                  d:
                                  - 145
                                  - 196
                                  - 196
                                  c: "(defun create-account (id init-bal)\n    (insert
                                    accounts id\n         { \"balance\": init-bal,
                                    \"amount\": init-bal, \"data\": \"Created account\"
                                    }))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 145
                              - 196
                              - 196
                              c: "(defun create-account (id init-bal)\n    (insert
                                accounts id\n         { \"balance\": init-bal, \"amount\":
                                init-bal, \"data\": \"Created account\" }))\n\n  "
                        i: null
                    i:
                      d:
                      - 15
                      - 2342
                      - 2342
                      c: 'create-account '
                  info:
                    d:
                    - 32
                    - 2341
                    - 2341
                    c: "(create-account \"Acct2\" 0.0)\n   "
                - args: []
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args: []
                              return:
                                tag: TypeVar
                                name: ai
                                constraint: []
                            defName: read-all
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args: []
                                    fun:
                                      var:
                                        f:
                                          var:
                                            ref:
                                              defType: Defun
                                              funType:
                                                args:
                                                - name: id
                                                  type:
                                                    tag: TypeVar
                                                    name: ac
                                                    constraint: []
                                                  info:
                                                    d:
                                                    - 2
                                                    - 1861
                                                    - 1861
                                                    c: id
                                                return:
                                                  tag: TypeVar
                                                  name: ab
                                                  constraint: []
                                              defName: read-account
                                              defBody:
                                                scope:
                                                  list:
                                                  - args:
                                                    - obj:
                                                        account:
                                                          var:
                                                            b: 0
                                                          i:
                                                            d:
                                                            - 3
                                                            - 1916
                                                            - 1916
                                                            c: 'id '
                                                      keyorder:
                                                      - account
                                                      type: '*'
                                                      i:
                                                        d:
                                                        - 18
                                                        - 1903
                                                        - 1903
                                                        c: '{ "account": id } '
                                                    - args:
                                                      - var:
                                                          f:
                                                            var:
                                                              ref:
                                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                                modname:
                                                                  namespace: null
                                                                  name: test1
                                                                name: accounts
                                                                meta:
                                                                  model: []
                                                                  docs: null
                                                                type:
                                                                  var:
                                                                    ref:
                                                                      modname:
                                                                        namespace: null
                                                                        name: test1
                                                                      name: account
                                                                      meta:
                                                                        model: []
                                                                        docs: null
                                                                      i:
                                                                        d:
                                                                        - 71
                                                                        - 92
                                                                        - 92
                                                                        c: "(defschema
                                                                          account\n
                                                                          \   balance:decimal\n
                                                                          \   amount:decimal\n
                                                                          \   data)\n\n
                                                                          \ "
                                                                      fields:
                                                                      - name: balance
                                                                        type: decimal
                                                                        info:
                                                                          d:
                                                                          - 7
                                                                          - 115
                                                                          - 115
                                                                          c: balance
                                                                      - name: amount
                                                                        type: decimal
                                                                        info:
                                                                          d:
                                                                          - 6
                                                                          - 135
                                                                          - 135
                                                                          c: amount
                                                                      - name: data
                                                                        type:
                                                                          tag: TypeVar
                                                                          name: a
                                                                          constraint: []
                                                                        info:
                                                                          d:
                                                                          - 4
                                                                          - 154
                                                                          - 154
                                                                          c: data
                                                                  i: null
                                                                i:
                                                                  d:
                                                                  - 33
                                                                  - 163
                                                                  - 163
                                                                  c: "(deftable accounts:{account})\n\n
                                                                    \ "
                                                            i: null
                                                        i:
                                                          d:
                                                          - 9
                                                          - 1927
                                                          - 1927
                                                          c: 'accounts '
                                                      - var:
                                                          b: 0
                                                        i:
                                                          d:
                                                          - 2
                                                          - 1936
                                                          - 1936
                                                          c: id
                                                      fun:
                                                        var:
                                                          f:
                                                            var:
                                                              direct:
                                                                pdnat: read
                                                            i: null
                                                        i:
                                                          d:
                                                          - 5
                                                          - 1922
                                                          - 1922
                                                          c: 'read '
                                                      info:
                                                        d:
                                                        - 18
                                                        - 1921
                                                        - 1921
                                                        c: (read accounts id)
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: +
                                                          i: null
                                                      i:
                                                        d:
                                                        - 2
                                                        - 1901
                                                        - 1901
                                                        c: '+ '
                                                    info:
                                                      d:
                                                      - 40
                                                      - 1900
                                                      - 1900
                                                      c: '(+ { "account": id } (read
                                                        accounts id))'
                                                  type: '*'
                                                  i:
                                                    d:
                                                    - 105
                                                    - 1840
                                                    - 1840
                                                    c: "(defun read-account (id)\n
                                                      \   \"Read data for account
                                                      ID\"\n    (+ { \"account\":
                                                      id } (read accounts id)))\n\n
                                                      \ "
                                              module:
                                                namespace: null
                                                name: test1
                                              meta:
                                                model: []
                                                docs: Read data for account ID
                                              info:
                                                d:
                                                - 105
                                                - 1840
                                                - 1840
                                                c: "(defun read-account (id)\n    \"Read
                                                  data for account ID\"\n    (+ {
                                                  \"account\": id } (read accounts
                                                  id)))\n\n  "
                                          i: null
                                      i:
                                        d:
                                        - 12
                                        - 2162
                                        - 2162
                                        c: read-account
                                    info:
                                      d:
                                      - 15
                                      - 2161
                                      - 2161
                                      c: '(read-account) '
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 8
                                        - 2182
                                        - 2182
                                        c: accounts
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: keys
                                          i: null
                                      i:
                                        d:
                                        - 5
                                        - 2177
                                        - 2177
                                        c: 'keys '
                                    info:
                                      d:
                                      - 15
                                      - 2176
                                      - 2176
                                      c: (keys accounts)
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: map
                                        i: null
                                    i:
                                      d:
                                      - 4
                                      - 2157
                                      - 2157
                                      c: 'map '
                                  info:
                                    d:
                                    - 36
                                    - 2156
                                    - 2156
                                    c: (map (read-account) (keys accounts))
                                type: '*'
                                i:
                                  d:
                                  - 62
                                  - 2134
                                  - 2134
                                  c: "(defun read-all ()\n   (map (read-account) (keys
                                    accounts)))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 62
                              - 2134
                              - 2134
                              c: "(defun read-all ()\n   (map (read-account) (keys
                                accounts)))\n\n "
                        i: null
                    i:
                      d:
                      - 8
                      - 2374
                      - 2374
                      c: read-all
                  info:
                    d:
                    - 10
                    - 2373
                    - 2373
                    c: (read-all)
                type: '*'
                i:
                  d:
                  - 120
                  - 2267
                  - 2267
                  c: "(defun create-global-accounts ()\n   (create-account \"Acct1\"
                    1000000.0)\n   (create-account \"Acct2\" 0.0)\n   (read-all))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 120
              - 2267
              - 2267
              c: "(defun create-global-accounts ()\n   (create-account \"Acct1\" 1000000.0)\n
                \  (create-account \"Acct2\" 0.0)\n   (read-all))\n\n "
        read-all-global:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: aj
                constraint: []
            defName: read-all-global
            defBody:
              scope:
                list:
                - args:
                  - args: []
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: ac
                                    constraint: []
                                  info:
                                    d:
                                    - 2
                                    - 1861
                                    - 1861
                                    c: id
                                return:
                                  tag: TypeVar
                                  name: ab
                                  constraint: []
                              defName: read-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - obj:
                                        account:
                                          var:
                                            b: 0
                                          i:
                                            d:
                                            - 3
                                            - 1916
                                            - 1916
                                            c: 'id '
                                      keyorder:
                                      - account
                                      type: '*'
                                      i:
                                        d:
                                        - 18
                                        - 1903
                                        - 1903
                                        c: '{ "account": id } '
                                    - args:
                                      - var:
                                          f:
                                            var:
                                              ref:
                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                modname:
                                                  namespace: null
                                                  name: test1
                                                name: accounts
                                                meta:
                                                  model: []
                                                  docs: null
                                                type:
                                                  var:
                                                    ref:
                                                      modname:
                                                        namespace: null
                                                        name: test1
                                                      name: account
                                                      meta:
                                                        model: []
                                                        docs: null
                                                      i:
                                                        d:
                                                        - 71
                                                        - 92
                                                        - 92
                                                        c: "(defschema account\n    balance:decimal\n
                                                          \   amount:decimal\n    data)\n\n
                                                          \ "
                                                      fields:
                                                      - name: balance
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 7
                                                          - 115
                                                          - 115
                                                          c: balance
                                                      - name: amount
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 6
                                                          - 135
                                                          - 135
                                                          c: amount
                                                      - name: data
                                                        type:
                                                          tag: TypeVar
                                                          name: a
                                                          constraint: []
                                                        info:
                                                          d:
                                                          - 4
                                                          - 154
                                                          - 154
                                                          c: data
                                                  i: null
                                                i:
                                                  d:
                                                  - 33
                                                  - 163
                                                  - 163
                                                  c: "(deftable accounts:{account})\n\n
                                                    \ "
                                            i: null
                                        i:
                                          d:
                                          - 9
                                          - 1927
                                          - 1927
                                          c: 'accounts '
                                      - var:
                                          b: 0
                                        i:
                                          d:
                                          - 2
                                          - 1936
                                          - 1936
                                          c: id
                                      fun:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: read
                                            i: null
                                        i:
                                          d:
                                          - 5
                                          - 1922
                                          - 1922
                                          c: 'read '
                                      info:
                                        d:
                                        - 18
                                        - 1921
                                        - 1921
                                        c: (read accounts id)
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i:
                                        d:
                                        - 2
                                        - 1901
                                        - 1901
                                        c: '+ '
                                    info:
                                      d:
                                      - 40
                                      - 1900
                                      - 1900
                                      c: '(+ { "account": id } (read accounts id))'
                                  type: '*'
                                  i:
                                    d:
                                    - 105
                                    - 1840
                                    - 1840
                                    c: "(defun read-account (id)\n    \"Read data
                                      for account ID\"\n    (+ { \"account\": id }
                                      (read accounts id)))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Read data for account ID
                              info:
                                d:
                                - 105
                                - 1840
                                - 1840
                                c: "(defun read-account (id)\n    \"Read data for
                                  account ID\"\n    (+ { \"account\": id } (read accounts
                                  id)))\n\n  "
                          i: null
                      i:
                        d:
                        - 12
                        - 2231
                        - 2231
                        c: read-account
                    info:
                      d:
                      - 15
                      - 2230
                      - 2230
                      c: '(read-account) '
                  - list:
                    - i:
                        d:
                        - 8
                        - 2246
                        - 2246
                        c: '"Acct1" '
                      lit: Acct1
                    - i:
                        d:
                        - 7
                        - 2254
                        - 2254
                        c: '"Acct2"'
                      lit: Acct2
                    type:
                      tag: TypeVar
                      name: ak
                      constraint: []
                    i:
                      d:
                      - 17
                      - 2245
                      - 2245
                      c: '["Acct1" "Acct2"]'
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: map
                        i: null
                    i:
                      d:
                      - 4
                      - 2226
                      - 2226
                      c: 'map '
                  info:
                    d:
                    - 38
                    - 2225
                    - 2225
                    c: (map (read-account) ["Acct1" "Acct2"])
                type: '*'
                i:
                  d:
                  - 71
                  - 2196
                  - 2196
                  c: "(defun read-all-global ()\n   (map (read-account) [\"Acct1\"
                    \"Acct2\"]))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 71
              - 2196
              - 2196
              c: "(defun read-all-global ()\n   (map (read-account) [\"Acct1\" \"Acct2\"]))\n\n "
        create-account:
          ref:
            defType: Defun
            funType:
              args:
              - name: id
                type:
                  tag: TypeVar
                  name: c
                  constraint: []
                info:
                  d:
                  - 3
                  - 219
                  - 219
                  c: 'id '
              - name: init-bal
                type:
                  tag: TypeVar
                  name: d
                  constraint: []
                info:
                  d:
                  - 8
                  - 222
                  - 222
                  c: init-bal
              return:
                tag: TypeVar
                name: b
                constraint: []
            defName: create-account
            defBody:
              scope:
                list:
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 244
                      - 244
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 12
                      - 253
                      - 253
                      c: "id\n         "
                  - obj:
                      amount:
                        var:
                          b: 1
                        i:
                          d:
                          - 8
                          - 298
                          - 298
                          c: init-bal
                      data:
                        i:
                          d:
                          - 18
                          - 316
                          - 316
                          c: '"Created account" '
                        lit: Created account
                      balance:
                        var:
                          b: 1
                        i:
                          d:
                          - 8
                          - 278
                          - 278
                          c: init-bal
                    keyorder:
                    - balance
                    - amount
                    - data
                    type: '*'
                    i:
                      d:
                      - 70
                      - 265
                      - 265
                      c: '{ "balance": init-bal, "amount": init-bal, "data": "Created
                        account" }'
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: insert
                        i: null
                    i:
                      d:
                      - 7
                      - 237
                      - 237
                      c: 'insert '
                  info:
                    d:
                    - 100
                    - 236
                    - 236
                    c: |-
                      (insert accounts id
                               { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                type: '*'
                i:
                  d:
                  - 145
                  - 196
                  - 196
                  c: "(defun create-account (id init-bal)\n    (insert accounts id\n
                    \        { \"balance\": init-bal, \"amount\": init-bal, \"data\":
                    \"Created account\" }))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 145
              - 196
              - 196
              c: "(defun create-account (id init-bal)\n    (insert accounts id\n         {
                \"balance\": init-bal, \"amount\": init-bal, \"data\": \"Created account\"
                }))\n\n  "
        create-private-accounts:
          ref:
            defType: Defpact
            funType:
              args: []
              return:
                tag: TypeVar
                name: am
                constraint: []
            defName: create-private-accounts
            defBody:
              scope:
                list:
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2456
                        - 2456
                        c: '"A" '
                      lit: A
                    - i:
                        d:
                        - 6
                        - 2460
                        - 2460
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2441
                        - 2441
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2440
                      - 2440
                      c: (create-account "A" 1000.0)
                  ent:
                    i:
                      d:
                      - 8
                      - 2432
                      - 2432
                      c: '"Alice" '
                    lit: Alice
                  i:
                    d:
                    - 46
                    - 2426
                    - 2426
                    c: "(step \"Alice\" (create-account \"A\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2500
                        - 2500
                        c: '"B" '
                      lit: B
                    - i:
                        d:
                        - 6
                        - 2504
                        - 2504
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2485
                        - 2485
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2484
                      - 2484
                      c: (create-account "B" 1000.0)
                  ent:
                    i:
                      d:
                      - 6
                      - 2478
                      - 2478
                      c: '"Bob" '
                    lit: Bob
                  i:
                    d:
                    - 44
                    - 2472
                    - 2472
                    c: "(step \"Bob\" (create-account \"B\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2546
                        - 2546
                        c: '"C" '
                      lit: C
                    - i:
                        d:
                        - 6
                        - 2550
                        - 2550
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2531
                        - 2531
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2530
                      - 2530
                      c: (create-account "C" 1000.0)
                  ent:
                    i:
                      d:
                      - 8
                      - 2522
                      - 2522
                      c: '"Carol" '
                    lit: Carol
                  i:
                    d:
                    - 46
                    - 2516
                    - 2516
                    c: "(step \"Carol\" (create-account \"C\" 1000.0))\n   "
                - rb: null
                  exec:
                    args:
                    - i:
                        d:
                        - 4
                        - 2593
                        - 2593
                        c: '"D" '
                      lit: D
                    - i:
                        d:
                        - 6
                        - 2597
                        - 2597
                        c: '1000.0'
                      lit: 1000
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: c
                                    constraint: []
                                  info:
                                    d:
                                    - 3
                                    - 219
                                    - 219
                                    c: 'id '
                                - name: init-bal
                                  type:
                                    tag: TypeVar
                                    name: d
                                    constraint: []
                                  info:
                                    d:
                                    - 8
                                    - 222
                                    - 222
                                    c: init-bal
                                return:
                                  tag: TypeVar
                                  name: b
                                  constraint: []
                              defName: create-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - var:
                                        f:
                                          var:
                                            ref:
                                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: accounts
                                              meta:
                                                model: []
                                                docs: null
                                              type:
                                                var:
                                                  ref:
                                                    modname:
                                                      namespace: null
                                                      name: test1
                                                    name: account
                                                    meta:
                                                      model: []
                                                      docs: null
                                                    i:
                                                      d:
                                                      - 71
                                                      - 92
                                                      - 92
                                                      c: "(defschema account\n    balance:decimal\n
                                                        \   amount:decimal\n    data)\n\n
                                                        \ "
                                                    fields:
                                                    - name: balance
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 7
                                                        - 115
                                                        - 115
                                                        c: balance
                                                    - name: amount
                                                      type: decimal
                                                      info:
                                                        d:
                                                        - 6
                                                        - 135
                                                        - 135
                                                        c: amount
                                                    - name: data
                                                      type:
                                                        tag: TypeVar
                                                        name: a
                                                        constraint: []
                                                      info:
                                                        d:
                                                        - 4
                                                        - 154
                                                        - 154
                                                        c: data
                                                i: null
                                              i:
                                                d:
                                                - 33
                                                - 163
                                                - 163
                                                c: "(deftable accounts:{account})\n\n
                                                  \ "
                                          i: null
                                      i:
                                        d:
                                        - 9
                                        - 244
                                        - 244
                                        c: 'accounts '
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 12
                                        - 253
                                        - 253
                                        c: "id\n         "
                                    - obj:
                                        amount:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 298
                                            - 298
                                            c: init-bal
                                        data:
                                          i:
                                            d:
                                            - 18
                                            - 316
                                            - 316
                                            c: '"Created account" '
                                          lit: Created account
                                        balance:
                                          var:
                                            b: 1
                                          i:
                                            d:
                                            - 8
                                            - 278
                                            - 278
                                            c: init-bal
                                      keyorder:
                                      - balance
                                      - amount
                                      - data
                                      type: '*'
                                      i:
                                        d:
                                        - 70
                                        - 265
                                        - 265
                                        c: '{ "balance": init-bal, "amount": init-bal,
                                          "data": "Created account" }'
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: insert
                                          i: null
                                      i:
                                        d:
                                        - 7
                                        - 237
                                        - 237
                                        c: 'insert '
                                    info:
                                      d:
                                      - 100
                                      - 236
                                      - 236
                                      c: |-
                                        (insert accounts id
                                                 { "balance": init-bal, "amount": init-bal, "data": "Created account" })
                                  type: '*'
                                  i:
                                    d:
                                    - 145
                                    - 196
                                    - 196
                                    c: "(defun create-account (id init-bal)\n    (insert
                                      accounts id\n         { \"balance\": init-bal,
                                      \"amount\": init-bal, \"data\": \"Created account\"
                                      }))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: null
                              info:
                                d:
                                - 145
                                - 196
                                - 196
                                c: "(defun create-account (id init-bal)\n    (insert
                                  accounts id\n         { \"balance\": init-bal, \"amount\":
                                  init-bal, \"data\": \"Created account\" }))\n\n
                                  \ "
                          i: null
                      i:
                        d:
                        - 15
                        - 2578
                        - 2578
                        c: 'create-account '
                    info:
                      d:
                      - 27
                      - 2577
                      - 2577
                      c: (create-account "D" 1000.0)
                  ent:
                    i:
                      d:
                      - 9
                      - 2568
                      - 2568
                      c: '"Dinesh" '
                    lit: Dinesh
                  i:
                    d:
                    - 43
                    - 2562
                    - 2562
                    c: (step "Dinesh" (create-account "D" 1000.0))
                type: '*'
                i:
                  d:
                  - 221
                  - 2387
                  - 2387
                  c: |+
                    (defpact create-private-accounts ()
                       (step "Alice" (create-account "A" 1000.0))
                       (step "Bob" (create-account "B" 1000.0))
                       (step "Carol" (create-account "C" 1000.0))
                       (step "Dinesh" (create-account "D" 1000.0)))

            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 221
              - 2387
              - 2387
              c: |+
                (defpact create-private-accounts ()
                   (step "Alice" (create-account "A" 1000.0))
                   (step "Bob" (create-account "B" 1000.0))
                   (step "Carol" (create-account "C" 1000.0))
                   (step "Dinesh" (create-account "D" 1000.0)))

        read-account:
          ref:
            defType: Defun
            funType:
              args:
              - name: id
                type:
                  tag: TypeVar
                  name: ac
                  constraint: []
                info:
                  d:
                  - 2
                  - 1861
                  - 1861
                  c: id
              return:
                tag: TypeVar
                name: ab
                constraint: []
            defName: read-account
            defBody:
              scope:
                list:
                - args:
                  - obj:
                      account:
                        var:
                          b: 0
                        i:
                          d:
                          - 3
                          - 1916
                          - 1916
                          c: 'id '
                    keyorder:
                    - account
                    type: '*'
                    i:
                      d:
                      - 18
                      - 1903
                      - 1903
                      c: '{ "account": id } '
                  - args:
                    - var:
                        f:
                          var:
                            ref:
                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                              modname:
                                namespace: null
                                name: test1
                              name: accounts
                              meta:
                                model: []
                                docs: null
                              type:
                                var:
                                  ref:
                                    modname:
                                      namespace: null
                                      name: test1
                                    name: account
                                    meta:
                                      model: []
                                      docs: null
                                    i:
                                      d:
                                      - 71
                                      - 92
                                      - 92
                                      c: "(defschema account\n    balance:decimal\n
                                        \   amount:decimal\n    data)\n\n  "
                                    fields:
                                    - name: balance
                                      type: decimal
                                      info:
                                        d:
                                        - 7
                                        - 115
                                        - 115
                                        c: balance
                                    - name: amount
                                      type: decimal
                                      info:
                                        d:
                                        - 6
                                        - 135
                                        - 135
                                        c: amount
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: a
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 154
                                        - 154
                                        c: data
                                i: null
                              i:
                                d:
                                - 33
                                - 163
                                - 163
                                c: "(deftable accounts:{account})\n\n  "
                          i: null
                      i:
                        d:
                        - 9
                        - 1927
                        - 1927
                        c: 'accounts '
                    - var:
                        b: 0
                      i:
                        d:
                        - 2
                        - 1936
                        - 1936
                        c: id
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: read
                          i: null
                      i:
                        d:
                        - 5
                        - 1922
                        - 1922
                        c: 'read '
                    info:
                      d:
                      - 18
                      - 1921
                      - 1921
                      c: (read accounts id)
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: +
                        i: null
                    i:
                      d:
                      - 2
                      - 1901
                      - 1901
                      c: '+ '
                  info:
                    d:
                    - 40
                    - 1900
                    - 1900
                    c: '(+ { "account": id } (read accounts id))'
                type: '*'
                i:
                  d:
                  - 105
                  - 1840
                  - 1840
                  c: "(defun read-account (id)\n    \"Read data for account ID\"\n
                    \   (+ { \"account\": id } (read accounts id)))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Read data for account ID
            info:
              d:
              - 105
              - 1840
              - 1840
              c: "(defun read-account (id)\n    \"Read data for account ID\"\n    (+
                { \"account\": id } (read accounts id)))\n\n  "
        read-all:
          ref:
            defType: Defun
            funType:
              args: []
              return:
                tag: TypeVar
                name: ai
                constraint: []
            defName: read-all
            defBody:
              scope:
                list:
                - args:
                  - args: []
                    fun:
                      var:
                        f:
                          var:
                            ref:
                              defType: Defun
                              funType:
                                args:
                                - name: id
                                  type:
                                    tag: TypeVar
                                    name: ac
                                    constraint: []
                                  info:
                                    d:
                                    - 2
                                    - 1861
                                    - 1861
                                    c: id
                                return:
                                  tag: TypeVar
                                  name: ab
                                  constraint: []
                              defName: read-account
                              defBody:
                                scope:
                                  list:
                                  - args:
                                    - obj:
                                        account:
                                          var:
                                            b: 0
                                          i:
                                            d:
                                            - 3
                                            - 1916
                                            - 1916
                                            c: 'id '
                                      keyorder:
                                      - account
                                      type: '*'
                                      i:
                                        d:
                                        - 18
                                        - 1903
                                        - 1903
                                        c: '{ "account": id } '
                                    - args:
                                      - var:
                                          f:
                                            var:
                                              ref:
                                                hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                modname:
                                                  namespace: null
                                                  name: test1
                                                name: accounts
                                                meta:
                                                  model: []
                                                  docs: null
                                                type:
                                                  var:
                                                    ref:
                                                      modname:
                                                        namespace: null
                                                        name: test1
                                                      name: account
                                                      meta:
                                                        model: []
                                                        docs: null
                                                      i:
                                                        d:
                                                        - 71
                                                        - 92
                                                        - 92
                                                        c: "(defschema account\n    balance:decimal\n
                                                          \   amount:decimal\n    data)\n\n
                                                          \ "
                                                      fields:
                                                      - name: balance
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 7
                                                          - 115
                                                          - 115
                                                          c: balance
                                                      - name: amount
                                                        type: decimal
                                                        info:
                                                          d:
                                                          - 6
                                                          - 135
                                                          - 135
                                                          c: amount
                                                      - name: data
                                                        type:
                                                          tag: TypeVar
                                                          name: a
                                                          constraint: []
                                                        info:
                                                          d:
                                                          - 4
                                                          - 154
                                                          - 154
                                                          c: data
                                                  i: null
                                                i:
                                                  d:
                                                  - 33
                                                  - 163
                                                  - 163
                                                  c: "(deftable accounts:{account})\n\n
                                                    \ "
                                            i: null
                                        i:
                                          d:
                                          - 9
                                          - 1927
                                          - 1927
                                          c: 'accounts '
                                      - var:
                                          b: 0
                                        i:
                                          d:
                                          - 2
                                          - 1936
                                          - 1936
                                          c: id
                                      fun:
                                        var:
                                          f:
                                            var:
                                              direct:
                                                pdnat: read
                                            i: null
                                        i:
                                          d:
                                          - 5
                                          - 1922
                                          - 1922
                                          c: 'read '
                                      info:
                                        d:
                                        - 18
                                        - 1921
                                        - 1921
                                        c: (read accounts id)
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i:
                                        d:
                                        - 2
                                        - 1901
                                        - 1901
                                        c: '+ '
                                    info:
                                      d:
                                      - 40
                                      - 1900
                                      - 1900
                                      c: '(+ { "account": id } (read accounts id))'
                                  type: '*'
                                  i:
                                    d:
                                    - 105
                                    - 1840
                                    - 1840
                                    c: "(defun read-account (id)\n    \"Read data
                                      for account ID\"\n    (+ { \"account\": id }
                                      (read accounts id)))\n\n  "
                              module:
                                namespace: null
                                name: test1
                              meta:
                                model: []
                                docs: Read data for account ID
                              info:
                                d:
                                - 105
                                - 1840
                                - 1840
                                c: "(defun read-account (id)\n    \"Read data for
                                  account ID\"\n    (+ { \"account\": id } (read accounts
                                  id)))\n\n  "
                          i: null
                      i:
                        d:
                        - 12
                        - 2162
                        - 2162
                        c: read-account
                    info:
                      d:
                      - 15
                      - 2161
                      - 2161
                      c: '(read-account) '
                  - args:
                    - var:
                        f:
                          var:
                            ref:
                              hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                              modname:
                                namespace: null
                                name: test1
                              name: accounts
                              meta:
                                model: []
                                docs: null
                              type:
                                var:
                                  ref:
                                    modname:
                                      namespace: null
                                      name: test1
                                    name: account
                                    meta:
                                      model: []
                                      docs: null
                                    i:
                                      d:
                                      - 71
                                      - 92
                                      - 92
                                      c: "(defschema account\n    balance:decimal\n
                                        \   amount:decimal\n    data)\n\n  "
                                    fields:
                                    - name: balance
                                      type: decimal
                                      info:
                                        d:
                                        - 7
                                        - 115
                                        - 115
                                        c: balance
                                    - name: amount
                                      type: decimal
                                      info:
                                        d:
                                        - 6
                                        - 135
                                        - 135
                                        c: amount
                                    - name: data
                                      type:
                                        tag: TypeVar
                                        name: a
                                        constraint: []
                                      info:
                                        d:
                                        - 4
                                        - 154
                                        - 154
                                        c: data
                                i: null
                              i:
                                d:
                                - 33
                                - 163
                                - 163
                                c: "(deftable accounts:{account})\n\n  "
                          i: null
                      i:
                        d:
                        - 8
                        - 2182
                        - 2182
                        c: accounts
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: keys
                          i: null
                      i:
                        d:
                        - 5
                        - 2177
                        - 2177
                        c: 'keys '
                    info:
                      d:
                      - 15
                      - 2176
                      - 2176
                      c: (keys accounts)
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: map
                        i: null
                    i:
                      d:
                      - 4
                      - 2157
                      - 2157
                      c: 'map '
                  info:
                    d:
                    - 36
                    - 2156
                    - 2156
                    c: (map (read-account) (keys accounts))
                type: '*'
                i:
                  d:
                  - 62
                  - 2134
                  - 2134
                  c: "(defun read-all ()\n   (map (read-account) (keys accounts)))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 62
              - 2134
              - 2134
              c: "(defun read-all ()\n   (map (read-account) (keys accounts)))\n\n "
        debit:
          ref:
            defType: Defun
            funType:
              args:
              - name: acct
                type:
                  tag: TypeVar
                  name: s
                  constraint: []
                info:
                  d:
                  - 5
                  - 1177
                  - 1177
                  c: 'acct '
              - name: amount
                type:
                  tag: TypeVar
                  name: t
                  constraint: []
                info:
                  d:
                  - 7
                  - 1182
                  - 1182
                  c: 'amount '
              - name: data
                type:
                  tag: TypeVar
                  name: u
                  constraint: []
                info:
                  d:
                  - 4
                  - 1189
                  - 1189
                  c: data
              return:
                tag: TypeVar
                name: r
                constraint: []
            defName: debit
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 6
                      - 1315
                      - 1315
                      c: amount
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: ah
                                  constraint: []
                                info:
                                  d:
                                  - 6
                                  - 2067
                                  - 2067
                                  c: amount
                              return:
                                tag: TypeVar
                                name: ag
                                constraint: []
                            defName: enforce-positive
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args:
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 7
                                        - 2092
                                        - 2092
                                        c: 'amount '
                                    - i:
                                        d:
                                        - 3
                                        - 2099
                                        - 2099
                                        c: '0.0'
                                      lit: 0
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '>='
                                          i: null
                                      i:
                                        d:
                                        - 3
                                        - 2089
                                        - 2089
                                        c: '>= '
                                    info:
                                      d:
                                      - 16
                                      - 2088
                                      - 2088
                                      c: '(>= amount 0.0) '
                                  - i:
                                      d:
                                      - 25
                                      - 2104
                                      - 2104
                                      c: '"amount must be positive"'
                                    lit: amount must be positive
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: enforce
                                        i: null
                                    i:
                                      d:
                                      - 8
                                      - 2080
                                      - 2080
                                      c: 'enforce '
                                  info:
                                    d:
                                    - 51
                                    - 2079
                                    - 2079
                                    c: (enforce (>= amount 0.0) "amount must be positive")
                                type: '*'
                                i:
                                  d:
                                  - 92
                                  - 2042
                                  - 2042
                                  c: "(defun enforce-positive (amount)\n    (enforce
                                    (>= amount 0.0) \"amount must be positive\"))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 92
                              - 2042
                              - 2042
                              c: "(defun enforce-positive (amount)\n    (enforce (>=
                                amount 0.0) \"amount must be positive\"))\n\n "
                        i: null
                    i:
                      d:
                      - 17
                      - 1298
                      - 1298
                      c: 'enforce-positive '
                  info:
                    d:
                    - 30
                    - 1297
                    - 1297
                    c: "(enforce-positive amount)\n    "
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 1338
                      - 1338
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 5
                      - 1347
                      - 1347
                      c: 'acct '
                  - body:
                      scope:
                        list:
                        - args:
                          - var:
                              b: 0
                            i:
                              d:
                              - 8
                              - 1397
                              - 1397
                              c: 'balance '
                          - var:
                              f:
                                var:
                                  b: 1
                                i: null
                            i:
                              d:
                              - 6
                              - 1405
                              - 1405
                              c: amount
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        defType: Defun
                                        funType:
                                          args:
                                          - name: balance
                                            type:
                                              tag: TypeVar
                                              name: ae
                                              constraint: []
                                            info:
                                              d:
                                              - 8
                                              - 1967
                                              - 1967
                                              c: 'balance '
                                          - name: amount
                                            type:
                                              tag: TypeVar
                                              name: af
                                              constraint: []
                                            info:
                                              d:
                                              - 6
                                              - 1975
                                              - 1975
                                              c: amount
                                          return:
                                            tag: TypeVar
                                            name: ad
                                            constraint: []
                                        defName: check-balance
                                        defBody:
                                          scope:
                                            list:
                                            - args:
                                              - args:
                                                - var:
                                                    b: 1
                                                  i:
                                                    d:
                                                    - 7
                                                    - 2000
                                                    - 2000
                                                    c: 'amount '
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 7
                                                    - 2007
                                                    - 2007
                                                    c: balance
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        direct:
                                                          pdnat: <=
                                                      i: null
                                                  i:
                                                    d:
                                                    - 3
                                                    - 1997
                                                    - 1997
                                                    c: '<= '
                                                info:
                                                  d:
                                                  - 20
                                                  - 1996
                                                  - 1996
                                                  c: '(<= amount balance) '
                                              - i:
                                                  d:
                                                  - 20
                                                  - 2016
                                                  - 2016
                                                  c: '"Insufficient funds"'
                                                lit: Insufficient funds
                                              fun:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: enforce
                                                    i: null
                                                i:
                                                  d:
                                                  - 8
                                                  - 1988
                                                  - 1988
                                                  c: 'enforce '
                                              info:
                                                d:
                                                - 50
                                                - 1987
                                                - 1987
                                                c: (enforce (<= amount balance) "Insufficient
                                                  funds")
                                            type: '*'
                                            i:
                                              d:
                                              - 97
                                              - 1945
                                              - 1945
                                              c: "(defun check-balance (balance amount)\n
                                                \   (enforce (<= amount balance) \"Insufficient
                                                funds\"))\n\n  "
                                        module:
                                          namespace: null
                                          name: test1
                                        meta:
                                          model: []
                                          docs: null
                                        info:
                                          d:
                                          - 97
                                          - 1945
                                          - 1945
                                          c: "(defun check-balance (balance amount)\n
                                            \   (enforce (<= amount balance) \"Insufficient
                                            funds\"))\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 14
                              - 1383
                              - 1383
                              c: 'check-balance '
                          info:
                            d:
                            - 37
                            - 1382
                            - 1382
                            c: "(check-balance balance amount)\n      "
                        - args:
                          - var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                        modname:
                                          namespace: null
                                          name: test1
                                        name: accounts
                                        meta:
                                          model: []
                                          docs: null
                                        type:
                                          var:
                                            ref:
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: account
                                              meta:
                                                model: []
                                                docs: null
                                              i:
                                                d:
                                                - 71
                                                - 92
                                                - 92
                                                c: "(defschema account\n    balance:decimal\n
                                                  \   amount:decimal\n    data)\n\n
                                                  \ "
                                              fields:
                                              - name: balance
                                                type: decimal
                                                info:
                                                  d:
                                                  - 7
                                                  - 115
                                                  - 115
                                                  c: balance
                                              - name: amount
                                                type: decimal
                                                info:
                                                  d:
                                                  - 6
                                                  - 135
                                                  - 135
                                                  c: amount
                                              - name: data
                                                type:
                                                  tag: TypeVar
                                                  name: a
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 4
                                                  - 154
                                                  - 154
                                                  c: data
                                          i: null
                                        i:
                                          d:
                                          - 33
                                          - 163
                                          - 163
                                          c: "(deftable accounts:{account})\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 9
                              - 1427
                              - 1427
                              c: 'accounts '
                          - var:
                              f:
                                var:
                                  b: 0
                                i: null
                            i:
                              d:
                              - 17
                              - 1436
                              - 1436
                              c: "acct\n            "
                          - obj:
                              amount:
                                args:
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1499
                                    - 1499
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '-'
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1497
                                    - 1497
                                    c: '- '
                                info:
                                  d:
                                  - 23
                                  - 1496
                                  - 1496
                                  c: "(- amount)\n            "
                              data:
                                var:
                                  f:
                                    var:
                                      b: 2
                                    i: null
                                i:
                                  d:
                                  - 5
                                  - 1529
                                  - 1529
                                  c: 'data '
                              balance:
                                args:
                                - var:
                                    b: 0
                                  i:
                                    d:
                                    - 8
                                    - 1469
                                    - 1469
                                    c: 'balance '
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1477
                                    - 1477
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '-'
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1467
                                    - 1467
                                    c: '- '
                                info:
                                  d:
                                  - 18
                                  - 1466
                                  - 1466
                                  c: (- balance amount)
                            keyorder:
                            - balance
                            - amount
                            - data
                            type: '*'
                            i:
                              d:
                              - 82
                              - 1453
                              - 1453
                              c: |-
                                { "balance": (- balance amount), "amount": (- amount)
                                            , "data": data }
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: update
                                    i: null
                                i: null
                            i:
                              d:
                              - 7
                              - 1420
                              - 1420
                              c: 'update '
                          info:
                            d:
                            - 117
                            - 1419
                            - 1419
                            c: |-
                              (update accounts acct
                                          { "balance": (- balance amount), "amount": (- amount)
                                          , "data": data })
                        type: '*'
                        i:
                          d:
                          - 210
                          - 1327
                          - 1327
                          c: |-
                            (with-read accounts acct { "balance":= balance }
                                  (check-balance balance amount)
                                  (update accounts acct
                                        { "balance": (- balance amount), "amount": (- amount)
                                        , "data": data }))
                    pairs:
                    - arg:
                        name: balance
                        type:
                          tag: TypeVar
                          name: v
                          constraint: []
                        info:
                          d:
                          - 8
                          - 1366
                          - 1366
                          c: 'balance '
                      val:
                        i:
                          d:
                          - 9
                          - 1354
                          - 1354
                          c: '"balance"'
                        lit: balance
                    type:
                      bind: '*'
                    i:
                      d:
                      - 30
                      - 1352
                      - 1352
                      c: "{ \"balance\":= balance }\n      "
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: with-read
                        i: null
                    i:
                      d:
                      - 10
                      - 1328
                      - 1328
                      c: 'with-read '
                  info:
                    d:
                    - 210
                    - 1327
                    - 1327
                    c: |-
                      (with-read accounts acct { "balance":= balance }
                            (check-balance balance amount)
                            (update accounts acct
                                  { "balance": (- balance amount), "amount": (- amount)
                                  , "data": data }))
                type: '*'
                i:
                  d:
                  - 379
                  - 1163
                  - 1163
                  c: "(defun debit (acct amount data)\n    \"Debit ACCT for AMOUNT,
                    enforcing positive amount and sufficient funds, annotating with
                    DATA\"\n    (enforce-positive amount)\n    (with-read accounts
                    acct { \"balance\":= balance }\n      (check-balance balance amount)\n
                    \     (update accounts acct\n            { \"balance\": (- balance
                    amount), \"amount\": (- amount)\n            , \"data\": data
                    })))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Debit ACCT for AMOUNT, enforcing positive amount and sufficient
                funds, annotating with DATA
            info:
              d:
              - 379
              - 1163
              - 1163
              c: "(defun debit (acct amount data)\n    \"Debit ACCT for AMOUNT, enforcing
                positive amount and sufficient funds, annotating with DATA\"\n    (enforce-positive
                amount)\n    (with-read accounts acct { \"balance\":= balance }\n
                \     (check-balance balance amount)\n      (update accounts acct\n
                \           { \"balance\": (- balance amount), \"amount\": (- amount)\n
                \           , \"data\": data })))\n\n  "
        account:
          ref:
            modname:
              namespace: null
              name: test1
            name: account
            meta:
              model: []
              docs: null
            i:
              d:
              - 71
              - 92
              - 92
              c: "(defschema account\n    balance:decimal\n    amount:decimal\n    data)\n\n
                \ "
            fields:
            - name: balance
              type: decimal
              info:
                d:
                - 7
                - 115
                - 115
                c: balance
            - name: amount
              type: decimal
              info:
                d:
                - 6
                - 135
                - 135
                c: amount
            - name: data
              type:
                tag: TypeVar
                name: a
                constraint: []
              info:
                d:
                - 4
                - 154
                - 154
                c: data
        credit:
          ref:
            defType: Defun
            funType:
              args:
              - name: acct
                type:
                  tag: TypeVar
                  name: x
                  constraint: []
                info:
                  d:
                  - 5
                  - 1557
                  - 1557
                  c: 'acct '
              - name: amount
                type:
                  tag: TypeVar
                  name: 'y'
                  constraint: []
                info:
                  d:
                  - 7
                  - 1562
                  - 1562
                  c: 'amount '
              - name: data
                type:
                  tag: TypeVar
                  name: z
                  constraint: []
                info:
                  d:
                  - 4
                  - 1569
                  - 1569
                  c: data
              return:
                tag: TypeVar
                name: w
                constraint: []
            defName: credit
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 6
                      - 1653
                      - 1653
                      c: amount
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: ah
                                  constraint: []
                                info:
                                  d:
                                  - 6
                                  - 2067
                                  - 2067
                                  c: amount
                              return:
                                tag: TypeVar
                                name: ag
                                constraint: []
                            defName: enforce-positive
                            defBody:
                              scope:
                                list:
                                - args:
                                  - args:
                                    - var:
                                        b: 0
                                      i:
                                        d:
                                        - 7
                                        - 2092
                                        - 2092
                                        c: 'amount '
                                    - i:
                                        d:
                                        - 3
                                        - 2099
                                        - 2099
                                        c: '0.0'
                                      lit: 0
                                    fun:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: '>='
                                          i: null
                                      i:
                                        d:
                                        - 3
                                        - 2089
                                        - 2089
                                        c: '>= '
                                    info:
                                      d:
                                      - 16
                                      - 2088
                                      - 2088
                                      c: '(>= amount 0.0) '
                                  - i:
                                      d:
                                      - 25
                                      - 2104
                                      - 2104
                                      c: '"amount must be positive"'
                                    lit: amount must be positive
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: enforce
                                        i: null
                                    i:
                                      d:
                                      - 8
                                      - 2080
                                      - 2080
                                      c: 'enforce '
                                  info:
                                    d:
                                    - 51
                                    - 2079
                                    - 2079
                                    c: (enforce (>= amount 0.0) "amount must be positive")
                                type: '*'
                                i:
                                  d:
                                  - 92
                                  - 2042
                                  - 2042
                                  c: "(defun enforce-positive (amount)\n    (enforce
                                    (>= amount 0.0) \"amount must be positive\"))\n\n "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: null
                            info:
                              d:
                              - 92
                              - 2042
                              - 2042
                              c: "(defun enforce-positive (amount)\n    (enforce (>=
                                amount 0.0) \"amount must be positive\"))\n\n "
                        i: null
                    i:
                      d:
                      - 17
                      - 1636
                      - 1636
                      c: 'enforce-positive '
                  info:
                    d:
                    - 30
                    - 1635
                    - 1635
                    c: "(enforce-positive amount)\n    "
                - args:
                  - var:
                      f:
                        var:
                          ref:
                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                            modname:
                              namespace: null
                              name: test1
                            name: accounts
                            meta:
                              model: []
                              docs: null
                            type:
                              var:
                                ref:
                                  modname:
                                    namespace: null
                                    name: test1
                                  name: account
                                  meta:
                                    model: []
                                    docs: null
                                  i:
                                    d:
                                    - 71
                                    - 92
                                    - 92
                                    c: "(defschema account\n    balance:decimal\n
                                      \   amount:decimal\n    data)\n\n  "
                                  fields:
                                  - name: balance
                                    type: decimal
                                    info:
                                      d:
                                      - 7
                                      - 115
                                      - 115
                                      c: balance
                                  - name: amount
                                    type: decimal
                                    info:
                                      d:
                                      - 6
                                      - 135
                                      - 135
                                      c: amount
                                  - name: data
                                    type:
                                      tag: TypeVar
                                      name: a
                                      constraint: []
                                    info:
                                      d:
                                      - 4
                                      - 154
                                      - 154
                                      c: data
                              i: null
                            i:
                              d:
                              - 33
                              - 163
                              - 163
                              c: "(deftable accounts:{account})\n\n  "
                        i: null
                    i:
                      d:
                      - 9
                      - 1676
                      - 1676
                      c: 'accounts '
                  - var:
                      b: 0
                    i:
                      d:
                      - 5
                      - 1685
                      - 1685
                      c: 'acct '
                  - body:
                      scope:
                        list:
                        - args:
                          - var:
                              f:
                                var:
                                  f:
                                    var:
                                      ref:
                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                        modname:
                                          namespace: null
                                          name: test1
                                        name: accounts
                                        meta:
                                          model: []
                                          docs: null
                                        type:
                                          var:
                                            ref:
                                              modname:
                                                namespace: null
                                                name: test1
                                              name: account
                                              meta:
                                                model: []
                                                docs: null
                                              i:
                                                d:
                                                - 71
                                                - 92
                                                - 92
                                                c: "(defschema account\n    balance:decimal\n
                                                  \   amount:decimal\n    data)\n\n
                                                  \ "
                                              fields:
                                              - name: balance
                                                type: decimal
                                                info:
                                                  d:
                                                  - 7
                                                  - 115
                                                  - 115
                                                  c: balance
                                              - name: amount
                                                type: decimal
                                                info:
                                                  d:
                                                  - 6
                                                  - 135
                                                  - 135
                                                  c: amount
                                              - name: data
                                                type:
                                                  tag: TypeVar
                                                  name: a
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 4
                                                  - 154
                                                  - 154
                                                  c: data
                                          i: null
                                        i:
                                          d:
                                          - 33
                                          - 163
                                          - 163
                                          c: "(deftable accounts:{account})\n\n  "
                                    i: null
                                i: null
                            i:
                              d:
                              - 9
                              - 1728
                              - 1728
                              c: 'accounts '
                          - var:
                              f:
                                var:
                                  b: 0
                                i: null
                            i:
                              d:
                              - 17
                              - 1737
                              - 1737
                              c: "acct\n            "
                          - obj:
                              amount:
                                var:
                                  f:
                                    var:
                                      b: 1
                                    i: null
                                i:
                                  d:
                                  - 19
                                  - 1797
                                  - 1797
                                  c: "amount\n            "
                              data:
                                var:
                                  f:
                                    var:
                                      b: 2
                                    i: null
                                i:
                                  d:
                                  - 5
                                  - 1826
                                  - 1826
                                  c: 'data '
                              balance:
                                args:
                                - var:
                                    b: 0
                                  i:
                                    d:
                                    - 8
                                    - 1770
                                    - 1770
                                    c: 'balance '
                                - var:
                                    f:
                                      var:
                                        b: 1
                                      i: null
                                  i:
                                    d:
                                    - 6
                                    - 1778
                                    - 1778
                                    c: amount
                                fun:
                                  var:
                                    f:
                                      var:
                                        f:
                                          var:
                                            direct:
                                              pdnat: +
                                          i: null
                                      i: null
                                  i:
                                    d:
                                    - 2
                                    - 1768
                                    - 1768
                                    c: '+ '
                                info:
                                  d:
                                  - 18
                                  - 1767
                                  - 1767
                                  c: (+ balance amount)
                            keyorder:
                            - balance
                            - amount
                            - data
                            type: '*'
                            i:
                              d:
                              - 78
                              - 1754
                              - 1754
                              c: |-
                                { "balance": (+ balance amount), "amount": amount
                                            , "data": data }
                          fun:
                            var:
                              f:
                                var:
                                  f:
                                    var:
                                      direct:
                                        pdnat: update
                                    i: null
                                i: null
                            i:
                              d:
                              - 7
                              - 1721
                              - 1721
                              c: 'update '
                          info:
                            d:
                            - 113
                            - 1720
                            - 1720
                            c: |-
                              (update accounts acct
                                          { "balance": (+ balance amount), "amount": amount
                                          , "data": data })
                        type: '*'
                        i:
                          d:
                          - 169
                          - 1665
                          - 1665
                          c: |-
                            (with-read accounts acct { "balance":= balance }
                                  (update accounts acct
                                        { "balance": (+ balance amount), "amount": amount
                                        , "data": data }))
                    pairs:
                    - arg:
                        name: balance
                        type:
                          tag: TypeVar
                          name: aa
                          constraint: []
                        info:
                          d:
                          - 8
                          - 1704
                          - 1704
                          c: 'balance '
                      val:
                        i:
                          d:
                          - 9
                          - 1692
                          - 1692
                          c: '"balance"'
                        lit: balance
                    type:
                      bind: '*'
                    i:
                      d:
                      - 30
                      - 1690
                      - 1690
                      c: "{ \"balance\":= balance }\n      "
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: with-read
                        i: null
                    i:
                      d:
                      - 10
                      - 1666
                      - 1666
                      c: 'with-read '
                  info:
                    d:
                    - 169
                    - 1665
                    - 1665
                    c: |-
                      (with-read accounts acct { "balance":= balance }
                            (update accounts acct
                                  { "balance": (+ balance amount), "amount": amount
                                  , "data": data }))
                type: '*'
                i:
                  d:
                  - 298
                  - 1542
                  - 1542
                  c: "(defun credit (acct amount data)\n    \"Credit ACCT for AMOUNT,
                    enforcing positive amount\"\n    (enforce-positive amount)\n    (with-read
                    accounts acct { \"balance\":= balance }\n      (update accounts
                    acct\n            { \"balance\": (+ balance amount), \"amount\":
                    amount\n            , \"data\": data })))\n\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: Credit ACCT for AMOUNT, enforcing positive amount
            info:
              d:
              - 298
              - 1542
              - 1542
              c: "(defun credit (acct amount data)\n    \"Credit ACCT for AMOUNT,
                enforcing positive amount\"\n    (enforce-positive amount)\n    (with-read
                accounts acct { \"balance\":= balance }\n      (update accounts acct\n
                \           { \"balance\": (+ balance amount), \"amount\": amount\n
                \           , \"data\": data })))\n\n\n  "
        check-balance:
          ref:
            defType: Defun
            funType:
              args:
              - name: balance
                type:
                  tag: TypeVar
                  name: ae
                  constraint: []
                info:
                  d:
                  - 8
                  - 1967
                  - 1967
                  c: 'balance '
              - name: amount
                type:
                  tag: TypeVar
                  name: af
                  constraint: []
                info:
                  d:
                  - 6
                  - 1975
                  - 1975
                  c: amount
              return:
                tag: TypeVar
                name: ad
                constraint: []
            defName: check-balance
            defBody:
              scope:
                list:
                - args:
                  - args:
                    - var:
                        b: 1
                      i:
                        d:
                        - 7
                        - 2000
                        - 2000
                        c: 'amount '
                    - var:
                        b: 0
                      i:
                        d:
                        - 7
                        - 2007
                        - 2007
                        c: balance
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: <=
                          i: null
                      i:
                        d:
                        - 3
                        - 1997
                        - 1997
                        c: '<= '
                    info:
                      d:
                      - 20
                      - 1996
                      - 1996
                      c: '(<= amount balance) '
                  - i:
                      d:
                      - 20
                      - 2016
                      - 2016
                      c: '"Insufficient funds"'
                    lit: Insufficient funds
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: enforce
                        i: null
                    i:
                      d:
                      - 8
                      - 1988
                      - 1988
                      c: 'enforce '
                  info:
                    d:
                    - 50
                    - 1987
                    - 1987
                    c: (enforce (<= amount balance) "Insufficient funds")
                type: '*'
                i:
                  d:
                  - 97
                  - 1945
                  - 1945
                  c: "(defun check-balance (balance amount)\n    (enforce (<= amount
                    balance) \"Insufficient funds\"))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 97
              - 1945
              - 1945
              c: "(defun check-balance (balance amount)\n    (enforce (<= amount balance)
                \"Insufficient funds\"))\n\n  "
        enforce-positive:
          ref:
            defType: Defun
            funType:
              args:
              - name: amount
                type:
                  tag: TypeVar
                  name: ah
                  constraint: []
                info:
                  d:
                  - 6
                  - 2067
                  - 2067
                  c: amount
              return:
                tag: TypeVar
                name: ag
                constraint: []
            defName: enforce-positive
            defBody:
              scope:
                list:
                - args:
                  - args:
                    - var:
                        b: 0
                      i:
                        d:
                        - 7
                        - 2092
                        - 2092
                        c: 'amount '
                    - i:
                        d:
                        - 3
                        - 2099
                        - 2099
                        c: '0.0'
                      lit: 0
                    fun:
                      var:
                        f:
                          var:
                            direct:
                              pdnat: '>='
                          i: null
                      i:
                        d:
                        - 3
                        - 2089
                        - 2089
                        c: '>= '
                    info:
                      d:
                      - 16
                      - 2088
                      - 2088
                      c: '(>= amount 0.0) '
                  - i:
                      d:
                      - 25
                      - 2104
                      - 2104
                      c: '"amount must be positive"'
                    lit: amount must be positive
                  fun:
                    var:
                      f:
                        var:
                          direct:
                            pdnat: enforce
                        i: null
                    i:
                      d:
                      - 8
                      - 2080
                      - 2080
                      c: 'enforce '
                  info:
                    d:
                    - 51
                    - 2079
                    - 2079
                    c: (enforce (>= amount 0.0) "amount must be positive")
                type: '*'
                i:
                  d:
                  - 92
                  - 2042
                  - 2042
                  c: "(defun enforce-positive (amount)\n    (enforce (>= amount 0.0)
                    \"amount must be positive\"))\n\n "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: null
            info:
              d:
              - 92
              - 2042
              - 2042
              c: "(defun enforce-positive (amount)\n    (enforce (>= amount 0.0) \"amount
                must be positive\"))\n\n "
        transfer:
          ref:
            defType: Defun
            funType:
              args:
              - name: src
                type:
                  tag: TypeVar
                  name: f
                  constraint: []
                info:
                  d:
                  - 4
                  - 358
                  - 358
                  c: 'src '
              - name: dest
                type:
                  tag: TypeVar
                  name: g
                  constraint: []
                info:
                  d:
                  - 5
                  - 362
                  - 362
                  c: 'dest '
              - name: amount
                type:
                  tag: TypeVar
                  name: h
                  constraint: []
                info:
                  d:
                  - 6
                  - 367
                  - 367
                  c: amount
              return:
                tag: TypeVar
                name: e
                constraint: []
            defName: transfer
            defBody:
              scope:
                list:
                - args:
                  - var:
                      b: 0
                    i:
                      d:
                      - 4
                      - 450
                      - 450
                      c: 'src '
                  - var:
                      b: 2
                    i:
                      d:
                      - 7
                      - 454
                      - 454
                      c: 'amount '
                  - obj:
                      transfer-to:
                        var:
                          b: 1
                        i:
                          d:
                          - 5
                          - 478
                          - 478
                          c: 'dest '
                    keyorder:
                    - transfer-to
                    type: '*'
                    i:
                      d:
                      - 23
                      - 461
                      - 461
                      c: '{ "transfer-to": dest }'
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: acct
                                type:
                                  tag: TypeVar
                                  name: s
                                  constraint: []
                                info:
                                  d:
                                  - 5
                                  - 1177
                                  - 1177
                                  c: 'acct '
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: t
                                  constraint: []
                                info:
                                  d:
                                  - 7
                                  - 1182
                                  - 1182
                                  c: 'amount '
                              - name: data
                                type:
                                  tag: TypeVar
                                  name: u
                                  constraint: []
                                info:
                                  d:
                                  - 4
                                  - 1189
                                  - 1189
                                  c: data
                              return:
                                tag: TypeVar
                                name: r
                                constraint: []
                            defName: debit
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      b: 1
                                    i:
                                      d:
                                      - 6
                                      - 1315
                                      - 1315
                                      c: amount
                                  fun:
                                    var:
                                      f:
                                        var:
                                          ref:
                                            defType: Defun
                                            funType:
                                              args:
                                              - name: amount
                                                type:
                                                  tag: TypeVar
                                                  name: ah
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 6
                                                  - 2067
                                                  - 2067
                                                  c: amount
                                              return:
                                                tag: TypeVar
                                                name: ag
                                                constraint: []
                                            defName: enforce-positive
                                            defBody:
                                              scope:
                                                list:
                                                - args:
                                                  - args:
                                                    - var:
                                                        b: 0
                                                      i:
                                                        d:
                                                        - 7
                                                        - 2092
                                                        - 2092
                                                        c: 'amount '
                                                    - i:
                                                        d:
                                                        - 3
                                                        - 2099
                                                        - 2099
                                                        c: '0.0'
                                                      lit: 0
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '>='
                                                          i: null
                                                      i:
                                                        d:
                                                        - 3
                                                        - 2089
                                                        - 2089
                                                        c: '>= '
                                                    info:
                                                      d:
                                                      - 16
                                                      - 2088
                                                      - 2088
                                                      c: '(>= amount 0.0) '
                                                  - i:
                                                      d:
                                                      - 25
                                                      - 2104
                                                      - 2104
                                                      c: '"amount must be positive"'
                                                    lit: amount must be positive
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          direct:
                                                            pdnat: enforce
                                                        i: null
                                                    i:
                                                      d:
                                                      - 8
                                                      - 2080
                                                      - 2080
                                                      c: 'enforce '
                                                  info:
                                                    d:
                                                    - 51
                                                    - 2079
                                                    - 2079
                                                    c: (enforce (>= amount 0.0) "amount
                                                      must be positive")
                                                type: '*'
                                                i:
                                                  d:
                                                  - 92
                                                  - 2042
                                                  - 2042
                                                  c: "(defun enforce-positive (amount)\n
                                                    \   (enforce (>= amount 0.0) \"amount
                                                    must be positive\"))\n\n "
                                            module:
                                              namespace: null
                                              name: test1
                                            meta:
                                              model: []
                                              docs: null
                                            info:
                                              d:
                                              - 92
                                              - 2042
                                              - 2042
                                              c: "(defun enforce-positive (amount)\n
                                                \   (enforce (>= amount 0.0) \"amount
                                                must be positive\"))\n\n "
                                        i: null
                                    i:
                                      d:
                                      - 17
                                      - 1298
                                      - 1298
                                      c: 'enforce-positive '
                                  info:
                                    d:
                                    - 30
                                    - 1297
                                    - 1297
                                    c: "(enforce-positive amount)\n    "
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 1338
                                      - 1338
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 5
                                      - 1347
                                      - 1347
                                      c: 'acct '
                                  - body:
                                      scope:
                                        list:
                                        - args:
                                          - var:
                                              b: 0
                                            i:
                                              d:
                                              - 8
                                              - 1397
                                              - 1397
                                              c: 'balance '
                                          - var:
                                              f:
                                                var:
                                                  b: 1
                                                i: null
                                            i:
                                              d:
                                              - 6
                                              - 1405
                                              - 1405
                                              c: amount
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        defType: Defun
                                                        funType:
                                                          args:
                                                          - name: balance
                                                            type:
                                                              tag: TypeVar
                                                              name: ae
                                                              constraint: []
                                                            info:
                                                              d:
                                                              - 8
                                                              - 1967
                                                              - 1967
                                                              c: 'balance '
                                                          - name: amount
                                                            type:
                                                              tag: TypeVar
                                                              name: af
                                                              constraint: []
                                                            info:
                                                              d:
                                                              - 6
                                                              - 1975
                                                              - 1975
                                                              c: amount
                                                          return:
                                                            tag: TypeVar
                                                            name: ad
                                                            constraint: []
                                                        defName: check-balance
                                                        defBody:
                                                          scope:
                                                            list:
                                                            - args:
                                                              - args:
                                                                - var:
                                                                    b: 1
                                                                  i:
                                                                    d:
                                                                    - 7
                                                                    - 2000
                                                                    - 2000
                                                                    c: 'amount '
                                                                - var:
                                                                    b: 0
                                                                  i:
                                                                    d:
                                                                    - 7
                                                                    - 2007
                                                                    - 2007
                                                                    c: balance
                                                                fun:
                                                                  var:
                                                                    f:
                                                                      var:
                                                                        direct:
                                                                          pdnat: <=
                                                                      i: null
                                                                  i:
                                                                    d:
                                                                    - 3
                                                                    - 1997
                                                                    - 1997
                                                                    c: '<= '
                                                                info:
                                                                  d:
                                                                  - 20
                                                                  - 1996
                                                                  - 1996
                                                                  c: '(<= amount balance) '
                                                              - i:
                                                                  d:
                                                                  - 20
                                                                  - 2016
                                                                  - 2016
                                                                  c: '"Insufficient
                                                                    funds"'
                                                                lit: Insufficient
                                                                  funds
                                                              fun:
                                                                var:
                                                                  f:
                                                                    var:
                                                                      direct:
                                                                        pdnat: enforce
                                                                    i: null
                                                                i:
                                                                  d:
                                                                  - 8
                                                                  - 1988
                                                                  - 1988
                                                                  c: 'enforce '
                                                              info:
                                                                d:
                                                                - 50
                                                                - 1987
                                                                - 1987
                                                                c: (enforce (<= amount
                                                                  balance) "Insufficient
                                                                  funds")
                                                            type: '*'
                                                            i:
                                                              d:
                                                              - 97
                                                              - 1945
                                                              - 1945
                                                              c: "(defun check-balance
                                                                (balance amount)\n
                                                                \   (enforce (<= amount
                                                                balance) \"Insufficient
                                                                funds\"))\n\n  "
                                                        module:
                                                          namespace: null
                                                          name: test1
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        info:
                                                          d:
                                                          - 97
                                                          - 1945
                                                          - 1945
                                                          c: "(defun check-balance
                                                            (balance amount)\n    (enforce
                                                            (<= amount balance) \"Insufficient
                                                            funds\"))\n\n  "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 14
                                              - 1383
                                              - 1383
                                              c: 'check-balance '
                                          info:
                                            d:
                                            - 37
                                            - 1382
                                            - 1382
                                            c: "(check-balance balance amount)\n      "
                                        - args:
                                          - var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: accounts
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        type:
                                                          var:
                                                            ref:
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: account
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              i:
                                                                d:
                                                                - 71
                                                                - 92
                                                                - 92
                                                                c: "(defschema account\n
                                                                  \   balance:decimal\n
                                                                  \   amount:decimal\n
                                                                  \   data)\n\n  "
                                                              fields:
                                                              - name: balance
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 7
                                                                  - 115
                                                                  - 115
                                                                  c: balance
                                                              - name: amount
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 6
                                                                  - 135
                                                                  - 135
                                                                  c: amount
                                                              - name: data
                                                                type:
                                                                  tag: TypeVar
                                                                  name: a
                                                                  constraint: []
                                                                info:
                                                                  d:
                                                                  - 4
                                                                  - 154
                                                                  - 154
                                                                  c: data
                                                          i: null
                                                        i:
                                                          d:
                                                          - 33
                                                          - 163
                                                          - 163
                                                          c: "(deftable accounts:{account})\n\n
                                                            \ "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 9
                                              - 1427
                                              - 1427
                                              c: 'accounts '
                                          - var:
                                              f:
                                                var:
                                                  b: 0
                                                i: null
                                            i:
                                              d:
                                              - 17
                                              - 1436
                                              - 1436
                                              c: "acct\n            "
                                          - obj:
                                              amount:
                                                args:
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1499
                                                    - 1499
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '-'
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1497
                                                    - 1497
                                                    c: '- '
                                                info:
                                                  d:
                                                  - 23
                                                  - 1496
                                                  - 1496
                                                  c: "(- amount)\n            "
                                              data:
                                                var:
                                                  f:
                                                    var:
                                                      b: 2
                                                    i: null
                                                i:
                                                  d:
                                                  - 5
                                                  - 1529
                                                  - 1529
                                                  c: 'data '
                                              balance:
                                                args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1469
                                                    - 1469
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1477
                                                    - 1477
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '-'
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1467
                                                    - 1467
                                                    c: '- '
                                                info:
                                                  d:
                                                  - 18
                                                  - 1466
                                                  - 1466
                                                  c: (- balance amount)
                                            keyorder:
                                            - balance
                                            - amount
                                            - data
                                            type: '*'
                                            i:
                                              d:
                                              - 82
                                              - 1453
                                              - 1453
                                              c: |-
                                                { "balance": (- balance amount), "amount": (- amount)
                                                            , "data": data }
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: update
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 7
                                              - 1420
                                              - 1420
                                              c: 'update '
                                          info:
                                            d:
                                            - 117
                                            - 1419
                                            - 1419
                                            c: |-
                                              (update accounts acct
                                                          { "balance": (- balance amount), "amount": (- amount)
                                                          , "data": data })
                                        type: '*'
                                        i:
                                          d:
                                          - 210
                                          - 1327
                                          - 1327
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (check-balance balance amount)
                                                  (update accounts acct
                                                        { "balance": (- balance amount), "amount": (- amount)
                                                        , "data": data }))
                                    pairs:
                                    - arg:
                                        name: balance
                                        type:
                                          tag: TypeVar
                                          name: v
                                          constraint: []
                                        info:
                                          d:
                                          - 8
                                          - 1366
                                          - 1366
                                          c: 'balance '
                                      val:
                                        i:
                                          d:
                                          - 9
                                          - 1354
                                          - 1354
                                          c: '"balance"'
                                        lit: balance
                                    type:
                                      bind: '*'
                                    i:
                                      d:
                                      - 30
                                      - 1352
                                      - 1352
                                      c: "{ \"balance\":= balance }\n      "
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: with-read
                                        i: null
                                    i:
                                      d:
                                      - 10
                                      - 1328
                                      - 1328
                                      c: 'with-read '
                                  info:
                                    d:
                                    - 210
                                    - 1327
                                    - 1327
                                    c: |-
                                      (with-read accounts acct { "balance":= balance }
                                            (check-balance balance amount)
                                            (update accounts acct
                                                  { "balance": (- balance amount), "amount": (- amount)
                                                  , "data": data }))
                                type: '*'
                                i:
                                  d:
                                  - 379
                                  - 1163
                                  - 1163
                                  c: "(defun debit (acct amount data)\n    \"Debit
                                    ACCT for AMOUNT, enforcing positive amount and
                                    sufficient funds, annotating with DATA\"\n    (enforce-positive
                                    amount)\n    (with-read accounts acct { \"balance\":=
                                    balance }\n      (check-balance balance amount)\n
                                    \     (update accounts acct\n            { \"balance\":
                                    (- balance amount), \"amount\": (- amount)\n            ,
                                    \"data\": data })))\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: Debit ACCT for AMOUNT, enforcing positive amount
                                and sufficient funds, annotating with DATA
                            info:
                              d:
                              - 379
                              - 1163
                              - 1163
                              c: "(defun debit (acct amount data)\n    \"Debit ACCT
                                for AMOUNT, enforcing positive amount and sufficient
                                funds, annotating with DATA\"\n    (enforce-positive
                                amount)\n    (with-read accounts acct { \"balance\":=
                                balance }\n      (check-balance balance amount)\n
                                \     (update accounts acct\n            { \"balance\":
                                (- balance amount), \"amount\": (- amount)\n            ,
                                \"data\": data })))\n\n  "
                        i: null
                    i:
                      d:
                      - 6
                      - 444
                      - 444
                      c: 'debit '
                  info:
                    d:
                    - 47
                    - 443
                    - 443
                    c: "(debit src amount { \"transfer-to\": dest })\n    "
                - args:
                  - var:
                      b: 1
                    i:
                      d:
                      - 5
                      - 498
                      - 498
                      c: 'dest '
                  - var:
                      b: 2
                    i:
                      d:
                      - 7
                      - 503
                      - 503
                      c: 'amount '
                  - obj:
                      transfer-from:
                        var:
                          b: 0
                        i:
                          d:
                          - 4
                          - 529
                          - 529
                          c: 'src '
                    keyorder:
                    - transfer-from
                    type: '*'
                    i:
                      d:
                      - 24
                      - 510
                      - 510
                      c: '{ "transfer-from": src }'
                  fun:
                    var:
                      f:
                        var:
                          ref:
                            defType: Defun
                            funType:
                              args:
                              - name: acct
                                type:
                                  tag: TypeVar
                                  name: x
                                  constraint: []
                                info:
                                  d:
                                  - 5
                                  - 1557
                                  - 1557
                                  c: 'acct '
                              - name: amount
                                type:
                                  tag: TypeVar
                                  name: 'y'
                                  constraint: []
                                info:
                                  d:
                                  - 7
                                  - 1562
                                  - 1562
                                  c: 'amount '
                              - name: data
                                type:
                                  tag: TypeVar
                                  name: z
                                  constraint: []
                                info:
                                  d:
                                  - 4
                                  - 1569
                                  - 1569
                                  c: data
                              return:
                                tag: TypeVar
                                name: w
                                constraint: []
                            defName: credit
                            defBody:
                              scope:
                                list:
                                - args:
                                  - var:
                                      b: 1
                                    i:
                                      d:
                                      - 6
                                      - 1653
                                      - 1653
                                      c: amount
                                  fun:
                                    var:
                                      f:
                                        var:
                                          ref:
                                            defType: Defun
                                            funType:
                                              args:
                                              - name: amount
                                                type:
                                                  tag: TypeVar
                                                  name: ah
                                                  constraint: []
                                                info:
                                                  d:
                                                  - 6
                                                  - 2067
                                                  - 2067
                                                  c: amount
                                              return:
                                                tag: TypeVar
                                                name: ag
                                                constraint: []
                                            defName: enforce-positive
                                            defBody:
                                              scope:
                                                list:
                                                - args:
                                                  - args:
                                                    - var:
                                                        b: 0
                                                      i:
                                                        d:
                                                        - 7
                                                        - 2092
                                                        - 2092
                                                        c: 'amount '
                                                    - i:
                                                        d:
                                                        - 3
                                                        - 2099
                                                        - 2099
                                                        c: '0.0'
                                                      lit: 0
                                                    fun:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: '>='
                                                          i: null
                                                      i:
                                                        d:
                                                        - 3
                                                        - 2089
                                                        - 2089
                                                        c: '>= '
                                                    info:
                                                      d:
                                                      - 16
                                                      - 2088
                                                      - 2088
                                                      c: '(>= amount 0.0) '
                                                  - i:
                                                      d:
                                                      - 25
                                                      - 2104
                                                      - 2104
                                                      c: '"amount must be positive"'
                                                    lit: amount must be positive
                                                  fun:
                                                    var:
                                                      f:
                                                        var:
                                                          direct:
                                                            pdnat: enforce
                                                        i: null
                                                    i:
                                                      d:
                                                      - 8
                                                      - 2080
                                                      - 2080
                                                      c: 'enforce '
                                                  info:
                                                    d:
                                                    - 51
                                                    - 2079
                                                    - 2079
                                                    c: (enforce (>= amount 0.0) "amount
                                                      must be positive")
                                                type: '*'
                                                i:
                                                  d:
                                                  - 92
                                                  - 2042
                                                  - 2042
                                                  c: "(defun enforce-positive (amount)\n
                                                    \   (enforce (>= amount 0.0) \"amount
                                                    must be positive\"))\n\n "
                                            module:
                                              namespace: null
                                              name: test1
                                            meta:
                                              model: []
                                              docs: null
                                            info:
                                              d:
                                              - 92
                                              - 2042
                                              - 2042
                                              c: "(defun enforce-positive (amount)\n
                                                \   (enforce (>= amount 0.0) \"amount
                                                must be positive\"))\n\n "
                                        i: null
                                    i:
                                      d:
                                      - 17
                                      - 1636
                                      - 1636
                                      c: 'enforce-positive '
                                  info:
                                    d:
                                    - 30
                                    - 1635
                                    - 1635
                                    c: "(enforce-positive amount)\n    "
                                - args:
                                  - var:
                                      f:
                                        var:
                                          ref:
                                            hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                            modname:
                                              namespace: null
                                              name: test1
                                            name: accounts
                                            meta:
                                              model: []
                                              docs: null
                                            type:
                                              var:
                                                ref:
                                                  modname:
                                                    namespace: null
                                                    name: test1
                                                  name: account
                                                  meta:
                                                    model: []
                                                    docs: null
                                                  i:
                                                    d:
                                                    - 71
                                                    - 92
                                                    - 92
                                                    c: "(defschema account\n    balance:decimal\n
                                                      \   amount:decimal\n    data)\n\n
                                                      \ "
                                                  fields:
                                                  - name: balance
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 7
                                                      - 115
                                                      - 115
                                                      c: balance
                                                  - name: amount
                                                    type: decimal
                                                    info:
                                                      d:
                                                      - 6
                                                      - 135
                                                      - 135
                                                      c: amount
                                                  - name: data
                                                    type:
                                                      tag: TypeVar
                                                      name: a
                                                      constraint: []
                                                    info:
                                                      d:
                                                      - 4
                                                      - 154
                                                      - 154
                                                      c: data
                                              i: null
                                            i:
                                              d:
                                              - 33
                                              - 163
                                              - 163
                                              c: "(deftable accounts:{account})\n\n
                                                \ "
                                        i: null
                                    i:
                                      d:
                                      - 9
                                      - 1676
                                      - 1676
                                      c: 'accounts '
                                  - var:
                                      b: 0
                                    i:
                                      d:
                                      - 5
                                      - 1685
                                      - 1685
                                      c: 'acct '
                                  - body:
                                      scope:
                                        list:
                                        - args:
                                          - var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      ref:
                                                        hash: B6ZJgfWD5obPGmYc_iRKirDMP6-UGm2pUV7mtHD-RsQ
                                                        modname:
                                                          namespace: null
                                                          name: test1
                                                        name: accounts
                                                        meta:
                                                          model: []
                                                          docs: null
                                                        type:
                                                          var:
                                                            ref:
                                                              modname:
                                                                namespace: null
                                                                name: test1
                                                              name: account
                                                              meta:
                                                                model: []
                                                                docs: null
                                                              i:
                                                                d:
                                                                - 71
                                                                - 92
                                                                - 92
                                                                c: "(defschema account\n
                                                                  \   balance:decimal\n
                                                                  \   amount:decimal\n
                                                                  \   data)\n\n  "
                                                              fields:
                                                              - name: balance
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 7
                                                                  - 115
                                                                  - 115
                                                                  c: balance
                                                              - name: amount
                                                                type: decimal
                                                                info:
                                                                  d:
                                                                  - 6
                                                                  - 135
                                                                  - 135
                                                                  c: amount
                                                              - name: data
                                                                type:
                                                                  tag: TypeVar
                                                                  name: a
                                                                  constraint: []
                                                                info:
                                                                  d:
                                                                  - 4
                                                                  - 154
                                                                  - 154
                                                                  c: data
                                                          i: null
                                                        i:
                                                          d:
                                                          - 33
                                                          - 163
                                                          - 163
                                                          c: "(deftable accounts:{account})\n\n
                                                            \ "
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 9
                                              - 1728
                                              - 1728
                                              c: 'accounts '
                                          - var:
                                              f:
                                                var:
                                                  b: 0
                                                i: null
                                            i:
                                              d:
                                              - 17
                                              - 1737
                                              - 1737
                                              c: "acct\n            "
                                          - obj:
                                              amount:
                                                var:
                                                  f:
                                                    var:
                                                      b: 1
                                                    i: null
                                                i:
                                                  d:
                                                  - 19
                                                  - 1797
                                                  - 1797
                                                  c: "amount\n            "
                                              data:
                                                var:
                                                  f:
                                                    var:
                                                      b: 2
                                                    i: null
                                                i:
                                                  d:
                                                  - 5
                                                  - 1826
                                                  - 1826
                                                  c: 'data '
                                              balance:
                                                args:
                                                - var:
                                                    b: 0
                                                  i:
                                                    d:
                                                    - 8
                                                    - 1770
                                                    - 1770
                                                    c: 'balance '
                                                - var:
                                                    f:
                                                      var:
                                                        b: 1
                                                      i: null
                                                  i:
                                                    d:
                                                    - 6
                                                    - 1778
                                                    - 1778
                                                    c: amount
                                                fun:
                                                  var:
                                                    f:
                                                      var:
                                                        f:
                                                          var:
                                                            direct:
                                                              pdnat: +
                                                          i: null
                                                      i: null
                                                  i:
                                                    d:
                                                    - 2
                                                    - 1768
                                                    - 1768
                                                    c: '+ '
                                                info:
                                                  d:
                                                  - 18
                                                  - 1767
                                                  - 1767
                                                  c: (+ balance amount)
                                            keyorder:
                                            - balance
                                            - amount
                                            - data
                                            type: '*'
                                            i:
                                              d:
                                              - 78
                                              - 1754
                                              - 1754
                                              c: |-
                                                { "balance": (+ balance amount), "amount": amount
                                                            , "data": data }
                                          fun:
                                            var:
                                              f:
                                                var:
                                                  f:
                                                    var:
                                                      direct:
                                                        pdnat: update
                                                    i: null
                                                i: null
                                            i:
                                              d:
                                              - 7
                                              - 1721
                                              - 1721
                                              c: 'update '
                                          info:
                                            d:
                                            - 113
                                            - 1720
                                            - 1720
                                            c: |-
                                              (update accounts acct
                                                          { "balance": (+ balance amount), "amount": amount
                                                          , "data": data })
                                        type: '*'
                                        i:
                                          d:
                                          - 169
                                          - 1665
                                          - 1665
                                          c: |-
                                            (with-read accounts acct { "balance":= balance }
                                                  (update accounts acct
                                                        { "balance": (+ balance amount), "amount": amount
                                                        , "data": data }))
                                    pairs:
                                    - arg:
                                        name: balance
                                        type:
                                          tag: TypeVar
                                          name: aa
                                          constraint: []
                                        info:
                                          d:
                                          - 8
                                          - 1704
                                          - 1704
                                          c: 'balance '
                                      val:
                                        i:
                                          d:
                                          - 9
                                          - 1692
                                          - 1692
                                          c: '"balance"'
                                        lit: balance
                                    type:
                                      bind: '*'
                                    i:
                                      d:
                                      - 30
                                      - 1690
                                      - 1690
                                      c: "{ \"balance\":= balance }\n      "
                                  fun:
                                    var:
                                      f:
                                        var:
                                          direct:
                                            pdnat: with-read
                                        i: null
                                    i:
                                      d:
                                      - 10
                                      - 1666
                                      - 1666
                                      c: 'with-read '
                                  info:
                                    d:
                                    - 169
                                    - 1665
                                    - 1665
                                    c: |-
                                      (with-read accounts acct { "balance":= balance }
                                            (update accounts acct
                                                  { "balance": (+ balance amount), "amount": amount
                                                  , "data": data }))
                                type: '*'
                                i:
                                  d:
                                  - 298
                                  - 1542
                                  - 1542
                                  c: "(defun credit (acct amount data)\n    \"Credit
                                    ACCT for AMOUNT, enforcing positive amount\"\n
                                    \   (enforce-positive amount)\n    (with-read
                                    accounts acct { \"balance\":= balance }\n      (update
                                    accounts acct\n            { \"balance\": (+ balance
                                    amount), \"amount\": amount\n            , \"data\":
                                    data })))\n\n\n  "
                            module:
                              namespace: null
                              name: test1
                            meta:
                              model: []
                              docs: Credit ACCT for AMOUNT, enforcing positive amount
                            info:
                              d:
                              - 298
                              - 1542
                              - 1542
                              c: "(defun credit (acct amount data)\n    \"Credit ACCT
                                for AMOUNT, enforcing positive amount\"\n    (enforce-positive
                                amount)\n    (with-read accounts acct { \"balance\":=
                                balance }\n      (update accounts acct\n            {
                                \"balance\": (+ balance amount), \"amount\": amount\n
                                \           , \"data\": data })))\n\n\n  "
                        i: null
                    i:
                      d:
                      - 7
                      - 491
                      - 491
                      c: 'credit '
                  info:
                    d:
                    - 45
                    - 490
                    - 490
                    c: '(credit dest amount { "transfer-from": src })'
                type: '*'
                i:
                  d:
                  - 199
                  - 341
                  - 341
                  c: "(defun transfer (src dest amount)\n    \"transfer AMOUNT from
                    SRC to DEST for unencrypted accounts\"\n    (debit src amount
                    { \"transfer-to\": dest })\n    (credit dest amount { \"transfer-from\":
                    src }))\n\n  "
            module:
              namespace: null
              name: test1
            meta:
              model: []
              docs: transfer AMOUNT from SRC to DEST for unencrypted accounts
            info:
              d:
              - 199
              - 341
              - 341
              c: "(defun transfer (src dest amount)\n    \"transfer AMOUNT from SRC
                to DEST for unencrypted accounts\"\n    (debit src amount { \"transfer-to\":
                dest })\n    (credit dest amount { \"transfer-from\": src }))\n\n
                \ "
    key: test1
    table: SYS_modules
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42.02
    key: miner
    table: USER_coin_coin-table
  cmd:
    tag: File
    contents: test1.pact
- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.97
    key: sender00
    table: USER_coin_coin-table
  - value:
      utModule:
        namespace: null
        name: test1
    key: test1_accounts
    table: SYS_usertables
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.97
    key: sender00
    table: USER_coin_coin-table
  - value:
      utModule:
        namespace: null
        name: test1
    key: test1_accounts
    table: SYS_usertables
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42.03
    key: miner
    table: USER_coin_coin-table
  cmd:
    tag: Code
    contents: (create-table test1.accounts)
- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.96
    key: sender00
    table: USER_coin_coin-table
  - value:
      amount: 1000000
      data: Created account
      balance: 1000000
    key: Acct1
    table: USER_test1_accounts
  - value:
      amount: 0
      data: Created account
      balance: 0
    key: Acct2
    table: USER_test1_accounts
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.96
    key: sender00
    table: USER_coin_coin-table
  - value:
      amount: 1000000
      data: Created account
      balance: 1000000
    key: Acct1
    table: USER_test1_accounts
  - value:
      amount: 0
      data: Created account
      balance: 0
    key: Acct2
    table: USER_test1_accounts
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42.04
    key: miner
    table: USER_coin_coin-table
  cmd:
    tag: Code
    contents: (test1.create-global-accounts)
- output:
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.95
    key: sender00
    table: USER_coin_coin-table
  - value:
      amount: -1
      data:
        transfer-to: Acct2
      balance: 999999
    key: Acct1
    table: USER_test1_accounts
  - value:
      amount: 1
      data:
        transfer-from: Acct1
      balance: 1
    key: Acct2
    table: USER_test1_accounts
  - value:
      guard:
        pred: keys-all
        keys:
        - 368820f80c324bbc7c2b0610688a7da43e39f91d118732671cd9c7500ff43cca
      balance: 999.95
    key: sender00
    table: USER_coin_coin-table
  - value:
      amount: -1
      data:
        transfer-to: Acct2
      balance: 999999
    key: Acct1
    table: USER_test1_accounts
  - value:
      amount: 1
      data:
        transfer-from: Acct1
      balance: 1
    key: Acct2
    table: USER_test1_accounts
  - value:
      guard:
        pred: keys-all
        keys:
        - f880a433d6e2a13a32b6169030f56245efdd8c1b8a5027e9ce98a88e886bef27
      balance: 42.05
    key: miner
    table: USER_coin_coin-table
  cmd:
    tag: Code
    contents: (test1.transfer "Acct1" "Acct2" 1.00)
